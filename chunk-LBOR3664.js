import{b as Y}from"./chunk-4T6P7HDD.js";import{a as Z,c as $,d as ee,f as te,g as ne,h as ie,j as oe,m as re,n as ae}from"./chunk-XOWXSE64.js";import"./chunk-4KIH77MQ.js";import{b as E,d as P,e as R,i as K}from"./chunk-Y5N5VK5X.js";import{m as G,n as z,q as J}from"./chunk-7IWRXNGT.js";import{D as N,H as A,P as q,Y as Q,d as j,da as U,n as V,na as X,t as D,v as W,w as H}from"./chunk-SCJWCTBV.js";import{$a as I,$b as L,Ab as u,Gb as h,Ib as p,Jb as c,Oa as x,Ra as n,Yb as M,Zb as F,_b as T,ac as O,bc as k,da as d,db as B,hc as C,ia as b,ic as S,ja as v,rb as _,sb as y,ua as w,xb as l,yb as r,zb as a}from"./chunk-OPOL2C2X.js";import"./chunk-HZ6M6AS2.js";function se(s,g){if(s&1){let t=h();r(0,"lab-form-field",7)(1,"lab-select",21),p("ngModelChange",function(e){b(t);let i=c();return v(i.setMod(e))}),a()()}if(s&2){let t=c();n(),l("options",t.modOptions())("filter",!0)("ngModel",g)}}function de(s,g){s&1&&u(0,"hr",14)}function pe(s,g){if(s&1){let t=h();r(0,"div",15),u(1,"fa-icon",22),r(2,"lab-select",23),p("valueChange",function(e){b(t);let i=c();return v(i.setState(i.states()[e]))}),a()()}if(s&2){let t=c();n(),l("icon",t.faFileImport),n(),l("options",t.stateOptions())}}function ce(s,g){if(s&1){let t=h();r(0,"a",24),p("click",function(){let e=b(t),i=c();return v(i.router.navigateByUrl(e))}),a()}if(s&2){let t=c();l("faIcon",t.faClockRotateLeft)("routerLink",g)}}var m=class m extends re{constructor(){super(...arguments);this.router=d(P);this.route=d(E);this.fileClient=d(K);this.objectivesStore=d(X);this.preferencesStore=d(q);this.routerSync=d(Y);this.settingsStore=d(U);this.data=this.settingsStore.dataset;this.modId=this.settingsStore.modId;this.modOptions=this.settingsStore.modOptions;this.stateOptions=this.settingsStore.stateOptions;this.states=this.settingsStore.modStates;this.unitOptions=this.settingsStore.objectiveUnitOptions;this.faBoxOpen=H;this.faBookOpen=A;this.faClockRotateLeft=N;this.faForward=D;this.faFileImport=W;this.faQuestion=V;this.gameOptions=ae}addObjective(t){this.objectivesStore.create(t),this.router.navigate(["list"],{relativeTo:this.route,queryParamsHandling:"preserve"})}setState(t){t&&this.router.navigate(["list"],{queryParams:this.routerSync.toParams(t),relativeTo:this.route})}setGame(t){this.setMod(Q[t].modId)}setMod(t){this.router.navigate([t])}};m.\u0275fac=(()=>{let t;return function(e){return(t||(t=w(m)))(e||m)}})(),m.\u0275cmp=I({type:m,selectors:[["lab-landing"]],hostAttrs:[1,"flex","flex-col","items-center","justify-center","h-dvh","gap-2"],features:[B],decls:27,vars:22,consts:[[1,"flex","grow","flex-col","items-center","justify-end"],["src","factoriolab.webp","alt","FactorioLab","height","128","width","128"],[3,"innerHtml"],[1,"self-stretch","border-t","border-gray-700"],[1,"flex","w-xs","grow","basis-[30rem]","flex-col","gap-3"],["label","game"],["type","system",3,"ngModelChange","options","ngModel"],["label","modSet"],[1,"flex","gap-3"],["label","objectives.quantity",1,"basis-1/2"],[3,"ngModelChange","ngModel"],["label","objectives.units",1,"basis-1/2"],[3,"ngModelChange","ngModel","options"],["type","button","labButton","","color","brand",3,"click","faIcon","text"],[1,"my-4","border-gray-700"],[1,"flex","items-center"],["labButton","","text","landing.loadLastState",3,"faIcon","routerLink"],["labButton","","text","landing.skip","routerLink","list","queryParamsHandling","preserve",3,"faIcon"],["id","bypass","type","checkbox",1,"checkbox",3,"ngModelChange","ngModel"],["for","bypass",1,"cursor-pointer","ps-2","select-none"],[1,"mt-auto","mb-4","text-center"],[3,"ngModelChange","options","filter","ngModel"],[1,"flex","size-9","items-center","justify-center","border","border-r-0","border-gray-700",3,"icon"],["placeholder","landing.loadSavedState",3,"valueChange","options"],["labButton","","text","landing.loadLastState",3,"click","faIcon","routerLink"]],template:function(f,e){if(f&1&&(r(0,"div",0),u(1,"img",1)(2,"div",2),C(3,"translate"),a(),u(4,"hr",3),r(5,"div",4)(6,"lab-form-field",5)(7,"lab-select",6),p("ngModelChange",function(o){return e.setGame(o)}),a()(),_(8,se,2,3,"lab-form-field",7),r(9,"div",8)(10,"lab-form-field",9)(11,"lab-input-number",10),k("ngModelChange",function(o){return O(e.value,o)||(e.value=o),o}),a()(),r(12,"lab-form-field",11)(13,"lab-select",12),k("ngModelChange",function(o){return O(e.unit,o)||(e.unit=o),o}),a()()(),r(14,"button",13),p("click",function(){return e.openPicker()}),a(),_(15,de,1,0,"hr",14),_(16,pe,3,2,"div",15),_(17,ce,1,2,"a",16),u(18,"a",17),r(19,"div",15)(20,"input",18),p("ngModelChange",function(o){return e.preferencesStore.apply({bypassLanding:o})}),a(),r(21,"label",19),M(22),C(23,"translate"),a()(),r(24,"span",20),M(25),C(26,"async"),a()()),f&2){let i,o;n(2),l("innerHtml",S(3,16,"landing.welcome"),x),n(5),l("options",e.gameOptions)("ngModel",e.data().game),n(),y((i=e.data().flags.has("mods")&&e.modId())?8:-1,i),n(3),L("ngModel",e.value),n(2),L("ngModel",e.unit),l("options",e.unitOptions()),n(),l("faIcon",e.isRecipe()?e.faBookOpen:e.faBoxOpen)("text",e.isRecipe()?"picker.selectRecipe":"picker.selectItem"),n(),y(e.stateOptions().length||e.routerSync.stored()?15:-1),n(),y(e.stateOptions().length?16:-1),n(),y((o=e.routerSync.stored())?17:-1,o),n(),l("faIcon",e.faForward),n(2),l("ngModel",e.preferencesStore.state().bypassLanding),n(2),F(S(23,18,"landing.bypass")),n(3),T("",S(26,20,e.fileClient.version$)," ")}},dependencies:[te,Z,$,ee,R,G,J,ne,ie,oe,j,z],encapsulation:2,changeDetection:0});var le=m;export{le as Landing};
