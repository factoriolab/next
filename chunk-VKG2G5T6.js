import{$ as $6,$a as f1,A as c1,Aa as X6,Ba as qn,C as Bn,Ca as Gn,D as ve,Da as n3,Db as fo,E as g4,Ea as a3,Eb as uo,Fa as K6,Fb as Kn,G as jn,Ga as Z6,Gb as Zn,H as Fe,Ha as J6,Hb as Jn,I as Be,Ia as Q6,Ib as Qn,J as t3,Ja as eo,Jb as k0,K as ne,Ka as to,Kb as N0,L as Un,La as ro,M as j6,Ma as M4,N as Hn,Na as no,O as U6,P as v4,Pa as ao,Pb as ea,Q as H6,Qa as ye,R as at,Ra as i3,S as $2,Sa as b4,Sb as E0,T as je,Ta as X1,Tb as R0,U as V6,Ua as Ue,Ub as A0,V as Z2,Va as Me,W as S2,Wa as He,Xa as w0,Ya as io,Z as P,Za as Yn,_ as l1,_a as v1,a as re,aa as _2,ab as _1,b as O6,ba as y2,bb as z4,c as Pe,ca as w,cb as o3,cc as T0,d as On,da as it,dc as I0,e as Pn,ea as W6,eb as oo,f as N2,fa as k1,fb as so,fc as po,g as s1,ga as T1,gb as J2,h as P6,hb as V2,hc as ze,ib as be,ic as n2,j as B1,ja as F2,jb as Xn,jc as G2,k as j1,ka as g2,kb as S0,l as s2,la as _4,lb as co,lc as mo,m as nt,ma as Vn,mc as e1,n as Fn,na as r3,nb as lo,o as F6,ob as Ve,pa as H1,pb as L4,q as L2,qa as q6,qb as $e,qc as w1,r as ge,ra as $n,rb as We,rc as s3,s as U1,sa as _e,sc as ae,t as B6,ta as h1,tc as ho,u as e3,ua as Wn,uc as go,va as g1,vc as I1,wa as G6,wb as st,xa as ot,xb as x0,xc as O0,ya as Y6,yb as D0,yc as vo,za as y4,zb as qe}from"./chunk-B3EHFQVT.js";import{a as $,b as U2,c as rm,d as In,e as rt,f as I6}from"./chunk-HZ6M6AS2.js";var js=rt(Pt=>{"use strict";var E2={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};Pt.Parser=class{constructor(t,r={}){if(!r[E2.settings]&&r.constants)for(let e in r.constants){let n=r.constants[e];if(n!==null&&!["boolean","number","string"].includes(typeof n))throw new Error(`Formula constant ${e} contains invalid ${typeof n} value type`)}this.settings=r[E2.settings]?r:Object.assign({[E2.settings]:!0,constants:{},functions:{}},r),this.single=null,this._parts=null,this._parse(t)}_parse(t){let r=[],e="",n=0,a=!1,i=s=>{if(n)throw new Error("Formula missing closing parenthesis");let l=r.length?r[r.length-1]:null;if(!(!a&&!e&&!s)){if(l&&l.type==="reference"&&s===")"){l.type="function",l.value=this._subFormula(e,l.value),e="";return}if(s===")"){let u=new Pt.Parser(e,this.settings);r.push({type:"segment",value:u})}else if(a){if(a==="]"){r.push({type:"reference",value:e}),e="";return}r.push({type:"literal",value:e})}else if(E2.operatorCharacters.includes(e))l&&l.type==="operator"&&E2.operators.includes(l.value+e)?l.value+=e:r.push({type:"operator",value:e});else if(e.match(E2.numberRx))r.push({type:"constant",value:parseFloat(e)});else if(this.settings.constants[e]!==void 0)r.push({type:"constant",value:this.settings.constants[e]});else{if(!e.match(E2.tokenRx))throw new Error(`Formula contains invalid token: ${e}`);r.push({type:"reference",value:e})}e=""}};for(let s of t)a?s===a?(i(),a=!1):e+=s:n?s==="("?(e+=s,++n):s===")"?(--n,n?e+=s:i(s)):e+=s:s in E2.literals?a=E2.literals[s]:s==="("?(i(),++n):E2.operatorCharacters.includes(s)?(i(),e=s,i()):s!==" "?e+=s:i();i(),r=r.map((s,l)=>s.type!=="operator"||s.value!=="-"||l&&r[l-1].type!=="operator"?s:{type:"operator",value:"n"});let o=!1;for(let s of r){if(s.type==="operator"){if(E2.operatorsPrefix.includes(s.value))continue;if(!o)throw new Error("Formula contains an operator in invalid position");if(!E2.operators.includes(s.value))throw new Error(`Formula contains an unknown operator ${s.value}`)}else if(o)throw new Error("Formula missing expected operator");o=!o}if(!o)throw new Error("Formula contains invalid trailing operator");r.length===1&&["reference","literal","constant"].includes(r[0].type)&&(this.single={type:r[0].type==="reference"?"reference":"value",value:r[0].value}),this._parts=r.map(s=>{if(s.type==="operator")return E2.operatorsPrefix.includes(s.value)?s:s.value;if(s.type!=="reference")return s.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(s.value))throw new Error(`Formula contains invalid reference ${s.value}`);return this.settings.reference?this.settings.reference(s.value):E2.reference(s.value)})}_subFormula(t,r){let e=this.settings.functions[r];if(typeof e!="function")throw new Error(`Formula contains unknown function ${r}`);let n=[];if(t){let a="",i=0,o=!1,s=()=>{if(!a)throw new Error(`Formula contains function ${r} with invalid arguments ${t}`);n.push(a),a=""};for(let l=0;l<t.length;++l){let u=t[l];o?(a+=u,u===o&&(o=!1)):u in E2.literals&&!i?(a+=u,o=E2.literals[u]):u===","&&!i?s():(a+=u,u==="("?++i:u===")"&&--i)}s()}return n=n.map(a=>new Pt.Parser(a,this.settings)),function(a){let i=[];for(let o of n)i.push(o.evaluate(a));return e.call(a,...i)}}evaluate(t){let r=this._parts.slice();for(let e=r.length-2;e>=0;--e){let n=r[e];if(n&&n.type==="operator"){let a=r[e+1];r.splice(e+1,1);let i=E2.evaluate(a,t);r[e]=E2.single(n.value,i)}}return E2.operatorsOrder.forEach(e=>{for(let n=1;n<r.length-1;)if(e.includes(r[n])){let a=r[n],i=E2.evaluate(r[n-1],t),o=E2.evaluate(r[n+1],t);r.splice(n,2);let s=E2.calculate(a,i,o);r[n-1]=s===0?0:s}else n+=2}),E2.evaluate(r[0],t)}};Pt.Parser.prototype[E2.symbol]=!0;E2.reference=function(t){return function(r){return r&&r[t]!==void 0?r[t]:null}};E2.evaluate=function(t,r){return t===null?null:typeof t=="function"?t(r):t[E2.symbol]?t.evaluate(r):t};E2.single=function(t,r){if(t==="!")return!r;let e=-r;return e===0?0:e};E2.calculate=function(t,r,e){if(t==="??")return E2.exists(r)?r:e;if(typeof r=="string"||typeof e=="string"){if(t==="+")return r=E2.exists(r)?r:"",e=E2.exists(e)?e:"",r+e}else switch(t){case"^":return Math.pow(r,e);case"*":return r*e;case"/":return r/e;case"%":return r%e;case"+":return r+e;case"-":return r-e}switch(t){case"<":return r<e;case"<=":return r<=e;case">":return r>e;case">=":return r>=e;case"==":return r===e;case"!=":return r!==e;case"&&":return r&&e;case"||":return r||e}return null};E2.exists=function(t){return t!=null}});var y8=rt(()=>{"use strict"});var M8=rt(()=>{"use strict"});var b8=rt((Ur,Ri)=>{"use strict";var Ei=(()=>{var t=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(t=t||__filename),function(e){e=e||{};var e=typeof e<"u"?e:{},n,a;e.ready=new Promise(function(c,f){n=c,a=f});var i=Object.assign({},e),o=[],s="./this.program",l=(c,f)=>{throw f},u=typeof window=="object",h=typeof importScripts=="function",v=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",y="";function b(c){return e.locateFile?e.locateFile(c,y):y+c}var z,R,I,A;function E(c){if(c instanceof S6)return;t2("exiting due to exception: "+c)}if(v){var T=y8(),F=M8();h?y=F.dirname(y)+"/":y=__dirname+"/",z=(c,f)=>(c=b0(c)?new URL(c):F.normalize(c),T.readFileSync(c,f?void 0:"utf8")),I=c=>{var f=z(c,!0);return f.buffer||(f=new Uint8Array(f)),f},R=(c,f,p)=>{c=b0(c)?new URL(c):F.normalize(c),T.readFile(c,function(g,_){g?p(g):f(_.buffer)})},process.argv.length>1&&(s=process.argv[1].replace(/\\/g,"/")),o=process.argv.slice(2),process.on("uncaughtException",function(c){if(!(c instanceof S6))throw c}),process.on("unhandledRejection",function(c){throw c}),l=(c,f)=>{if(pe())throw process.exitCode=c,f;E(f),process.exit(c)},e.inspect=function(){return"[Emscripten Module object]"}}else(u||h)&&(h?y=self.location.href:typeof document<"u"&&document.currentScript&&(y=document.currentScript.src),t&&(y=t),y.indexOf("blob:")!==0?y=y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):y="",z=c=>{var f=new XMLHttpRequest;return f.open("GET",c,!1),f.send(null),f.responseText},h&&(I=c=>{var f=new XMLHttpRequest;return f.open("GET",c,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),R=(c,f,p)=>{var g=new XMLHttpRequest;g.open("GET",c,!0),g.responseType="arraybuffer",g.onload=()=>{if(g.status==200||g.status==0&&g.response){f(g.response);return}p()},g.onerror=p,g.send(null)},A=c=>document.title=c);var Z=e.print||console.log.bind(console),t2=e.printErr||console.warn.bind(console);Object.assign(e,i),i=null,e.arguments&&(o=e.arguments),e.thisProgram&&(s=e.thisProgram),e.quit&&(l=e.quit);var f2;e.wasmBinary&&(f2=e.wasmBinary);var b2=e.noExitRuntime||!0;typeof WebAssembly!="object"&&ee("no native wasm support detected");var I2,Q2=!1,X2;function p1(c,f){c||ee(f)}var O=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function a2(c,f,p){for(var g=f+p,_=f;c[_]&&!(_>=g);)++_;if(_-f>16&&c.buffer&&O)return O.decode(c.subarray(f,_));for(var L="";f<_;){var S=c[f++];if(!(S&128)){L+=String.fromCharCode(S);continue}var D=c[f++]&63;if((S&224)==192){L+=String.fromCharCode((S&31)<<6|D);continue}var K=c[f++]&63;if((S&240)==224?S=(S&15)<<12|D<<6|K:S=(S&7)<<18|D<<12|K<<6|c[f++]&63,S<65536)L+=String.fromCharCode(S);else{var c2=S-65536;L+=String.fromCharCode(55296|c2>>10,56320|c2&1023)}}return L}function p2(c,f){return c?a2(x,c,f):""}function M2(c,f,p,g){if(!(g>0))return 0;for(var _=p,L=p+g-1,S=0;S<c.length;++S){var D=c.charCodeAt(S);if(D>=55296&&D<=57343){var K=c.charCodeAt(++S);D=65536+((D&1023)<<10)|K&1023}if(D<=127){if(p>=L)break;f[p++]=D}else if(D<=2047){if(p+1>=L)break;f[p++]=192|D>>6,f[p++]=128|D&63}else if(D<=65535){if(p+2>=L)break;f[p++]=224|D>>12,f[p++]=128|D>>6&63,f[p++]=128|D&63}else{if(p+3>=L)break;f[p++]=240|D>>18,f[p++]=128|D>>12&63,f[p++]=128|D>>6&63,f[p++]=128|D&63}}return f[p]=0,p-_}function O2(c,f,p){return M2(c,x,f,p)}function N(c){for(var f=0,p=0;p<c.length;++p){var g=c.charCodeAt(p);g<=127?f++:g<=2047?f+=2:g>=55296&&g<=57343?(f+=4,++p):f+=3}return f}var d,M,x,G,r2,Y,B,U,k;function q(c){d=c,e.HEAP8=M=new Int8Array(c),e.HEAP16=G=new Int16Array(c),e.HEAP32=Y=new Int32Array(c),e.HEAPU8=x=new Uint8Array(c),e.HEAPU16=r2=new Uint16Array(c),e.HEAPU32=B=new Uint32Array(c),e.HEAPF32=U=new Float32Array(c),e.HEAPF64=k=new Float64Array(c)}var Q=e.INITIAL_MEMORY||16777216,e2,X=[],l2=[],W2=[],j2=!1;function pe(){return b2}function H(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)u2(e.preRun.shift());Rn(X)}function W(){j2=!0,!e.noFSInit&&!m.init.initialized&&m.init(),m.ignorePermissions=!1,Ie.init(),Rn(l2)}function P2(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)B2(e.postRun.shift());Rn(W2)}function u2(c){X.unshift(c)}function C2(c){l2.unshift(c)}function B2(c){W2.unshift(c)}var a1=0,k2=null,b1=null;function A1(c){return c}function h4(c){a1++,e.monitorRunDependencies&&e.monitorRunDependencies(a1)}function M0(c){if(a1--,e.monitorRunDependencies&&e.monitorRunDependencies(a1),a1==0&&(k2!==null&&(clearInterval(k2),k2=null),b1)){var f=b1;b1=null,f()}}function ee(c){e.onAbort&&e.onAbort(c),c="Aborted("+c+")",t2(c),Q2=!0,X2=1,c+=". Build with -sASSERTIONS for more info.";var f=new WebAssembly.RuntimeError(c);throw a(f),f}var G7="data:application/octet-stream;base64,";function C6(c){return c.startsWith(G7)}function b0(c){return c.startsWith("file://")}var D1;D1="glpk.all.wasm",C6(D1)||(D1=b(D1));function w6(c){try{if(c==D1&&f2)return new Uint8Array(f2);if(I)return I(c);throw"both async and sync fetching of the wasm failed"}catch(f){ee(f)}}function Y7(){if(!f2&&(u||h)){if(typeof fetch=="function"&&!b0(D1))return fetch(D1,{credentials:"same-origin"}).then(function(c){if(!c.ok)throw"failed to load wasm binary file at '"+D1+"'";return c.arrayBuffer()}).catch(function(){return w6(D1)});if(R)return new Promise(function(c,f){R(D1,function(p){c(new Uint8Array(p))},f)})}return Promise.resolve().then(function(){return w6(D1)})}function X7(){var c={a:k9};function f(S,D){var K=S.exports;e.asm=K,I2=e.asm.D,q(I2.buffer),e2=e.asm.N,C2(e.asm.E),M0("wasm-instantiate")}h4("wasm-instantiate");function p(S){f(S.instance)}function g(S){return Y7().then(function(D){return WebAssembly.instantiate(D,c)}).then(function(D){return D}).then(S,function(D){t2("failed to asynchronously prepare wasm: "+D),ee(D)})}function _(){return!f2&&typeof WebAssembly.instantiateStreaming=="function"&&!C6(D1)&&!b0(D1)&&!v&&typeof fetch=="function"?fetch(D1,{credentials:"same-origin"}).then(function(S){var D=WebAssembly.instantiateStreaming(S,c);return D.then(p,function(K){return t2("wasm streaming compile failed: "+K),t2("falling back to ArrayBuffer instantiation"),g(p)})}):g(p)}if(e.instantiateWasm)try{var L=e.instantiateWasm(c,f);return L}catch(S){t2("Module.instantiateWasm callback failed with error: "+S),a(S)}return _().catch(a),{}}var m2,q2;function S6(c){this.name="ExitStatus",this.message="Program terminated with exit("+c+")",this.status=c}function Rn(c){for(;c.length>0;)c.shift()(e)}function K7(c,f="i8"){switch(f.endsWith("*")&&(f="*"),f){case"i1":return M[c>>0];case"i8":return M[c>>0];case"i16":return G[c>>1];case"i32":return Y[c>>2];case"i64":return Y[c>>2];case"float":return U[c>>2];case"double":return k[c>>3];case"*":return B[c>>2];default:ee("invalid type for getValue: "+f)}return null}function Z7(c,f,p="i8"){switch(p.endsWith("*")&&(p="*"),p){case"i1":M[c>>0]=f;break;case"i8":M[c>>0]=f;break;case"i16":G[c>>1]=f;break;case"i32":Y[c>>2]=f;break;case"i64":q2=[f>>>0,(m2=f,+Math.abs(m2)>=1?m2>0?(Math.min(+Math.floor(m2/4294967296),4294967295)|0)>>>0:~~+Math.ceil((m2-+(~~m2>>>0))/4294967296)>>>0:0)],Y[c>>2]=q2[0],Y[c+4>>2]=q2[1];break;case"float":U[c>>2]=f;break;case"double":k[c>>3]=f;break;case"*":B[c>>2]=f;break;default:ee("invalid type for setValue: "+p)}}function J7(c,f,p,g){ee("Assertion failed: "+p2(c)+", at: "+[f?p2(f):"unknown filename",p,g?p2(g):"unknown function"])}function Q7(c){return Y[A6()>>2]=c,c}var A2={isAbs:c=>c.charAt(0)==="/",splitPath:c=>{var f=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return f.exec(c).slice(1)},normalizeArray:(c,f)=>{for(var p=0,g=c.length-1;g>=0;g--){var _=c[g];_==="."?c.splice(g,1):_===".."?(c.splice(g,1),p++):p&&(c.splice(g,1),p--)}if(f)for(;p;p--)c.unshift("..");return c},normalize:c=>{var f=A2.isAbs(c),p=c.substr(-1)==="/";return c=A2.normalizeArray(c.split("/").filter(g=>!!g),!f).join("/"),!c&&!f&&(c="."),c&&p&&(c+="/"),(f?"/":"")+c},dirname:c=>{var f=A2.splitPath(c),p=f[0],g=f[1];return!p&&!g?".":(g&&(g=g.substr(0,g.length-1)),p+g)},basename:c=>{if(c==="/")return"/";c=A2.normalize(c),c=c.replace(/\/$/,"");var f=c.lastIndexOf("/");return f===-1?c:c.substr(f+1)},join:function(){var c=Array.prototype.slice.call(arguments);return A2.normalize(c.join("/"))},join2:(c,f)=>A2.normalize(c+"/"+f)};function e9(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var c=new Uint8Array(1);return()=>(crypto.getRandomValues(c),c[0])}else if(v)try{var f=rm("crypto");return()=>f.randomBytes(1)[0]}catch{}return()=>ee("randomDevice")}var me={resolve:function(){for(var c="",f=!1,p=arguments.length-1;p>=-1&&!f;p--){var g=p>=0?arguments[p]:m.cwd();if(typeof g!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!g)return"";c=g+"/"+c,f=A2.isAbs(g)}return c=A2.normalizeArray(c.split("/").filter(_=>!!_),!f).join("/"),(f?"/":"")+c||"."},relative:(c,f)=>{c=me.resolve(c).substr(1),f=me.resolve(f).substr(1);function p(c2){for(var w2=0;w2<c2.length&&c2[w2]==="";w2++);for(var R2=c2.length-1;R2>=0&&c2[R2]==="";R2--);return w2>R2?[]:c2.slice(w2,R2-w2+1)}for(var g=p(c.split("/")),_=p(f.split("/")),L=Math.min(g.length,_.length),S=L,D=0;D<L;D++)if(g[D]!==_[D]){S=D;break}for(var K=[],D=S;D<g.length;D++)K.push("..");return K=K.concat(_.slice(S)),K.join("/")}};function An(c,f,p){var g=p>0?p:N(c)+1,_=new Array(g),L=M2(c,_,0,_.length);return f&&(_.length=L),_}var Ie={ttys:[],init:function(){},shutdown:function(){},register:function(c,f){Ie.ttys[c]={input:[],output:[],ops:f},m.registerDevice(c,Ie.stream_ops)},stream_ops:{open:function(c){var f=Ie.ttys[c.node.rdev];if(!f)throw new m.ErrnoError(43);c.tty=f,c.seekable=!1},close:function(c){c.tty.ops.fsync(c.tty)},fsync:function(c){c.tty.ops.fsync(c.tty)},read:function(c,f,p,g,_){if(!c.tty||!c.tty.ops.get_char)throw new m.ErrnoError(60);for(var L=0,S=0;S<g;S++){var D;try{D=c.tty.ops.get_char(c.tty)}catch{throw new m.ErrnoError(29)}if(D===void 0&&L===0)throw new m.ErrnoError(6);if(D==null)break;L++,f[p+S]=D}return L&&(c.node.timestamp=Date.now()),L},write:function(c,f,p,g,_){if(!c.tty||!c.tty.ops.put_char)throw new m.ErrnoError(60);try{for(var L=0;L<g;L++)c.tty.ops.put_char(c.tty,f[p+L])}catch{throw new m.ErrnoError(29)}return g&&(c.node.timestamp=Date.now()),L}},default_tty_ops:{get_char:function(c){if(!c.input.length){var f=null;if(v){var p=256,g=Buffer.alloc(p),_=0;try{_=T.readSync(process.stdin.fd,g,0,p,-1)}catch(L){if(L.toString().includes("EOF"))_=0;else throw L}_>0?f=g.slice(0,_).toString("utf-8"):f=null}else typeof window<"u"&&typeof window.prompt=="function"?(f=window.prompt("Input: "),f!==null&&(f+=`
`)):typeof readline=="function"&&(f=readline(),f!==null&&(f+=`
`));if(!f)return null;c.input=An(f,!0)}return c.input.shift()},put_char:function(c,f){f===null||f===10?(Z(a2(c.output,0)),c.output=[]):f!=0&&c.output.push(f)},fsync:function(c){c.output&&c.output.length>0&&(Z(a2(c.output,0)),c.output=[])}},default_tty1_ops:{put_char:function(c,f){f===null||f===10?(t2(a2(c.output,0)),c.output=[]):f!=0&&c.output.push(f)},fsync:function(c){c.output&&c.output.length>0&&(t2(a2(c.output,0)),c.output=[])}}};function x6(c){ee()}var h2={ops_table:null,mount:function(c){return h2.createNode(null,"/",16895,0)},createNode:function(c,f,p,g){if(m.isBlkdev(p)||m.isFIFO(p))throw new m.ErrnoError(63);h2.ops_table||(h2.ops_table={dir:{node:{getattr:h2.node_ops.getattr,setattr:h2.node_ops.setattr,lookup:h2.node_ops.lookup,mknod:h2.node_ops.mknod,rename:h2.node_ops.rename,unlink:h2.node_ops.unlink,rmdir:h2.node_ops.rmdir,readdir:h2.node_ops.readdir,symlink:h2.node_ops.symlink},stream:{llseek:h2.stream_ops.llseek}},file:{node:{getattr:h2.node_ops.getattr,setattr:h2.node_ops.setattr},stream:{llseek:h2.stream_ops.llseek,read:h2.stream_ops.read,write:h2.stream_ops.write,allocate:h2.stream_ops.allocate,mmap:h2.stream_ops.mmap,msync:h2.stream_ops.msync}},link:{node:{getattr:h2.node_ops.getattr,setattr:h2.node_ops.setattr,readlink:h2.node_ops.readlink},stream:{}},chrdev:{node:{getattr:h2.node_ops.getattr,setattr:h2.node_ops.setattr},stream:m.chrdev_stream_ops}});var _=m.createNode(c,f,p,g);return m.isDir(_.mode)?(_.node_ops=h2.ops_table.dir.node,_.stream_ops=h2.ops_table.dir.stream,_.contents={}):m.isFile(_.mode)?(_.node_ops=h2.ops_table.file.node,_.stream_ops=h2.ops_table.file.stream,_.usedBytes=0,_.contents=null):m.isLink(_.mode)?(_.node_ops=h2.ops_table.link.node,_.stream_ops=h2.ops_table.link.stream):m.isChrdev(_.mode)&&(_.node_ops=h2.ops_table.chrdev.node,_.stream_ops=h2.ops_table.chrdev.stream),_.timestamp=Date.now(),c&&(c.contents[f]=_,c.timestamp=_.timestamp),_},getFileDataAsTypedArray:function(c){return c.contents?c.contents.subarray?c.contents.subarray(0,c.usedBytes):new Uint8Array(c.contents):new Uint8Array(0)},expandFileStorage:function(c,f){var p=c.contents?c.contents.length:0;if(!(p>=f)){var g=1024*1024;f=Math.max(f,p*(p<g?2:1.125)>>>0),p!=0&&(f=Math.max(f,256));var _=c.contents;c.contents=new Uint8Array(f),c.usedBytes>0&&c.contents.set(_.subarray(0,c.usedBytes),0)}},resizeFileStorage:function(c,f){if(c.usedBytes!=f)if(f==0)c.contents=null,c.usedBytes=0;else{var p=c.contents;c.contents=new Uint8Array(f),p&&c.contents.set(p.subarray(0,Math.min(f,c.usedBytes))),c.usedBytes=f}},node_ops:{getattr:function(c){var f={};return f.dev=m.isChrdev(c.mode)?c.id:1,f.ino=c.id,f.mode=c.mode,f.nlink=1,f.uid=0,f.gid=0,f.rdev=c.rdev,m.isDir(c.mode)?f.size=4096:m.isFile(c.mode)?f.size=c.usedBytes:m.isLink(c.mode)?f.size=c.link.length:f.size=0,f.atime=new Date(c.timestamp),f.mtime=new Date(c.timestamp),f.ctime=new Date(c.timestamp),f.blksize=4096,f.blocks=Math.ceil(f.size/f.blksize),f},setattr:function(c,f){f.mode!==void 0&&(c.mode=f.mode),f.timestamp!==void 0&&(c.timestamp=f.timestamp),f.size!==void 0&&h2.resizeFileStorage(c,f.size)},lookup:function(c,f){throw m.genericErrors[44]},mknod:function(c,f,p,g){return h2.createNode(c,f,p,g)},rename:function(c,f,p){if(m.isDir(c.mode)){var g;try{g=m.lookupNode(f,p)}catch{}if(g)for(var _ in g.contents)throw new m.ErrnoError(55)}delete c.parent.contents[c.name],c.parent.timestamp=Date.now(),c.name=p,f.contents[p]=c,f.timestamp=c.parent.timestamp,c.parent=f},unlink:function(c,f){delete c.contents[f],c.timestamp=Date.now()},rmdir:function(c,f){var p=m.lookupNode(c,f);for(var g in p.contents)throw new m.ErrnoError(55);delete c.contents[f],c.timestamp=Date.now()},readdir:function(c){var f=[".",".."];for(var p in c.contents)c.contents.hasOwnProperty(p)&&f.push(p);return f},symlink:function(c,f,p){var g=h2.createNode(c,f,41471,0);return g.link=p,g},readlink:function(c){if(!m.isLink(c.mode))throw new m.ErrnoError(28);return c.link}},stream_ops:{read:function(c,f,p,g,_){var L=c.node.contents;if(_>=c.node.usedBytes)return 0;var S=Math.min(c.node.usedBytes-_,g);if(S>8&&L.subarray)f.set(L.subarray(_,_+S),p);else for(var D=0;D<S;D++)f[p+D]=L[_+D];return S},write:function(c,f,p,g,_,L){if(f.buffer===M.buffer&&(L=!1),!g)return 0;var S=c.node;if(S.timestamp=Date.now(),f.subarray&&(!S.contents||S.contents.subarray)){if(L)return S.contents=f.subarray(p,p+g),S.usedBytes=g,g;if(S.usedBytes===0&&_===0)return S.contents=f.slice(p,p+g),S.usedBytes=g,g;if(_+g<=S.usedBytes)return S.contents.set(f.subarray(p,p+g),_),g}if(h2.expandFileStorage(S,_+g),S.contents.subarray&&f.subarray)S.contents.set(f.subarray(p,p+g),_);else for(var D=0;D<g;D++)S.contents[_+D]=f[p+D];return S.usedBytes=Math.max(S.usedBytes,_+g),g},llseek:function(c,f,p){var g=f;if(p===1?g+=c.position:p===2&&m.isFile(c.node.mode)&&(g+=c.node.usedBytes),g<0)throw new m.ErrnoError(28);return g},allocate:function(c,f,p){h2.expandFileStorage(c.node,f+p),c.node.usedBytes=Math.max(c.node.usedBytes,f+p)},mmap:function(c,f,p,g,_){if(!m.isFile(c.node.mode))throw new m.ErrnoError(43);var L,S,D=c.node.contents;if(!(_&2)&&D.buffer===d)S=!1,L=D.byteOffset;else{if((p>0||p+f<D.length)&&(D.subarray?D=D.subarray(p,p+f):D=Array.prototype.slice.call(D,p,p+f)),S=!0,L=x6(f),!L)throw new m.ErrnoError(48);M.set(D,L)}return{ptr:L,allocated:S}},msync:function(c,f,p,g,_){return h2.stream_ops.write(c,f,0,g,p,!1),0}}};function t9(c,f,p,g){var _=g?"":"al "+c;R(c,L=>{p1(L,'Loading data file "'+c+'" failed (no arrayBuffer).'),f(new Uint8Array(L)),_&&M0(_)},L=>{if(p)p();else throw'Loading data file "'+c+'" failed.'}),_&&h4(_)}var m={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(c,f={})=>{if(c=me.resolve(c),!c)return{path:"",node:null};var p={follow_mount:!0,recurse_count:0};if(f=Object.assign(p,f),f.recurse_count>8)throw new m.ErrnoError(32);for(var g=c.split("/").filter(R2=>!!R2),_=m.root,L="/",S=0;S<g.length;S++){var D=S===g.length-1;if(D&&f.parent)break;if(_=m.lookupNode(_,g[S]),L=A2.join2(L,g[S]),m.isMountpoint(_)&&(!D||D&&f.follow_mount)&&(_=_.mounted.root),!D||f.follow)for(var K=0;m.isLink(_.mode);){var c2=m.readlink(L);L=me.resolve(A2.dirname(L),c2);var w2=m.lookupPath(L,{recurse_count:f.recurse_count+1});if(_=w2.node,K++>40)throw new m.ErrnoError(32)}}return{path:L,node:_}},getPath:c=>{for(var f;;){if(m.isRoot(c)){var p=c.mount.mountpoint;return f?p[p.length-1]!=="/"?p+"/"+f:p+f:p}f=f?c.name+"/"+f:c.name,c=c.parent}},hashName:(c,f)=>{for(var p=0,g=0;g<f.length;g++)p=(p<<5)-p+f.charCodeAt(g)|0;return(c+p>>>0)%m.nameTable.length},hashAddNode:c=>{var f=m.hashName(c.parent.id,c.name);c.name_next=m.nameTable[f],m.nameTable[f]=c},hashRemoveNode:c=>{var f=m.hashName(c.parent.id,c.name);if(m.nameTable[f]===c)m.nameTable[f]=c.name_next;else for(var p=m.nameTable[f];p;){if(p.name_next===c){p.name_next=c.name_next;break}p=p.name_next}},lookupNode:(c,f)=>{var p=m.mayLookup(c);if(p)throw new m.ErrnoError(p,c);for(var g=m.hashName(c.id,f),_=m.nameTable[g];_;_=_.name_next){var L=_.name;if(_.parent.id===c.id&&L===f)return _}return m.lookup(c,f)},createNode:(c,f,p,g)=>{var _=new m.FSNode(c,f,p,g);return m.hashAddNode(_),_},destroyNode:c=>{m.hashRemoveNode(c)},isRoot:c=>c===c.parent,isMountpoint:c=>!!c.mounted,isFile:c=>(c&61440)===32768,isDir:c=>(c&61440)===16384,isLink:c=>(c&61440)===40960,isChrdev:c=>(c&61440)===8192,isBlkdev:c=>(c&61440)===24576,isFIFO:c=>(c&61440)===4096,isSocket:c=>(c&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:c=>{var f=m.flagModes[c];if(typeof f>"u")throw new Error("Unknown file open mode: "+c);return f},flagsToPermissionString:c=>{var f=["r","w","rw"][c&3];return c&512&&(f+="w"),f},nodePermissions:(c,f)=>m.ignorePermissions?0:f.includes("r")&&!(c.mode&292)||f.includes("w")&&!(c.mode&146)||f.includes("x")&&!(c.mode&73)?2:0,mayLookup:c=>{var f=m.nodePermissions(c,"x");return f||(c.node_ops.lookup?0:2)},mayCreate:(c,f)=>{try{var p=m.lookupNode(c,f);return 20}catch{}return m.nodePermissions(c,"wx")},mayDelete:(c,f,p)=>{var g;try{g=m.lookupNode(c,f)}catch(L){return L.errno}var _=m.nodePermissions(c,"wx");if(_)return _;if(p){if(!m.isDir(g.mode))return 54;if(m.isRoot(g)||m.getPath(g)===m.cwd())return 10}else if(m.isDir(g.mode))return 31;return 0},mayOpen:(c,f)=>c?m.isLink(c.mode)?32:m.isDir(c.mode)&&(m.flagsToPermissionString(f)!=="r"||f&512)?31:m.nodePermissions(c,m.flagsToPermissionString(f)):44,MAX_OPEN_FDS:4096,nextfd:(c=0,f=m.MAX_OPEN_FDS)=>{for(var p=c;p<=f;p++)if(!m.streams[p])return p;throw new m.ErrnoError(33)},getStream:c=>m.streams[c],createStream:(c,f,p)=>{m.FSStream||(m.FSStream=function(){this.shared={}},m.FSStream.prototype={},Object.defineProperties(m.FSStream.prototype,{object:{get:function(){return this.node},set:function(_){this.node=_}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(_){this.shared.flags=_}},position:{get:function(){return this.shared.position},set:function(_){this.shared.position=_}}})),c=Object.assign(new m.FSStream,c);var g=m.nextfd(f,p);return c.fd=g,m.streams[g]=c,c},closeStream:c=>{m.streams[c]=null},chrdev_stream_ops:{open:c=>{var f=m.getDevice(c.node.rdev);c.stream_ops=f.stream_ops,c.stream_ops.open&&c.stream_ops.open(c)},llseek:()=>{throw new m.ErrnoError(70)}},major:c=>c>>8,minor:c=>c&255,makedev:(c,f)=>c<<8|f,registerDevice:(c,f)=>{m.devices[c]={stream_ops:f}},getDevice:c=>m.devices[c],getMounts:c=>{for(var f=[],p=[c];p.length;){var g=p.pop();f.push(g),p.push.apply(p,g.mounts)}return f},syncfs:(c,f)=>{typeof c=="function"&&(f=c,c=!1),m.syncFSRequests++,m.syncFSRequests>1&&t2("warning: "+m.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var p=m.getMounts(m.root.mount),g=0;function _(S){return m.syncFSRequests--,f(S)}function L(S){if(S)return L.errored?void 0:(L.errored=!0,_(S));++g>=p.length&&_(null)}p.forEach(S=>{if(!S.type.syncfs)return L(null);S.type.syncfs(S,c,L)})},mount:(c,f,p)=>{var g=p==="/",_=!p,L;if(g&&m.root)throw new m.ErrnoError(10);if(!g&&!_){var S=m.lookupPath(p,{follow_mount:!1});if(p=S.path,L=S.node,m.isMountpoint(L))throw new m.ErrnoError(10);if(!m.isDir(L.mode))throw new m.ErrnoError(54)}var D={type:c,opts:f,mountpoint:p,mounts:[]},K=c.mount(D);return K.mount=D,D.root=K,g?m.root=K:L&&(L.mounted=D,L.mount&&L.mount.mounts.push(D)),K},unmount:c=>{var f=m.lookupPath(c,{follow_mount:!1});if(!m.isMountpoint(f.node))throw new m.ErrnoError(28);var p=f.node,g=p.mounted,_=m.getMounts(g);Object.keys(m.nameTable).forEach(S=>{for(var D=m.nameTable[S];D;){var K=D.name_next;_.includes(D.mount)&&m.destroyNode(D),D=K}}),p.mounted=null;var L=p.mount.mounts.indexOf(g);p.mount.mounts.splice(L,1)},lookup:(c,f)=>c.node_ops.lookup(c,f),mknod:(c,f,p)=>{var g=m.lookupPath(c,{parent:!0}),_=g.node,L=A2.basename(c);if(!L||L==="."||L==="..")throw new m.ErrnoError(28);var S=m.mayCreate(_,L);if(S)throw new m.ErrnoError(S);if(!_.node_ops.mknod)throw new m.ErrnoError(63);return _.node_ops.mknod(_,L,f,p)},create:(c,f)=>(f=f!==void 0?f:438,f&=4095,f|=32768,m.mknod(c,f,0)),mkdir:(c,f)=>(f=f!==void 0?f:511,f&=1023,f|=16384,m.mknod(c,f,0)),mkdirTree:(c,f)=>{for(var p=c.split("/"),g="",_=0;_<p.length;++_)if(p[_]){g+="/"+p[_];try{m.mkdir(g,f)}catch(L){if(L.errno!=20)throw L}}},mkdev:(c,f,p)=>(typeof p>"u"&&(p=f,f=438),f|=8192,m.mknod(c,f,p)),symlink:(c,f)=>{if(!me.resolve(c))throw new m.ErrnoError(44);var p=m.lookupPath(f,{parent:!0}),g=p.node;if(!g)throw new m.ErrnoError(44);var _=A2.basename(f),L=m.mayCreate(g,_);if(L)throw new m.ErrnoError(L);if(!g.node_ops.symlink)throw new m.ErrnoError(63);return g.node_ops.symlink(g,_,c)},rename:(c,f)=>{var p=A2.dirname(c),g=A2.dirname(f),_=A2.basename(c),L=A2.basename(f),S,D,K;if(S=m.lookupPath(c,{parent:!0}),D=S.node,S=m.lookupPath(f,{parent:!0}),K=S.node,!D||!K)throw new m.ErrnoError(44);if(D.mount!==K.mount)throw new m.ErrnoError(75);var c2=m.lookupNode(D,_),w2=me.relative(c,g);if(w2.charAt(0)!==".")throw new m.ErrnoError(28);if(w2=me.relative(f,p),w2.charAt(0)!==".")throw new m.ErrnoError(55);var R2;try{R2=m.lookupNode(K,L)}catch{}if(c2!==R2){var d2=m.isDir(c2.mode),i2=m.mayDelete(D,_,d2);if(i2)throw new m.ErrnoError(i2);if(i2=R2?m.mayDelete(K,L,d2):m.mayCreate(K,L),i2)throw new m.ErrnoError(i2);if(!D.node_ops.rename)throw new m.ErrnoError(63);if(m.isMountpoint(c2)||R2&&m.isMountpoint(R2))throw new m.ErrnoError(10);if(K!==D&&(i2=m.nodePermissions(D,"w"),i2))throw new m.ErrnoError(i2);m.hashRemoveNode(c2);try{D.node_ops.rename(c2,K,L)}catch(D2){throw D2}finally{m.hashAddNode(c2)}}},rmdir:c=>{var f=m.lookupPath(c,{parent:!0}),p=f.node,g=A2.basename(c),_=m.lookupNode(p,g),L=m.mayDelete(p,g,!0);if(L)throw new m.ErrnoError(L);if(!p.node_ops.rmdir)throw new m.ErrnoError(63);if(m.isMountpoint(_))throw new m.ErrnoError(10);p.node_ops.rmdir(p,g),m.destroyNode(_)},readdir:c=>{var f=m.lookupPath(c,{follow:!0}),p=f.node;if(!p.node_ops.readdir)throw new m.ErrnoError(54);return p.node_ops.readdir(p)},unlink:c=>{var f=m.lookupPath(c,{parent:!0}),p=f.node;if(!p)throw new m.ErrnoError(44);var g=A2.basename(c),_=m.lookupNode(p,g),L=m.mayDelete(p,g,!1);if(L)throw new m.ErrnoError(L);if(!p.node_ops.unlink)throw new m.ErrnoError(63);if(m.isMountpoint(_))throw new m.ErrnoError(10);p.node_ops.unlink(p,g),m.destroyNode(_)},readlink:c=>{var f=m.lookupPath(c),p=f.node;if(!p)throw new m.ErrnoError(44);if(!p.node_ops.readlink)throw new m.ErrnoError(28);return me.resolve(m.getPath(p.parent),p.node_ops.readlink(p))},stat:(c,f)=>{var p=m.lookupPath(c,{follow:!f}),g=p.node;if(!g)throw new m.ErrnoError(44);if(!g.node_ops.getattr)throw new m.ErrnoError(63);return g.node_ops.getattr(g)},lstat:c=>m.stat(c,!0),chmod:(c,f,p)=>{var g;if(typeof c=="string"){var _=m.lookupPath(c,{follow:!p});g=_.node}else g=c;if(!g.node_ops.setattr)throw new m.ErrnoError(63);g.node_ops.setattr(g,{mode:f&4095|g.mode&-4096,timestamp:Date.now()})},lchmod:(c,f)=>{m.chmod(c,f,!0)},fchmod:(c,f)=>{var p=m.getStream(c);if(!p)throw new m.ErrnoError(8);m.chmod(p.node,f)},chown:(c,f,p,g)=>{var _;if(typeof c=="string"){var L=m.lookupPath(c,{follow:!g});_=L.node}else _=c;if(!_.node_ops.setattr)throw new m.ErrnoError(63);_.node_ops.setattr(_,{timestamp:Date.now()})},lchown:(c,f,p)=>{m.chown(c,f,p,!0)},fchown:(c,f,p)=>{var g=m.getStream(c);if(!g)throw new m.ErrnoError(8);m.chown(g.node,f,p)},truncate:(c,f)=>{if(f<0)throw new m.ErrnoError(28);var p;if(typeof c=="string"){var g=m.lookupPath(c,{follow:!0});p=g.node}else p=c;if(!p.node_ops.setattr)throw new m.ErrnoError(63);if(m.isDir(p.mode))throw new m.ErrnoError(31);if(!m.isFile(p.mode))throw new m.ErrnoError(28);var _=m.nodePermissions(p,"w");if(_)throw new m.ErrnoError(_);p.node_ops.setattr(p,{size:f,timestamp:Date.now()})},ftruncate:(c,f)=>{var p=m.getStream(c);if(!p)throw new m.ErrnoError(8);if((p.flags&2097155)===0)throw new m.ErrnoError(28);m.truncate(p.node,f)},utime:(c,f,p)=>{var g=m.lookupPath(c,{follow:!0}),_=g.node;_.node_ops.setattr(_,{timestamp:Math.max(f,p)})},open:(c,f,p)=>{if(c==="")throw new m.ErrnoError(44);f=typeof f=="string"?m.modeStringToFlags(f):f,p=typeof p>"u"?438:p,f&64?p=p&4095|32768:p=0;var g;if(typeof c=="object")g=c;else{c=A2.normalize(c);try{var _=m.lookupPath(c,{follow:!(f&131072)});g=_.node}catch{}}var L=!1;if(f&64)if(g){if(f&128)throw new m.ErrnoError(20)}else g=m.mknod(c,p,0),L=!0;if(!g)throw new m.ErrnoError(44);if(m.isChrdev(g.mode)&&(f&=-513),f&65536&&!m.isDir(g.mode))throw new m.ErrnoError(54);if(!L){var S=m.mayOpen(g,f);if(S)throw new m.ErrnoError(S)}f&512&&!L&&m.truncate(g,0),f&=-131713;var D=m.createStream({node:g,path:m.getPath(g),flags:f,seekable:!0,position:0,stream_ops:g.stream_ops,ungotten:[],error:!1});return D.stream_ops.open&&D.stream_ops.open(D),e.logReadFiles&&!(f&1)&&(m.readFiles||(m.readFiles={}),c in m.readFiles||(m.readFiles[c]=1)),D},close:c=>{if(m.isClosed(c))throw new m.ErrnoError(8);c.getdents&&(c.getdents=null);try{c.stream_ops.close&&c.stream_ops.close(c)}catch(f){throw f}finally{m.closeStream(c.fd)}c.fd=null},isClosed:c=>c.fd===null,llseek:(c,f,p)=>{if(m.isClosed(c))throw new m.ErrnoError(8);if(!c.seekable||!c.stream_ops.llseek)throw new m.ErrnoError(70);if(p!=0&&p!=1&&p!=2)throw new m.ErrnoError(28);return c.position=c.stream_ops.llseek(c,f,p),c.ungotten=[],c.position},read:(c,f,p,g,_)=>{if(g<0||_<0)throw new m.ErrnoError(28);if(m.isClosed(c))throw new m.ErrnoError(8);if((c.flags&2097155)===1)throw new m.ErrnoError(8);if(m.isDir(c.node.mode))throw new m.ErrnoError(31);if(!c.stream_ops.read)throw new m.ErrnoError(28);var L=typeof _<"u";if(!L)_=c.position;else if(!c.seekable)throw new m.ErrnoError(70);var S=c.stream_ops.read(c,f,p,g,_);return L||(c.position+=S),S},write:(c,f,p,g,_,L)=>{if(g<0||_<0)throw new m.ErrnoError(28);if(m.isClosed(c))throw new m.ErrnoError(8);if((c.flags&2097155)===0)throw new m.ErrnoError(8);if(m.isDir(c.node.mode))throw new m.ErrnoError(31);if(!c.stream_ops.write)throw new m.ErrnoError(28);c.seekable&&c.flags&1024&&m.llseek(c,0,2);var S=typeof _<"u";if(!S)_=c.position;else if(!c.seekable)throw new m.ErrnoError(70);var D=c.stream_ops.write(c,f,p,g,_,L);return S||(c.position+=D),D},allocate:(c,f,p)=>{if(m.isClosed(c))throw new m.ErrnoError(8);if(f<0||p<=0)throw new m.ErrnoError(28);if((c.flags&2097155)===0)throw new m.ErrnoError(8);if(!m.isFile(c.node.mode)&&!m.isDir(c.node.mode))throw new m.ErrnoError(43);if(!c.stream_ops.allocate)throw new m.ErrnoError(138);c.stream_ops.allocate(c,f,p)},mmap:(c,f,p,g,_)=>{if((g&2)!==0&&(_&2)===0&&(c.flags&2097155)!==2)throw new m.ErrnoError(2);if((c.flags&2097155)===1)throw new m.ErrnoError(2);if(!c.stream_ops.mmap)throw new m.ErrnoError(43);return c.stream_ops.mmap(c,f,p,g,_)},msync:(c,f,p,g,_)=>c.stream_ops.msync?c.stream_ops.msync(c,f,p,g,_):0,munmap:c=>0,ioctl:(c,f,p)=>{if(!c.stream_ops.ioctl)throw new m.ErrnoError(59);return c.stream_ops.ioctl(c,f,p)},readFile:(c,f={})=>{if(f.flags=f.flags||0,f.encoding=f.encoding||"binary",f.encoding!=="utf8"&&f.encoding!=="binary")throw new Error('Invalid encoding type "'+f.encoding+'"');var p,g=m.open(c,f.flags),_=m.stat(c),L=_.size,S=new Uint8Array(L);return m.read(g,S,0,L,0),f.encoding==="utf8"?p=a2(S,0):f.encoding==="binary"&&(p=S),m.close(g),p},writeFile:(c,f,p={})=>{p.flags=p.flags||577;var g=m.open(c,p.flags,p.mode);if(typeof f=="string"){var _=new Uint8Array(N(f)+1),L=M2(f,_,0,_.length);m.write(g,_,0,L,void 0,p.canOwn)}else if(ArrayBuffer.isView(f))m.write(g,f,0,f.byteLength,void 0,p.canOwn);else throw new Error("Unsupported data type");m.close(g)},cwd:()=>m.currentPath,chdir:c=>{var f=m.lookupPath(c,{follow:!0});if(f.node===null)throw new m.ErrnoError(44);if(!m.isDir(f.node.mode))throw new m.ErrnoError(54);var p=m.nodePermissions(f.node,"x");if(p)throw new m.ErrnoError(p);m.currentPath=f.path},createDefaultDirectories:()=>{m.mkdir("/tmp"),m.mkdir("/home"),m.mkdir("/home/web_user")},createDefaultDevices:()=>{m.mkdir("/dev"),m.registerDevice(m.makedev(1,3),{read:()=>0,write:(f,p,g,_,L)=>_}),m.mkdev("/dev/null",m.makedev(1,3)),Ie.register(m.makedev(5,0),Ie.default_tty_ops),Ie.register(m.makedev(6,0),Ie.default_tty1_ops),m.mkdev("/dev/tty",m.makedev(5,0)),m.mkdev("/dev/tty1",m.makedev(6,0));var c=e9();m.createDevice("/dev","random",c),m.createDevice("/dev","urandom",c),m.mkdir("/dev/shm"),m.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{m.mkdir("/proc");var c=m.mkdir("/proc/self");m.mkdir("/proc/self/fd"),m.mount({mount:()=>{var f=m.createNode(c,"fd",16895,73);return f.node_ops={lookup:(p,g)=>{var _=+g,L=m.getStream(_);if(!L)throw new m.ErrnoError(8);var S={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>L.path}};return S.parent=S,S}},f}},{},"/proc/self/fd")},createStandardStreams:()=>{e.stdin?m.createDevice("/dev","stdin",e.stdin):m.symlink("/dev/tty","/dev/stdin"),e.stdout?m.createDevice("/dev","stdout",null,e.stdout):m.symlink("/dev/tty","/dev/stdout"),e.stderr?m.createDevice("/dev","stderr",null,e.stderr):m.symlink("/dev/tty1","/dev/stderr");var c=m.open("/dev/stdin",0),f=m.open("/dev/stdout",1),p=m.open("/dev/stderr",1)},ensureErrnoError:()=>{m.ErrnoError||(m.ErrnoError=function(f,p){this.node=p,this.setErrno=function(g){this.errno=g},this.setErrno(f),this.message="FS error"},m.ErrnoError.prototype=new Error,m.ErrnoError.prototype.constructor=m.ErrnoError,[44].forEach(c=>{m.genericErrors[c]=new m.ErrnoError(c),m.genericErrors[c].stack="<generic error, no stack>"}))},staticInit:()=>{m.ensureErrnoError(),m.nameTable=new Array(4096),m.mount(h2,{},"/"),m.createDefaultDirectories(),m.createDefaultDevices(),m.createSpecialDirectories(),m.filesystems={MEMFS:h2}},init:(c,f,p)=>{m.init.initialized=!0,m.ensureErrnoError(),e.stdin=c||e.stdin,e.stdout=f||e.stdout,e.stderr=p||e.stderr,m.createStandardStreams()},quit:()=>{m.init.initialized=!1;for(var c=0;c<m.streams.length;c++){var f=m.streams[c];f&&m.close(f)}},getMode:(c,f)=>{var p=0;return c&&(p|=365),f&&(p|=146),p},findObject:(c,f)=>{var p=m.analyzePath(c,f);return p.exists?p.object:null},analyzePath:(c,f)=>{try{var p=m.lookupPath(c,{follow:!f});c=p.path}catch{}var g={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var p=m.lookupPath(c,{parent:!0});g.parentExists=!0,g.parentPath=p.path,g.parentObject=p.node,g.name=A2.basename(c),p=m.lookupPath(c,{follow:!f}),g.exists=!0,g.path=p.path,g.object=p.node,g.name=p.node.name,g.isRoot=p.path==="/"}catch(_){g.error=_.errno}return g},createPath:(c,f,p,g)=>{c=typeof c=="string"?c:m.getPath(c);for(var _=f.split("/").reverse();_.length;){var L=_.pop();if(L){var S=A2.join2(c,L);try{m.mkdir(S)}catch{}c=S}}return S},createFile:(c,f,p,g,_)=>{var L=A2.join2(typeof c=="string"?c:m.getPath(c),f),S=m.getMode(g,_);return m.create(L,S)},createDataFile:(c,f,p,g,_,L)=>{var S=f;c&&(c=typeof c=="string"?c:m.getPath(c),S=f?A2.join2(c,f):c);var D=m.getMode(g,_),K=m.create(S,D);if(p){if(typeof p=="string"){for(var c2=new Array(p.length),w2=0,R2=p.length;w2<R2;++w2)c2[w2]=p.charCodeAt(w2);p=c2}m.chmod(K,D|146);var d2=m.open(K,577);m.write(d2,p,0,p.length,0,L),m.close(d2),m.chmod(K,D)}return K},createDevice:(c,f,p,g)=>{var _=A2.join2(typeof c=="string"?c:m.getPath(c),f),L=m.getMode(!!p,!!g);m.createDevice.major||(m.createDevice.major=64);var S=m.makedev(m.createDevice.major++,0);return m.registerDevice(S,{open:D=>{D.seekable=!1},close:D=>{g&&g.buffer&&g.buffer.length&&g(10)},read:(D,K,c2,w2,R2)=>{for(var d2=0,i2=0;i2<w2;i2++){var D2;try{D2=p()}catch{throw new m.ErrnoError(29)}if(D2===void 0&&d2===0)throw new m.ErrnoError(6);if(D2==null)break;d2++,K[c2+i2]=D2}return d2&&(D.node.timestamp=Date.now()),d2},write:(D,K,c2,w2,R2)=>{for(var d2=0;d2<w2;d2++)try{g(K[c2+d2])}catch{throw new m.ErrnoError(29)}return w2&&(D.node.timestamp=Date.now()),d2}}),m.mkdev(_,L,S)},forceLoadFile:c=>{if(c.isDevice||c.isFolder||c.link||c.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(z)try{c.contents=An(z(c.url),!0),c.usedBytes=c.contents.length}catch{throw new m.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(c,f,p,g,_)=>{function L(){this.lengthKnown=!1,this.chunks=[]}if(L.prototype.get=function(i2){if(!(i2>this.length-1||i2<0)){var D2=i2%this.chunkSize,i1=i2/this.chunkSize|0;return this.getter(i1)[D2]}},L.prototype.setDataGetter=function(i2){this.getter=i2},L.prototype.cacheLength=function(){var i2=new XMLHttpRequest;if(i2.open("HEAD",p,!1),i2.send(null),!(i2.status>=200&&i2.status<300||i2.status===304))throw new Error("Couldn't load "+p+". Status: "+i2.status);var D2=Number(i2.getResponseHeader("Content-length")),i1,he=(i1=i2.getResponseHeader("Accept-Ranges"))&&i1==="bytes",q1=(i1=i2.getResponseHeader("Content-Encoding"))&&i1==="gzip",G1=1024*1024;he||(G1=D2);var Y1=(te,Q4)=>{if(te>Q4)throw new Error("invalid range ("+te+", "+Q4+") or no bytes requested!");if(Q4>D2-1)throw new Error("only "+D2+" bytes available! programmer error!");var o1=new XMLHttpRequest;if(o1.open("GET",p,!1),D2!==G1&&o1.setRequestHeader("Range","bytes="+te+"-"+Q4),o1.responseType="arraybuffer",o1.overrideMimeType&&o1.overrideMimeType("text/plain; charset=x-user-defined"),o1.send(null),!(o1.status>=200&&o1.status<300||o1.status===304))throw new Error("Couldn't load "+p+". Status: "+o1.status);return o1.response!==void 0?new Uint8Array(o1.response||[]):An(o1.responseText||"",!0)},tt=this;tt.setDataGetter(te=>{var Q4=te*G1,o1=(te+1)*G1-1;if(o1=Math.min(o1,D2-1),typeof tt.chunks[te]>"u"&&(tt.chunks[te]=Y1(Q4,o1)),typeof tt.chunks[te]>"u")throw new Error("doXHR failed!");return tt.chunks[te]}),(q1||!D2)&&(G1=D2=1,D2=this.getter(0).length,G1=D2,Z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=D2,this._chunkSize=G1,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!h)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var S=new L;Object.defineProperties(S,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var D={isDevice:!1,contents:S}}else var D={isDevice:!1,url:p};var K=m.createFile(c,f,D,g,_);D.contents?K.contents=D.contents:D.url&&(K.contents=null,K.url=D.url),Object.defineProperties(K,{usedBytes:{get:function(){return this.contents.length}}});var c2={},w2=Object.keys(K.stream_ops);w2.forEach(d2=>{var i2=K.stream_ops[d2];c2[d2]=function(){return m.forceLoadFile(K),i2.apply(null,arguments)}});function R2(d2,i2,D2,i1,he){var q1=d2.node.contents;if(he>=q1.length)return 0;var G1=Math.min(q1.length-he,i1);if(q1.slice)for(var Y1=0;Y1<G1;Y1++)i2[D2+Y1]=q1[he+Y1];else for(var Y1=0;Y1<G1;Y1++)i2[D2+Y1]=q1.get(he+Y1);return G1}return c2.read=(d2,i2,D2,i1,he)=>(m.forceLoadFile(K),R2(d2,i2,D2,i1,he)),c2.mmap=(d2,i2,D2,i1,he)=>{m.forceLoadFile(K);var q1=x6(i2);if(!q1)throw new m.ErrnoError(48);return R2(d2,M,q1,i2,D2),{ptr:q1,allocated:!0}},K.stream_ops=c2,K},createPreloadedFile:(c,f,p,g,_,L,S,D,K,c2)=>{var w2=f?me.resolve(A2.join2(c,f)):c,R2="cp "+w2;function d2(i2){function D2(i1){c2&&c2(),D||m.createDataFile(c,f,i1,g,_,K),L&&L(),M0(R2)}Browser.handledByPreloadPlugin(i2,w2,D2,()=>{S&&S(),M0(R2)})||D2(i2)}h4(R2),typeof p=="string"?t9(p,i2=>d2(i2),S):d2(p)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(c,f,p)=>{f=f||(()=>{}),p=p||(()=>{});var g=m.indexedDB();try{var _=g.open(m.DB_NAME(),m.DB_VERSION)}catch(L){return p(L)}_.onupgradeneeded=()=>{Z("creating db");var L=_.result;L.createObjectStore(m.DB_STORE_NAME)},_.onsuccess=()=>{var L=_.result,S=L.transaction([m.DB_STORE_NAME],"readwrite"),D=S.objectStore(m.DB_STORE_NAME),K=0,c2=0,w2=c.length;function R2(){c2==0?f():p()}c.forEach(d2=>{var i2=D.put(m.analyzePath(d2).object.contents,d2);i2.onsuccess=()=>{K++,K+c2==w2&&R2()},i2.onerror=()=>{c2++,K+c2==w2&&R2()}}),S.onerror=p},_.onerror=p},loadFilesFromDB:(c,f,p)=>{f=f||(()=>{}),p=p||(()=>{});var g=m.indexedDB();try{var _=g.open(m.DB_NAME(),m.DB_VERSION)}catch(L){return p(L)}_.onupgradeneeded=p,_.onsuccess=()=>{var L=_.result;try{var S=L.transaction([m.DB_STORE_NAME],"readonly")}catch(d2){p(d2);return}var D=S.objectStore(m.DB_STORE_NAME),K=0,c2=0,w2=c.length;function R2(){c2==0?f():p()}c.forEach(d2=>{var i2=D.get(d2);i2.onsuccess=()=>{m.analyzePath(d2).exists&&m.unlink(d2),m.createDataFile(A2.dirname(d2),A2.basename(d2),i2.result,!0,!0,!0),K++,K+c2==w2&&R2()},i2.onerror=()=>{c2++,K+c2==w2&&R2()}}),S.onerror=p},_.onerror=p}},K2={DEFAULT_POLLMASK:5,calculateAt:function(c,f,p){if(A2.isAbs(f))return f;var g;if(c===-100)g=m.cwd();else{var _=K2.getStreamFromFD(c);g=_.path}if(f.length==0){if(!p)throw new m.ErrnoError(44);return g}return A2.join2(g,f)},doStat:function(c,f,p){try{var g=c(f)}catch(D){if(D&&D.node&&A2.normalize(f)!==A2.normalize(m.getPath(D.node)))return-54;throw D}Y[p>>2]=g.dev,Y[p+8>>2]=g.ino,Y[p+12>>2]=g.mode,B[p+16>>2]=g.nlink,Y[p+20>>2]=g.uid,Y[p+24>>2]=g.gid,Y[p+28>>2]=g.rdev,q2=[g.size>>>0,(m2=g.size,+Math.abs(m2)>=1?m2>0?(Math.min(+Math.floor(m2/4294967296),4294967295)|0)>>>0:~~+Math.ceil((m2-+(~~m2>>>0))/4294967296)>>>0:0)],Y[p+40>>2]=q2[0],Y[p+44>>2]=q2[1],Y[p+48>>2]=4096,Y[p+52>>2]=g.blocks;var _=g.atime.getTime(),L=g.mtime.getTime(),S=g.ctime.getTime();return q2=[Math.floor(_/1e3)>>>0,(m2=Math.floor(_/1e3),+Math.abs(m2)>=1?m2>0?(Math.min(+Math.floor(m2/4294967296),4294967295)|0)>>>0:~~+Math.ceil((m2-+(~~m2>>>0))/4294967296)>>>0:0)],Y[p+56>>2]=q2[0],Y[p+60>>2]=q2[1],B[p+64>>2]=_%1e3*1e3,q2=[Math.floor(L/1e3)>>>0,(m2=Math.floor(L/1e3),+Math.abs(m2)>=1?m2>0?(Math.min(+Math.floor(m2/4294967296),4294967295)|0)>>>0:~~+Math.ceil((m2-+(~~m2>>>0))/4294967296)>>>0:0)],Y[p+72>>2]=q2[0],Y[p+76>>2]=q2[1],B[p+80>>2]=L%1e3*1e3,q2=[Math.floor(S/1e3)>>>0,(m2=Math.floor(S/1e3),+Math.abs(m2)>=1?m2>0?(Math.min(+Math.floor(m2/4294967296),4294967295)|0)>>>0:~~+Math.ceil((m2-+(~~m2>>>0))/4294967296)>>>0:0)],Y[p+88>>2]=q2[0],Y[p+92>>2]=q2[1],B[p+96>>2]=S%1e3*1e3,q2=[g.ino>>>0,(m2=g.ino,+Math.abs(m2)>=1?m2>0?(Math.min(+Math.floor(m2/4294967296),4294967295)|0)>>>0:~~+Math.ceil((m2-+(~~m2>>>0))/4294967296)>>>0:0)],Y[p+104>>2]=q2[0],Y[p+108>>2]=q2[1],0},doMsync:function(c,f,p,g,_){if(!m.isFile(f.node.mode))throw new m.ErrnoError(43);if(g&2)return 0;var L=x.slice(c,c+p);m.msync(f,L,_,p,g)},varargs:void 0,get:function(){K2.varargs+=4;var c=Y[K2.varargs-4>>2];return c},getStr:function(c){var f=p2(c);return f},getStreamFromFD:function(c){var f=m.getStream(c);if(!f)throw new m.ErrnoError(8);return f}};function r9(c,f,p){K2.varargs=p;try{var g=K2.getStreamFromFD(c);switch(f){case 0:{var _=K2.get();if(_<0)return-28;var L;return L=m.createStream(g,_),L.fd}case 1:case 2:return 0;case 3:return g.flags;case 4:{var _=K2.get();return g.flags|=_,0}case 5:{var _=K2.get(),S=0;return G[_+S>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Q7(28),-1;default:return-28}}catch(D){if(typeof m>"u"||!(D instanceof m.ErrnoError))throw D;return-D.errno}}function n9(c,f,p){K2.varargs=p;try{var g=K2.getStreamFromFD(c);switch(f){case 21509:case 21505:return g.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return g.tty?0:-59;case 21519:{if(!g.tty)return-59;var _=K2.get();return Y[_>>2]=0,0}case 21520:return g.tty?-28:-59;case 21531:{var _=K2.get();return m.ioctl(g,f,_)}case 21523:return g.tty?0:-59;case 21524:return g.tty?0:-59;default:return-28}}catch(L){if(typeof m>"u"||!(L instanceof m.ErrnoError))throw L;return-L.errno}}function a9(c,f,p,g){K2.varargs=g;try{f=K2.getStr(f),f=K2.calculateAt(c,f);var _=g?K2.get():0;return m.open(f,p,_).fd}catch(L){if(typeof m>"u"||!(L instanceof m.ErrnoError))throw L;return-L.errno}}function i9(){throw 1/0}function o9(c){return B[c>>2]+Y[c+4>>2]*4294967296}function s9(c,f){var p=new Date(o9(c)*1e3);Y[f>>2]=p.getUTCSeconds(),Y[f+4>>2]=p.getUTCMinutes(),Y[f+8>>2]=p.getUTCHours(),Y[f+12>>2]=p.getUTCDate(),Y[f+16>>2]=p.getUTCMonth(),Y[f+20>>2]=p.getUTCFullYear()-1900,Y[f+24>>2]=p.getUTCDay();var g=Date.UTC(p.getUTCFullYear(),0,1,0,0,0,0),_=(p.getTime()-g)/(1e3*60*60*24)|0;Y[f+28>>2]=_}function D6(c){var f=N(c)+1,p=R6(f);return p&&M2(c,M,p,f),p}function c9(c,f,p){var g=new Date().getFullYear(),_=new Date(g,0,1),L=new Date(g,6,1),S=_.getTimezoneOffset(),D=L.getTimezoneOffset(),K=Math.max(S,D);B[c>>2]=K*60,Y[f>>2]=+(S!=D);function c2(D2){var i1=D2.toTimeString().match(/\(([A-Za-z ]+)\)$/);return i1?i1[1]:"GMT"}var w2=c2(_),R2=c2(L),d2=D6(w2),i2=D6(R2);D<S?(B[p>>2]=d2,B[p+4>>2]=i2):(B[p>>2]=i2,B[p+4>>2]=d2)}function l9(){ee("")}function f9(){return Date.now()}function u9(c,f,p){x.copyWithin(c,f,f+p)}function d9(){return 2147483648}function p9(c){try{return I2.grow(c-d.byteLength+65535>>>16),q(I2.buffer),1}catch{}}function m9(c){var f=x.length;c=c>>>0;var p=d9();if(c>p)return!1;let g=(K,c2)=>K+(c2-K%c2)%c2;for(var _=1;_<=4;_*=2){var L=f*(1+.2/_);L=Math.min(L,c+100663296);var S=Math.min(p,g(Math.max(c,L),65536)),D=p9(S);if(D)return!0}return!1}function h9(c){try{var f=K2.getStreamFromFD(c);return m.close(f),0}catch(p){if(typeof m>"u"||!(p instanceof m.ErrnoError))throw p;return p.errno}}function g9(c,f,p,g){for(var _=0,L=0;L<p;L++){var S=B[f>>2],D=B[f+4>>2];f+=8;var K=m.read(c,M,S,D,g);if(K<0)return-1;if(_+=K,K<D)break}return _}function v9(c,f,p,g){try{var _=K2.getStreamFromFD(c),L=g9(_,f,p);return B[g>>2]=L,0}catch(S){if(typeof m>"u"||!(S instanceof m.ErrnoError))throw S;return S.errno}}function _9(c,f){return f+2097152>>>0<4194305-!!c?(c>>>0)+f*4294967296:NaN}function y9(c,f,p,g,_){try{var L=_9(f,p);if(isNaN(L))return 61;var S=K2.getStreamFromFD(c);return m.llseek(S,L,g),q2=[S.position>>>0,(m2=S.position,+Math.abs(m2)>=1?m2>0?(Math.min(+Math.floor(m2/4294967296),4294967295)|0)>>>0:~~+Math.ceil((m2-+(~~m2>>>0))/4294967296)>>>0:0)],Y[_>>2]=q2[0],Y[_+4>>2]=q2[1],S.getdents&&L===0&&g===0&&(S.getdents=null),0}catch(D){if(typeof m>"u"||!(D instanceof m.ErrnoError))throw D;return D.errno}}function M9(c,f,p,g){for(var _=0,L=0;L<p;L++){var S=B[f>>2],D=B[f+4>>2];f+=8;var K=m.write(c,M,S,D,g);if(K<0)return-1;_+=K}return _}function b9(c,f,p,g){try{var _=K2.getStreamFromFD(c),L=M9(_,f,p);return B[g>>2]=L,0}catch(S){if(typeof m>"u"||!(S instanceof m.ErrnoError))throw S;return S.errno}}var et=[];function m1(c){var f=et[c];return f||(c>=et.length&&(et.length=c+1),et[c]=f=e2.get(c)),f}function k6(c,f){c<128?f.push(c):f.push(c%128|128,c>>7)}function z9(c){for(var f={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},p={parameters:[],results:c[0]=="v"?[]:[f[c[0]]]},g=1;g<c.length;++g)p.parameters.push(f[c[g]]),c[g]==="j"&&p.parameters.push("i32");return p}function L9(c,f){var p=c.slice(0,1),g=c.slice(1),_={i:127,p:127,j:126,f:125,d:124};f.push(96),k6(g.length,f);for(var L=0;L<g.length;++L)f.push(_[g[L]]);p=="v"?f.push(0):f.push(1,_[p])}function C9(c,f){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(z9(f),c);var p=[1];L9(f,p);var g=[0,97,115,109,1,0,0,0,1];k6(p.length,g),g.push.apply(g,p),g.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var _=new WebAssembly.Module(new Uint8Array(g)),L=new WebAssembly.Instance(_,{e:{f:c}}),S=L.exports.f;return S}function w9(c,f){if(Oe)for(var p=c;p<c+f;p++){var g=m1(p);g&&Oe.set(g,p)}}var Oe=void 0,Tn=[];function S9(){if(Tn.length)return Tn.pop();try{e2.grow(1)}catch(c){throw c instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":c}return e2.length-1}function N6(c,f){e2.set(c,f),et[c]=e2.get(c)}function x9(c,f){if(Oe||(Oe=new WeakMap,w9(0,e2.length)),Oe.has(c))return Oe.get(c);var p=S9();try{N6(p,c)}catch(_){if(!(_ instanceof TypeError))throw _;var g=C9(c,f);N6(p,g)}return Oe.set(c,p),p}function D9(c){Oe.delete(m1(c)),Tn.push(c)}var E6=function(c,f,p,g){c||(c=this),this.parent=c,this.mount=c.mount,this.mounted=null,this.id=m.nextInode++,this.name=f,this.mode=p,this.node_ops={},this.stream_ops={},this.rdev=g},z0=365,L0=146;Object.defineProperties(E6.prototype,{read:{get:function(){return(this.mode&z0)===z0},set:function(c){c?this.mode|=z0:this.mode&=~z0}},write:{get:function(){return(this.mode&L0)===L0},set:function(c){c?this.mode|=L0:this.mode&=~L0}},isFolder:{get:function(){return m.isDir(this.mode)}},isDevice:{get:function(){return m.isChrdev(this.mode)}}}),m.FSNode=E6,m.staticInit();var k9={i:J7,q:r9,x:n9,y:a9,u:i9,z:s9,A:c9,j:l9,r:f9,B:u9,v:m9,o:h9,w:v9,t:y9,p:b9,n:Jp,s:tm,g:Wp,e:Gp,c:Vp,f:Xp,C:em,b:$p,l:Qp,d:Hp,k:Yp,a:qp,h:Zp,m:Kp},IL=X7(),N9=e.___wasm_call_ctors=function(){return(N9=e.___wasm_call_ctors=e.asm.E).apply(null,arguments)},E9=e._glp_printf=function(){return(E9=e._glp_printf=e.asm.F).apply(null,arguments)},R9=e._glp_alloc=function(){return(R9=e._glp_alloc=e.asm.G).apply(null,arguments)},A9=e._glp_free=function(){return(A9=e._glp_free=e.asm.H).apply(null,arguments)},T9=e._glp_adv_basis=function(){return(T9=e._glp_adv_basis=e.asm.I).apply(null,arguments)},I9=e._glp_std_basis=function(){return(I9=e._glp_std_basis=e.asm.J).apply(null,arguments)},O9=e._glp_set_row_stat=function(){return(O9=e._glp_set_row_stat=e.asm.K).apply(null,arguments)},P9=e._glp_set_col_stat=function(){return(P9=e._glp_set_col_stat=e.asm.L).apply(null,arguments)},F9=e._glp_assert_=function(){return(F9=e._glp_assert_=e.asm.M).apply(null,arguments)},B9=e._glp_asnprob_hall=function(){return(B9=e._glp_asnprob_hall=e.asm.O).apply(null,arguments)},j9=e._glp_check_asnprob=function(){return(j9=e._glp_check_asnprob=e.asm.P).apply(null,arguments)},U9=e._glp_asnprob_lp=function(){return(U9=e._glp_asnprob_lp=e.asm.Q).apply(null,arguments)},H9=e._glp_erase_prob=function(){return(H9=e._glp_erase_prob=e.asm.R).apply(null,arguments)},V9=e._glp_set_prob_name=function(){return(V9=e._glp_set_prob_name=e.asm.S).apply(null,arguments)},$9=e._glp_set_obj_dir=function(){return($9=e._glp_set_obj_dir=e.asm.T).apply(null,arguments)},W9=e._glp_add_rows=function(){return(W9=e._glp_add_rows=e.asm.U).apply(null,arguments)},q9=e._glp_set_row_name=function(){return(q9=e._glp_set_row_name=e.asm.V).apply(null,arguments)},G9=e._glp_set_row_bnds=function(){return(G9=e._glp_set_row_bnds=e.asm.W).apply(null,arguments)},Y9=e._glp_add_cols=function(){return(Y9=e._glp_add_cols=e.asm.X).apply(null,arguments)},X9=e._glp_set_col_name=function(){return(X9=e._glp_set_col_name=e.asm.Y).apply(null,arguments)},K9=e._glp_set_mat_col=function(){return(K9=e._glp_set_mat_col=e.asm.Z).apply(null,arguments)},Z9=e._glp_set_col_bnds=function(){return(Z9=e._glp_set_col_bnds=e.asm._).apply(null,arguments)},J9=e._glp_set_obj_coef=function(){return(J9=e._glp_set_obj_coef=e.asm.$).apply(null,arguments)},Q9=e._glp_asnprob_okalg=function(){return(Q9=e._glp_asnprob_okalg=e.asm.aa).apply(null,arguments)},ef=e._glp_check_cnfsat=function(){return(ef=e._glp_check_cnfsat=e.asm.ba).apply(null,arguments)},tf=e._glp_init_cpxcp=function(){return(tf=e._glp_init_cpxcp=e.asm.ca).apply(null,arguments)},rf=e._glp_read_lp=function(){return(rf=e._glp_read_lp=e.asm.da).apply(null,arguments)},R6=e._malloc=function(){return(R6=e._malloc=e.asm.ea).apply(null,arguments)},nf=e._glp_create_index=function(){return(nf=e._glp_create_index=e.asm.fa).apply(null,arguments)},af=e._glp_set_obj_name=function(){return(af=e._glp_set_obj_name=e.asm.ga).apply(null,arguments)},of=e._glp_find_row=function(){return(of=e._glp_find_row=e.asm.ha).apply(null,arguments)},sf=e._glp_set_mat_row=function(){return(sf=e._glp_set_mat_row=e.asm.ia).apply(null,arguments)},cf=e._glp_get_col_name=function(){return(cf=e._glp_get_col_name=e.asm.ja).apply(null,arguments)},lf=e._glp_get_num_int=function(){return(lf=e._glp_get_num_int=e.asm.ka).apply(null,arguments)},ff=e._glp_get_num_bin=function(){return(ff=e._glp_get_num_bin=e.asm.la).apply(null,arguments)},uf=e._glp_delete_index=function(){return(uf=e._glp_delete_index=e.asm.ma).apply(null,arguments)},df=e._glp_sort_matrix=function(){return(df=e._glp_sort_matrix=e.asm.na).apply(null,arguments)},pf=e._glp_set_col_kind=function(){return(pf=e._glp_set_col_kind=e.asm.oa).apply(null,arguments)},mf=e._free=function(){return(mf=e._free=e.asm.pa).apply(null,arguments)},hf=e._glp_write_lp=function(){return(hf=e._glp_write_lp=e.asm.qa).apply(null,arguments)},gf=e._glp_get_obj_name=function(){return(gf=e._glp_get_obj_name=e.asm.ra).apply(null,arguments)},vf=e._glp_get_row_name=function(){return(vf=e._glp_get_row_name=e.asm.sa).apply(null,arguments)},_f=e._glp_find_col=function(){return(_f=e._glp_find_col=e.asm.ta).apply(null,arguments)},yf=e._glp_cpp=function(){return(yf=e._glp_cpp=e.asm.ua).apply(null,arguments)},Mf=e._glp_top_sort=function(){return(Mf=e._glp_top_sort=e.asm.va).apply(null,arguments)},bf=e._glp_cpx_basis=function(){return(bf=e._glp_cpx_basis=e.asm.wa).apply(null,arguments)},zf=e._glp_get_num_rows=function(){return(zf=e._glp_get_num_rows=e.asm.xa).apply(null,arguments)},Lf=e._glp_get_num_cols=function(){return(Lf=e._glp_get_num_cols=e.asm.ya).apply(null,arguments)},Cf=e._glp_get_row_type=function(){return(Cf=e._glp_get_row_type=e.asm.za).apply(null,arguments)},wf=e._glp_get_row_lb=function(){return(wf=e._glp_get_row_lb=e.asm.Aa).apply(null,arguments)},Sf=e._glp_get_row_ub=function(){return(Sf=e._glp_get_row_ub=e.asm.Ba).apply(null,arguments)},xf=e._glp_get_col_type=function(){return(xf=e._glp_get_col_type=e.asm.Ca).apply(null,arguments)},Df=e._glp_get_col_lb=function(){return(Df=e._glp_get_col_lb=e.asm.Da).apply(null,arguments)},kf=e._glp_get_col_ub=function(){return(kf=e._glp_get_col_ub=e.asm.Ea).apply(null,arguments)},Nf=e._glp_get_obj_coef=function(){return(Nf=e._glp_get_obj_coef=e.asm.Fa).apply(null,arguments)},Ef=e._glp_get_obj_dir=function(){return(Ef=e._glp_get_obj_dir=e.asm.Ga).apply(null,arguments)},Rf=e._glp_get_mat_col=function(){return(Rf=e._glp_get_mat_col=e.asm.Ha).apply(null,arguments)},Af=e._glp_create_graph=function(){return(Af=e._glp_create_graph=e.asm.Ia).apply(null,arguments)},Tf=e._glp_set_graph_name=function(){return(Tf=e._glp_set_graph_name=e.asm.Ja).apply(null,arguments)},If=e._glp_add_vertices=function(){return(If=e._glp_add_vertices=e.asm.Ka).apply(null,arguments)},Of=e._glp_set_vertex_name=function(){return(Of=e._glp_set_vertex_name=e.asm.La).apply(null,arguments)},Pf=e._glp_add_arc=function(){return(Pf=e._glp_add_arc=e.asm.Ma).apply(null,arguments)},Ff=e._glp_del_vertices=function(){return(Ff=e._glp_del_vertices=e.asm.Na).apply(null,arguments)},Bf=e._glp_del_arc=function(){return(Bf=e._glp_del_arc=e.asm.Oa).apply(null,arguments)},jf=e._glp_erase_graph=function(){return(jf=e._glp_erase_graph=e.asm.Pa).apply(null,arguments)},Uf=e._glp_delete_graph=function(){return(Uf=e._glp_delete_graph=e.asm.Qa).apply(null,arguments)},Hf=e._glp_create_v_index=function(){return(Hf=e._glp_create_v_index=e.asm.Ra).apply(null,arguments)},Vf=e._glp_find_vertex=function(){return(Vf=e._glp_find_vertex=e.asm.Sa).apply(null,arguments)},$f=e._glp_delete_v_index=function(){return($f=e._glp_delete_v_index=e.asm.Ta).apply(null,arguments)},Wf=e._glp_gridgen=function(){return(Wf=e._glp_gridgen=e.asm.Ua).apply(null,arguments)},qf=e._glp_intfeas1=function(){return(qf=e._glp_intfeas1=e.asm.Va).apply(null,arguments)},Gf=e._glp_create_prob=function(){return(Gf=e._glp_create_prob=e.asm.Wa).apply(null,arguments)},Yf=e._glp_minisat1=function(){return(Yf=e._glp_minisat1=e.asm.Xa).apply(null,arguments)},Xf=e._glp_delete_prob=function(){return(Xf=e._glp_delete_prob=e.asm.Ya).apply(null,arguments)},Kf=e._glp_del_rows=function(){return(Kf=e._glp_del_rows=e.asm.Za).apply(null,arguments)},Zf=e._glp_maxflow_ffalg=function(){return(Zf=e._glp_maxflow_ffalg=e.asm._a).apply(null,arguments)},Jf=e._glp_maxflow_lp=function(){return(Jf=e._glp_maxflow_lp=e.asm.$a).apply(null,arguments)},Qf=e._glp_mincost_lp=function(){return(Qf=e._glp_mincost_lp=e.asm.ab).apply(null,arguments)},eu=e._glp_mincost_okalg=function(){return(eu=e._glp_mincost_okalg=e.asm.bb).apply(null,arguments)},tu=e._glp_mincost_relax4=function(){return(tu=e._glp_mincost_relax4=e.asm.cb).apply(null,arguments)},ru=e._glp_mpl_alloc_wksp=function(){return(ru=e._glp_mpl_alloc_wksp=e.asm.db).apply(null,arguments)},nu=e._glp_mpl_init_rand=function(){return(nu=e._glp_mpl_init_rand=e.asm.eb).apply(null,arguments)},au=e._glp_mpl_read_model=function(){return(au=e._glp_mpl_read_model=e.asm.fb).apply(null,arguments)},iu=e._glp_mpl_read_data=function(){return(iu=e._glp_mpl_read_data=e.asm.gb).apply(null,arguments)},ou=e._glp_mpl_generate=function(){return(ou=e._glp_mpl_generate=e.asm.hb).apply(null,arguments)},su=e._glp_mpl_build_prob=function(){return(su=e._glp_mpl_build_prob=e.asm.ib).apply(null,arguments)},cu=e._glp_mpl_postsolve=function(){return(cu=e._glp_mpl_postsolve=e.asm.jb).apply(null,arguments)},lu=e._glp_get_row_stat=function(){return(lu=e._glp_get_row_stat=e.asm.kb).apply(null,arguments)},fu=e._glp_get_row_prim=function(){return(fu=e._glp_get_row_prim=e.asm.lb).apply(null,arguments)},uu=e._glp_get_row_dual=function(){return(uu=e._glp_get_row_dual=e.asm.mb).apply(null,arguments)},du=e._glp_ipt_row_prim=function(){return(du=e._glp_ipt_row_prim=e.asm.nb).apply(null,arguments)},pu=e._glp_ipt_row_dual=function(){return(pu=e._glp_ipt_row_dual=e.asm.ob).apply(null,arguments)},mu=e._glp_mip_row_val=function(){return(mu=e._glp_mip_row_val=e.asm.pb).apply(null,arguments)},hu=e._glp_get_col_stat=function(){return(hu=e._glp_get_col_stat=e.asm.qb).apply(null,arguments)},gu=e._glp_get_col_prim=function(){return(gu=e._glp_get_col_prim=e.asm.rb).apply(null,arguments)},vu=e._glp_get_col_dual=function(){return(vu=e._glp_get_col_dual=e.asm.sb).apply(null,arguments)},_u=e._glp_ipt_col_prim=function(){return(_u=e._glp_ipt_col_prim=e.asm.tb).apply(null,arguments)},yu=e._glp_ipt_col_dual=function(){return(yu=e._glp_ipt_col_dual=e.asm.ub).apply(null,arguments)},Mu=e._glp_mip_col_val=function(){return(Mu=e._glp_mip_col_val=e.asm.vb).apply(null,arguments)},bu=e._glp_mpl_free_wksp=function(){return(bu=e._glp_mpl_free_wksp=e.asm.wb).apply(null,arguments)},zu=e._glp_init_mpscp=function(){return(zu=e._glp_init_mpscp=e.asm.xb).apply(null,arguments)},Lu=e._glp_read_mps=function(){return(Lu=e._glp_read_mps=e.asm.yb).apply(null,arguments)},Cu=e._glp_write_mps=function(){return(Cu=e._glp_write_mps=e.asm.zb).apply(null,arguments)},wu=e._glp_netgen=function(){return(wu=e._glp_netgen=e.asm.Ab).apply(null,arguments)},Su=e._glp_npp_alloc_wksp=function(){return(Su=e._glp_npp_alloc_wksp=e.asm.Bb).apply(null,arguments)},xu=e._glp_npp_load_prob=function(){return(xu=e._glp_npp_load_prob=e.asm.Cb).apply(null,arguments)},Du=e._glp_npp_preprocess1=function(){return(Du=e._glp_npp_preprocess1=e.asm.Db).apply(null,arguments)},ku=e._glp_npp_build_prob=function(){return(ku=e._glp_npp_build_prob=e.asm.Eb).apply(null,arguments)},Nu=e._glp_npp_postprocess=function(){return(Nu=e._glp_npp_postprocess=e.asm.Fb).apply(null,arguments)},Eu=e._glp_get_status=function(){return(Eu=e._glp_get_status=e.asm.Gb).apply(null,arguments)},Ru=e._glp_ipt_status=function(){return(Ru=e._glp_ipt_status=e.asm.Hb).apply(null,arguments)},Au=e._glp_mip_status=function(){return(Au=e._glp_mip_status=e.asm.Ib).apply(null,arguments)},Tu=e._glp_npp_obtain_sol=function(){return(Tu=e._glp_npp_obtain_sol=e.asm.Jb).apply(null,arguments)},Iu=e._glp_npp_free_wksp=function(){return(Iu=e._glp_npp_free_wksp=e.asm.Kb).apply(null,arguments)},Ou=e._glp_print_ipt=function(){return(Ou=e._glp_print_ipt=e.asm.Lb).apply(null,arguments)},Pu=e._glp_print_mip=function(){return(Pu=e._glp_print_mip=e.asm.Mb).apply(null,arguments)},Fu=e._glp_load_matrix=function(){return(Fu=e._glp_load_matrix=e.asm.Nb).apply(null,arguments)},Bu=e._glp_check_dup=function(){return(Bu=e._glp_check_dup=e.asm.Ob).apply(null,arguments)},ju=e._glp_del_cols=function(){return(ju=e._glp_del_cols=e.asm.Pb).apply(null,arguments)},Uu=e._glp_copy_prob=function(){return(Uu=e._glp_copy_prob=e.asm.Qb).apply(null,arguments)},Hu=e._glp_get_bfcp=function(){return(Hu=e._glp_get_bfcp=e.asm.Rb).apply(null,arguments)},Vu=e._glp_set_bfcp=function(){return(Vu=e._glp_set_bfcp=e.asm.Sb).apply(null,arguments)},$u=e._glp_get_prob_name=function(){return($u=e._glp_get_prob_name=e.asm.Tb).apply(null,arguments)},Wu=e._glp_get_num_nz=function(){return(Wu=e._glp_get_num_nz=e.asm.Ub).apply(null,arguments)},qu=e._glp_get_mat_row=function(){return(qu=e._glp_get_mat_row=e.asm.Vb).apply(null,arguments)},Gu=e._glp_set_rii=function(){return(Gu=e._glp_set_rii=e.asm.Wb).apply(null,arguments)},Yu=e._glp_set_sjj=function(){return(Yu=e._glp_set_sjj=e.asm.Xb).apply(null,arguments)},Xu=e._glp_get_rii=function(){return(Xu=e._glp_get_rii=e.asm.Yb).apply(null,arguments)},Ku=e._glp_get_sjj=function(){return(Ku=e._glp_get_sjj=e.asm.Zb).apply(null,arguments)},Zu=e._glp_unscale_prob=function(){return(Zu=e._glp_unscale_prob=e.asm._b).apply(null,arguments)},Ju=e._glp_print_ranges=function(){return(Ju=e._glp_print_ranges=e.asm.$b).apply(null,arguments)},Qu=e._glp_bf_exists=function(){return(Qu=e._glp_bf_exists=e.asm.ac).apply(null,arguments)},ed=e._glp_version=function(){return(ed=e._glp_version=e.asm.bc).apply(null,arguments)},td=e._glp_analyze_bound=function(){return(td=e._glp_analyze_bound=e.asm.cc).apply(null,arguments)},rd=e._glp_analyze_coef=function(){return(rd=e._glp_analyze_coef=e.asm.dc).apply(null,arguments)},nd=e._glp_print_sol=function(){return(nd=e._glp_print_sol=e.asm.ec).apply(null,arguments)},ad=e._glp_read_asnprob=function(){return(ad=e._glp_read_asnprob=e.asm.fc).apply(null,arguments)},id=e._glp_read_ccdata=function(){return(id=e._glp_read_ccdata=e.asm.gc).apply(null,arguments)},od=e._glp_read_graph=function(){return(od=e._glp_read_graph=e.asm.hc).apply(null,arguments)},sd=e._glp_read_cnfsat=function(){return(sd=e._glp_read_cnfsat=e.asm.ic).apply(null,arguments)},cd=e._glp_read_ipt=function(){return(cd=e._glp_read_ipt=e.asm.jc).apply(null,arguments)},ld=e._glp_read_maxflow=function(){return(ld=e._glp_read_maxflow=e.asm.kc).apply(null,arguments)},fd=e._glp_read_mincost=function(){return(fd=e._glp_read_mincost=e.asm.lc).apply(null,arguments)},ud=e._glp_read_mip=function(){return(ud=e._glp_read_mip=e.asm.mc).apply(null,arguments)},dd=e._glp_read_prob=function(){return(dd=e._glp_read_prob=e.asm.nc).apply(null,arguments)},pd=e._glp_read_sol=function(){return(pd=e._glp_read_sol=e.asm.oc).apply(null,arguments)},md=e._glp_rmfgen=function(){return(md=e._glp_rmfgen=e.asm.pc).apply(null,arguments)},hd=e._glp_strong_comp=function(){return(hd=e._glp_strong_comp=e.asm.qc).apply(null,arguments)},gd=e._glp_weak_comp=function(){return(gd=e._glp_weak_comp=e.asm.rc).apply(null,arguments)},vd=e._glp_wclique_exact=function(){return(vd=e._glp_wclique_exact=e.asm.sc).apply(null,arguments)},_d=e._glp_write_asnprob=function(){return(_d=e._glp_write_asnprob=e.asm.tc).apply(null,arguments)},yd=e._glp_write_ccdata=function(){return(yd=e._glp_write_ccdata=e.asm.uc).apply(null,arguments)},Md=e._glp_write_graph=function(){return(Md=e._glp_write_graph=e.asm.vc).apply(null,arguments)},bd=e._glp_write_cnfsat=function(){return(bd=e._glp_write_cnfsat=e.asm.wc).apply(null,arguments)},zd=e._glp_write_ipt=function(){return(zd=e._glp_write_ipt=e.asm.xc).apply(null,arguments)},Ld=e._glp_write_maxflow=function(){return(Ld=e._glp_write_maxflow=e.asm.yc).apply(null,arguments)},Cd=e._glp_write_mincost=function(){return(Cd=e._glp_write_mincost=e.asm.zc).apply(null,arguments)},wd=e._glp_write_mip=function(){return(wd=e._glp_write_mip=e.asm.Ac).apply(null,arguments)},Sd=e._glp_write_prob=function(){return(Sd=e._glp_write_prob=e.asm.Bc).apply(null,arguments)},xd=e._glp_write_sol=function(){return(xd=e._glp_write_sol=e.asm.Cc).apply(null,arguments)},Dd=e._glp_realloc=function(){return(Dd=e._glp_realloc=e.asm.Dc).apply(null,arguments)},kd=e._glp_simplex=function(){return(kd=e._glp_simplex=e.asm.Ec).apply(null,arguments)},Nd=e._glp_scale_prob=function(){return(Nd=e._glp_scale_prob=e.asm.Fc).apply(null,arguments)},Ed=e._glp_init_smcp=function(){return(Ed=e._glp_init_smcp=e.asm.Gc).apply(null,arguments)},Rd=e._glp_factorize=function(){return(Rd=e._glp_factorize=e.asm.Hc).apply(null,arguments)},Ad=e._glp_get_prim_stat=function(){return(Ad=e._glp_get_prim_stat=e.asm.Ic).apply(null,arguments)},Td=e._glp_get_dual_stat=function(){return(Td=e._glp_get_dual_stat=e.asm.Jc).apply(null,arguments)},Id=e._glp_get_obj_val=function(){return(Id=e._glp_get_obj_val=e.asm.Kc).apply(null,arguments)},Od=e._glp_get_unbnd_ray=function(){return(Od=e._glp_get_unbnd_ray=e.asm.Lc).apply(null,arguments)},Pd=e._glp_get_it_cnt=function(){return(Pd=e._glp_get_it_cnt=e.asm.Mc).apply(null,arguments)},Fd=e._glp_set_it_cnt=function(){return(Fd=e._glp_set_it_cnt=e.asm.Nc).apply(null,arguments)},Bd=e._glp_exact=function(){return(Bd=e._glp_exact=e.asm.Oc).apply(null,arguments)},jd=e._glp_time=function(){return(jd=e._glp_time=e.asm.Pc).apply(null,arguments)},Ud=e._glp_interior=function(){return(Ud=e._glp_interior=e.asm.Qc).apply(null,arguments)},Hd=e._glp_init_iptcp=function(){return(Hd=e._glp_init_iptcp=e.asm.Rc).apply(null,arguments)},Vd=e._glp_ipt_obj_val=function(){return(Vd=e._glp_ipt_obj_val=e.asm.Sc).apply(null,arguments)},$d=e._glp_get_col_kind=function(){return($d=e._glp_get_col_kind=e.asm.Tc).apply(null,arguments)},Wd=e._glp_intopt=function(){return(Wd=e._glp_intopt=e.asm.Uc).apply(null,arguments)},qd=e._glp_init_iocp=function(){return(qd=e._glp_init_iocp=e.asm.Vc).apply(null,arguments)},Gd=e._glp_mip_obj_val=function(){return(Gd=e._glp_mip_obj_val=e.asm.Wc).apply(null,arguments)},Yd=e._glp_bf_updated=function(){return(Yd=e._glp_bf_updated=e.asm.Xc).apply(null,arguments)},Xd=e._glp_get_bhead=function(){return(Xd=e._glp_get_bhead=e.asm.Yc).apply(null,arguments)},Kd=e._glp_get_row_bind=function(){return(Kd=e._glp_get_row_bind=e.asm.Zc).apply(null,arguments)},Zd=e._glp_get_col_bind=function(){return(Zd=e._glp_get_col_bind=e.asm._c).apply(null,arguments)},Jd=e._glp_ftran=function(){return(Jd=e._glp_ftran=e.asm.$c).apply(null,arguments)},Qd=e._glp_btran=function(){return(Qd=e._glp_btran=e.asm.ad).apply(null,arguments)},ep=e._glp_warm_up=function(){return(ep=e._glp_warm_up=e.asm.bd).apply(null,arguments)},tp=e._glp_eval_tab_row=function(){return(tp=e._glp_eval_tab_row=e.asm.cd).apply(null,arguments)},rp=e._glp_eval_tab_col=function(){return(rp=e._glp_eval_tab_col=e.asm.dd).apply(null,arguments)},np=e._glp_transform_row=function(){return(np=e._glp_transform_row=e.asm.ed).apply(null,arguments)},ap=e._glp_transform_col=function(){return(ap=e._glp_transform_col=e.asm.fd).apply(null,arguments)},ip=e._glp_prim_rtest=function(){return(ip=e._glp_prim_rtest=e.asm.gd).apply(null,arguments)},op=e._glp_dual_rtest=function(){return(op=e._glp_dual_rtest=e.asm.hd).apply(null,arguments)},sp=e._glp_ios_reason=function(){return(sp=e._glp_ios_reason=e.asm.id).apply(null,arguments)},cp=e._glp_ios_get_prob=function(){return(cp=e._glp_ios_get_prob=e.asm.jd).apply(null,arguments)},lp=e._glp_ios_tree_size=function(){return(lp=e._glp_ios_tree_size=e.asm.kd).apply(null,arguments)},fp=e._glp_ios_curr_node=function(){return(fp=e._glp_ios_curr_node=e.asm.ld).apply(null,arguments)},up=e._glp_ios_next_node=function(){return(up=e._glp_ios_next_node=e.asm.md).apply(null,arguments)},dp=e._glp_ios_prev_node=function(){return(dp=e._glp_ios_prev_node=e.asm.nd).apply(null,arguments)},pp=e._glp_ios_up_node=function(){return(pp=e._glp_ios_up_node=e.asm.od).apply(null,arguments)},mp=e._glp_ios_node_level=function(){return(mp=e._glp_ios_node_level=e.asm.pd).apply(null,arguments)},hp=e._glp_ios_node_bound=function(){return(hp=e._glp_ios_node_bound=e.asm.qd).apply(null,arguments)},gp=e._glp_ios_best_node=function(){return(gp=e._glp_ios_best_node=e.asm.rd).apply(null,arguments)},vp=e._glp_ios_mip_gap=function(){return(vp=e._glp_ios_mip_gap=e.asm.sd).apply(null,arguments)},_p=e._glp_ios_node_data=function(){return(_p=e._glp_ios_node_data=e.asm.td).apply(null,arguments)},yp=e._glp_ios_row_attr=function(){return(yp=e._glp_ios_row_attr=e.asm.ud).apply(null,arguments)},Mp=e._glp_ios_pool_size=function(){return(Mp=e._glp_ios_pool_size=e.asm.vd).apply(null,arguments)},bp=e._glp_ios_add_row=function(){return(bp=e._glp_ios_add_row=e.asm.wd).apply(null,arguments)},zp=e._glp_ios_del_row=function(){return(zp=e._glp_ios_del_row=e.asm.xd).apply(null,arguments)},Lp=e._glp_ios_clear_pool=function(){return(Lp=e._glp_ios_clear_pool=e.asm.yd).apply(null,arguments)},Cp=e._glp_ios_can_branch=function(){return(Cp=e._glp_ios_can_branch=e.asm.zd).apply(null,arguments)},wp=e._glp_ios_branch_upon=function(){return(wp=e._glp_ios_branch_upon=e.asm.Ad).apply(null,arguments)},Sp=e._glp_ios_select_node=function(){return(Sp=e._glp_ios_select_node=e.asm.Bd).apply(null,arguments)},xp=e._glp_ios_heur_sol=function(){return(xp=e._glp_ios_heur_sol=e.asm.Cd).apply(null,arguments)},Dp=e._glp_ios_terminate=function(){return(Dp=e._glp_ios_terminate=e.asm.Dd).apply(null,arguments)},kp=e._glp_difftime=function(){return(kp=e._glp_difftime=e.asm.Ed).apply(null,arguments)},Np=e._glp_mem_usage=function(){return(Np=e._glp_mem_usage=e.asm.Fd).apply(null,arguments)},Ep=e._glp_mem_limit=function(){return(Ep=e._glp_mem_limit=e.asm.Gd).apply(null,arguments)},Rp=e._glp_init_env=function(){return(Rp=e._glp_init_env=e.asm.Hd).apply(null,arguments)},Ap=e._glp_config=function(){return(Ap=e._glp_config=e.asm.Id).apply(null,arguments)},Tp=e._glp_free_env=function(){return(Tp=e._glp_free_env=e.asm.Jd).apply(null,arguments)},Ip=e._glp_at_error=function(){return(Ip=e._glp_at_error=e.asm.Kd).apply(null,arguments)},Op=e._glp_error_hook=function(){return(Op=e._glp_error_hook=e.asm.Ld).apply(null,arguments)},Pp=e._glp_puts=function(){return(Pp=e._glp_puts=e.asm.Md).apply(null,arguments)},Fp=e._glp_term_out=function(){return(Fp=e._glp_term_out=e.asm.Nd).apply(null,arguments)},Bp=e._glp_term_hook=function(){return(Bp=e._glp_term_hook=e.asm.Od).apply(null,arguments)},jp=e._glp_open_tee=function(){return(jp=e._glp_open_tee=e.asm.Pd).apply(null,arguments)},Up=e._glp_close_tee=function(){return(Up=e._glp_close_tee=e.asm.Qd).apply(null,arguments)},A6=e.___errno_location=function(){return(A6=e.___errno_location=e.asm.Rd).apply(null,arguments)},z1=e._setThrew=function(){return(z1=e._setThrew=e.asm.Sd).apply(null,arguments)},L1=e.stackSave=function(){return(L1=e.stackSave=e.asm.Td).apply(null,arguments)},C1=e.stackRestore=function(){return(C1=e.stackRestore=e.asm.Ud).apply(null,arguments)};function Hp(c,f,p){var g=L1();try{m1(c)(f,p)}catch(_){if(C1(g),_!==_+0)throw _;z1(1,0)}}function Vp(c,f,p){var g=L1();try{return m1(c)(f,p)}catch(_){if(C1(g),_!==_+0)throw _;z1(1,0)}}function $p(c,f){var p=L1();try{m1(c)(f)}catch(g){if(C1(p),g!==g+0)throw g;z1(1,0)}}function Wp(c){var f=L1();try{return m1(c)()}catch(p){if(C1(f),p!==p+0)throw p;z1(1,0)}}function qp(c,f,p,g){var _=L1();try{m1(c)(f,p,g)}catch(L){if(C1(_),L!==L+0)throw L;z1(1,0)}}function Gp(c,f){var p=L1();try{return m1(c)(f)}catch(g){if(C1(p),g!==g+0)throw g;z1(1,0)}}function Yp(c,f,p,g){var _=L1();try{m1(c)(f,p,g)}catch(L){if(C1(_),L!==L+0)throw L;z1(1,0)}}function Xp(c,f,p,g){var _=L1();try{return m1(c)(f,p,g)}catch(L){if(C1(_),L!==L+0)throw L;z1(1,0)}}function Kp(c,f,p,g,_,L){var S=L1();try{m1(c)(f,p,g,_,L)}catch(D){if(C1(S),D!==D+0)throw D;z1(1,0)}}function Zp(c,f,p,g,_,L){var S=L1();try{m1(c)(f,p,g,_,L)}catch(D){if(C1(S),D!==D+0)throw D;z1(1,0)}}function Jp(c,f){var p=L1();try{return m1(c)(f)}catch(g){if(C1(p),g!==g+0)throw g;z1(1,0)}}function Qp(c,f,p){var g=L1();try{m1(c)(f,p)}catch(_){if(C1(g),_!==_+0)throw _;z1(1,0)}}function em(c,f,p,g,_,L){var S=L1();try{return m1(c)(f,p,g,_,L)}catch(D){if(C1(S),D!==D+0)throw D;z1(1,0)}}function tm(c,f,p){var g=L1();try{return m1(c)(f,p)}catch(_){if(C1(g),_!==_+0)throw _;z1(1,0)}}e.UTF8ToString=p2,e.stringToUTF8=O2,e.lengthBytesUTF8=N,e.addFunction=x9,e.removeFunction=D9,e.setValue=Z7,e.getValue=K7,e.FS=m;var C0;b1=function c(){C0||T6(),C0||(b1=c)};function T6(c){if(c=c||o,a1>0||(H(),a1>0))return;function f(){C0||(C0=!0,e.calledRun=!0,!Q2&&(W(),n(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),P2()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),f()},1)):f()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return T6(),e.ready}})();typeof Ur=="object"&&typeof Ri=="object"?Ri.exports=Ei:typeof define=="function"&&define.amd?define([],function(){return Ei}):typeof Ur=="object"&&(Ur.Module=Ei)});var L8=rt((Hr,z8)=>{"use strict";(function(t,r){typeof Hr=="object"&&typeof z8<"u"?r(Hr,b8()):typeof define=="function"&&define.amd?define(["exports","glpk-wasm"],r):(t=typeof globalThis<"u"?globalThis:t||self,r(t.GLPK={},t.glpkWasm))})(Hr,function(t,r){"use strict";function e(N){return N&&typeof N=="object"&&"default"in N?N:{default:N}}var n=e(r);function a(N,d){var M={};for(var x in N)Object.prototype.hasOwnProperty.call(N,x)&&d.indexOf(x)<0&&(M[x]=N[x]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var G=0,x=Object.getOwnPropertySymbols(N);G<x.length;G++)d.indexOf(x[G])<0&&Object.prototype.propertyIsEnumerable.call(N,x[G])&&(M[x[G]]=N[x[G]]);return M}function i(N,d,M,x){function G(r2){return r2 instanceof M?r2:new M(function(Y){Y(r2)})}return new(M||(M=Promise))(function(r2,Y){function B(q){try{k(x.next(q))}catch(Q){Y(Q)}}function U(q){try{k(x.throw(q))}catch(Q){Y(Q)}}function k(q){q.done?r2(q.value):G(q.value).then(B,U)}k((x=x.apply(N,d||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;let o,s;function l(N){return i(this,void 0,void 0,function*(){return o===void 0&&(o=N===void 0?n.default():n.default({locateFile(){return N}})),s=yield o,s})}var u;(function(N){(function(d){d[d.MIN=1]="MIN",d[d.MAX=2]="MAX"})(N.ObjectiveDirection||(N.ObjectiveDirection={})),function(d){d[d.FREE=1]="FREE",d[d.LB=2]="LB",d[d.UB=3]="UB",d[d.BOUNDED=4]="BOUNDED",d[d.FIXED=5]="FIXED"}(N.BoundType||(N.BoundType={})),function(d){d[d.BASIC=1]="BASIC",d[d.LB=2]="LB",d[d.UB=3]="UB",d[d.FREE=4]="FREE",d[d.FIXED=5]="FIXED"}(N.VariableStatus||(N.VariableStatus={})),function(d){d[d.CONTINUOUS=1]="CONTINUOUS",d[d.INTEGER=2]="INTEGER",d[d.BINARY=3]="BINARY"}(N.VariableType||(N.VariableType={})),function(d){d[d.GEOMETRIC_MEAN=1]="GEOMETRIC_MEAN",d[d.EQUILIBRATION=16]="EQUILIBRATION",d[d.POWER_TWO=32]="POWER_TWO",d[d.SKIP=64]="SKIP",d[d.AUTO=128]="AUTO"}(N.Scaling||(N.Scaling={})),function(d){d[d.BASIC=1]="BASIC",d[d.INTERIOR_POINT=2]="INTERIOR_POINT",d[d.MIXED_INTEGER=3]="MIXED_INTEGER"}(N.SolutionIndicator||(N.SolutionIndicator={})),function(d){d[d.UNDEFINED=1]="UNDEFINED",d[d.FEASIBLE=2]="FEASIBLE",d[d.INFEASIBLE=3]="INFEASIBLE",d[d.NO_FEASIBLE=4]="NO_FEASIBLE",d[d.OPTIMAL=5]="OPTIMAL",d[d.UNBOUNDED=6]="UNBOUNDED"}(N.Status||(N.Status={})),function(d){d[d.OFF=0]="OFF",d[d.ERR=1]="ERR",d[d.ON=2]="ON",d[d.ALL=3]="ALL",d[d.DBG=4]="DBG"}(N.MessageLevel||(N.MessageLevel={})),function(d){d[d.PRIMAL=1]="PRIMAL",d[d.DUALP=2]="DUALP",d[d.DUAL=3]="DUAL"}(N.Method||(N.Method={})),function(d){d[d.STD=17]="STD",d[d.PSE=34]="PSE"}(N.Pricing||(N.Pricing={})),function(d){d[d.STD=17]="STD",d[d.HAR=34]="HAR",d[d.FLIP=51]="FLIP"}(N.RatioTest||(N.RatioTest={})),function(d){d[d.NONE=0]="NONE",d[d.QMD=1]="QMD",d[d.AMD=2]="AMD",d[d.SYMAMD=3]="SYMAMD"}(N.OrderingAlgorithm||(N.OrderingAlgorithm={})),function(d){d[d.OK=0]="OK",d[d.EBADB=1]="EBADB",d[d.ESING=2]="ESING",d[d.ECOND=3]="ECOND",d[d.EBOUND=4]="EBOUND",d[d.EFAIL=5]="EFAIL",d[d.EOBJLL=6]="EOBJLL",d[d.EOBJUL=7]="EOBJUL",d[d.EITLIM=8]="EITLIM",d[d.ETMLIM=9]="ETMLIM",d[d.ENOPFS=10]="ENOPFS",d[d.ENODFS=11]="ENODFS",d[d.EROOT=12]="EROOT",d[d.ESTOP=13]="ESTOP",d[d.EMIPGAP=14]="EMIPGAP",d[d.ENOFEAS=15]="ENOFEAS",d[d.ENOCVG=16]="ENOCVG",d[d.EINSTAB=17]="EINSTAB",d[d.EDATA=18]="EDATA",d[d.ERANGE=19]="ERANGE"}(N.ReturnCode||(N.ReturnCode={})),function(d){d[d.FFV=1]="FFV",d[d.LFV=2]="LFV",d[d.MFV=3]="MFV",d[d.DTH=4]="DTH",d[d.PCH=5]="PCH"}(N.BranchingTechnique||(N.BranchingTechnique={})),function(d){d[d.DFS=1]="DFS",d[d.BFS=2]="BFS",d[d.BLB=3]="BLB",d[d.BPH=4]="BPH"}(N.BacktrackingTechnique||(N.BacktrackingTechnique={})),function(d){d[d.NONE=0]="NONE",d[d.ROOT=1]="ROOT",d[d.ALL=2]="ALL"}(N.PreprocessingTechnique||(N.PreprocessingTechnique={})),function(d){d[d.PE=1]="PE",d[d.PB=2]="PB",d[d.DE=3]="DE",d[d.DB=4]="DB",d[d.CS=5]="CS"}(N.ConditionIndicator||(N.ConditionIndicator={})),function(d){d[d.ROWGEN=1]="ROWGEN",d[d.BINGO=2]="BINGO",d[d.HEUR=3]="HEUR",d[d.CUTGEN=4]="CUTGEN",d[d.BRANCH=5]="BRANCH",d[d.SELECT=6]="SELECT",d[d.PREPRO=7]="PREPRO"}(N.ReasonCode||(N.ReasonCode={})),function(d){d[d.NO_BRNCH=0]="NO_BRNCH",d[d.DN_BRNCH=1]="DN_BRNCH",d[d.UP_BRNCH=2]="UP_BRNCH"}(N.BranchSelection||(N.BranchSelection={})),function(d){d[d.REG=0]="REG",d[d.LAZY=1]="LAZY",d[d.CUT=2]="CUT"}(N.RowOrigin||(N.RowOrigin={})),function(d){d[d.GMI=1]="GMI",d[d.MIR=2]="MIR",d[d.COV=3]="COV",d[d.CLQ=4]="CLQ"}(N.RowClass||(N.RowClass={})),function(d){d[d.DECK=1]="DECK",d[d.FILE=2]="FILE"}(N.MPSFormat||(N.MPSFormat={}))})(u||(u={}));function h(N,d){return N===void 0?d===void 0?u.BoundType.FREE:u.BoundType.UB:d===void 0?u.BoundType.LB:N===d?u.BoundType.FIXED:u.BoundType.BOUNDED}function v(N){let d=N.model.numConstrs,M=N.model.numVars,x=s._malloc((M+1)*12),G=new Float64Array(s.HEAPU8.buffer,x,M+1),r2=new Int32Array(s.HEAPU8.buffer,x+(M+1)*8,M+1);s._glp_eval_tab_row(N.model.ptr,N instanceof E?d+N.id:N.id,x+(M+1)*8,x);let Y=Array.from(r2.slice(1).filter(B=>B>0),(B,U)=>[B<=d?N.model.constrs[B-1]:N.model.vars[B-1-d],G[U+1]]);return s._free(x),Y}function y(N){let d=N.model.numConstrs,M=s._malloc((d+1)*12),x=new Float64Array(s.HEAPU8.buffer,M,d+1),G=new Int32Array(s.HEAPU8.buffer,M+(d+1)*8,d+1);s._glp_eval_tab_col(N.model.ptr,N instanceof E?d+N.id:N.id,M+(d+1)*8,M);let r2=Array.from(G.slice(1).filter(Y=>Y>0),(Y,B)=>[Y<=d?N.model.constrs[Y-1]:N.model.vars[Y-1-d],x[B+1]]);return s._free(M),r2}let b=new Map([[void 0,u.VariableType.CONTINUOUS],["c",u.VariableType.CONTINUOUS],["cont",u.VariableType.CONTINUOUS],["continuous",u.VariableType.CONTINUOUS],["i",u.VariableType.INTEGER],["int",u.VariableType.INTEGER],["integer",u.VariableType.INTEGER],["b",u.VariableType.BINARY],["bin",u.VariableType.BINARY],["binary",u.VariableType.BINARY]]),z=new Map(Array.from(b.entries(),([N,d])=>[d,N]));function R(N){let d=b.get(N);if(d===void 0)throw new Error(`unknown variable type '${N}'`);return d}let I=new Map([["basic",u.VariableStatus.BASIC],["lower-bound",u.VariableStatus.LB],["upper-bound",u.VariableStatus.UB],["free",u.VariableStatus.FREE],["fixed",u.VariableStatus.FIXED]]),A=new Map(Array.from(I.entries(),([N,d])=>[d,N]));class E{get ptr(){return this.model.ptr}constructor(d,M,x){if(this._lb=0,this._ub=0,this.model=d,this._idx=M,x===void 0)return;let{obj:G,lb:r2,ub:Y,type:B,name:U}=x;G!==void 0&&(this.obj=G),this.setBounds(r2,Y),B!==void 0&&(this.type=B),U!==void 0&&(this.name=U)}get id(){return this._idx}setBounds(d,M){if(d===this._lb&&M===this._ub)return;this._lb=d,this._ub=M;let x=h(d,M);s._glp_set_col_bnds(this.ptr,this._idx,x,d||0,M||0)}set bounds([d,M]){this.setBounds(d,M)}set name(d){let M=s.lengthBytesUTF8(d)+1,x=s._malloc(M);s.stringToUTF8(d,x,M),s._glp_set_col_name(this.ptr,this._idx,x),s._free(x)}get name(){let d=s._glp_get_col_name(this.ptr,this._idx);return s.UTF8ToString(d)}set lb(d){this.setBounds(d,this.ub)}set ub(d){this.setBounds(this.lb,d)}get lb(){return this._lb}get ub(){return this._ub}get obj(){return s._glp_get_obj_coef(this.ptr,this._idx)}set obj(d){if(typeof d!="number")throw new Error("obj should be a number");s._glp_set_obj_coef(this.ptr,this._idx,d)}set type(d){s._glp_set_col_kind(this.ptr,this._idx,R(d))}get type(){return z.get(s._glp_get_col_kind(this.ptr,this._idx))}get value(){return s._glp_get_col_prim(this.ptr,this._idx)}get dual(){return s._glp_get_col_dual(this.ptr,this._idx)}get valueInt(){return s._glp_ipt_col_prim(this.ptr,this._idx)}get dualInt(){return s._glp_ipt_col_dual(this.ptr,this._idx)}get valueMIP(){return s._glp_mip_col_val(this.ptr,this._idx)}get status(){return A.get(s._glp_get_col_stat(this.ptr,this._idx))}get row(){return v(this)}get column(){return y(this)}}class T{get ptr(){return this.model.ptr}constructor(d,M,x){if(this._needsUpdate=!1,this.model=d,this._idx=M,this._coeffs=new Map,!x)return;let{lb:G,ub:r2,coeffs:Y,name:B}=x;this.setBounds(G,r2),Y!==void 0&&this.addCollection(Y),B!==void 0&&(this.name=B)}get id(){return this._idx}set name(d){let M=s.lengthBytesUTF8(d)+1,x=s._malloc(M);s.stringToUTF8(d,x,M),s._glp_set_row_name(this.ptr,this._idx,x),s._free(x)}get name(){let d=s._glp_get_row_name(this.ptr,this._idx);return s.UTF8ToString(d)}setBounds(d,M){if(d===this._lb&&M===this._ub)return;let x=h(d,M);this._lb=d,this._ub=M,s._glp_set_row_bnds(this.ptr,this._idx,x,d||0,M||0)}set bounds([d,M]){this.setBounds(d,M)}set lb(d){this.setBounds(d,this._ub)}set ub(d){this.setBounds(this.lb,d)}get lb(){return this._lb}get ub(){return this._ub}add(d,M){if(M===void 0)return this.addCollection(d);if(!(d instanceof E))throw new Error("variable should have type Variable");if(!M)return this;let x=(this._coeffs.get(d.id)||0)+M;return x?this._coeffs.set(d.id,x):this._coeffs.delete(d.id),this._needsUpdate=!0,this}addCollection(d){let M=d instanceof Array?d:d instanceof Map?d.entries():void 0;if(M===void 0)throw new Error("coeffs should have type Array or Map");for(let[x,G]of M){if(!(x instanceof E))throw new Error("variable should have type Variable");if(!G)continue;let r2=(this._coeffs.get(x.id)||0)+G;r2?this._coeffs.set(x.id,r2):this._coeffs.delete(x.id),this._needsUpdate=!0}return this}update(){if(!this._needsUpdate)return this;let d=this._coeffs.size+1,M=s._malloc(d*4),x=s._malloc(d*8),G=new Int32Array(s.HEAPU8.buffer,M,d),r2=new Float64Array(s.HEAPU8.buffer,x,d);G[0]=0,r2[0]=0;let Y=0;for(let[B,U]of this._coeffs.entries())Y++,G[Y]=B,r2[Y]=U;return s._glp_set_mat_row(this.ptr,this._idx,d-1,M,x),s._free(M),s._free(x),this._needsUpdate=!1,this}get value(){return s._glp_get_row_prim(this.ptr,this._idx)}get dual(){return s._glp_get_row_dual(this.ptr,this._idx)}get valueInt(){return s._glp_ipt_row_prim(this.ptr,this._idx)}get dualInt(){return s._glp_ipt_row_dual(this.ptr,this._idx)}get valueMIP(){return s._glp_mip_row_val(this.ptr,this._idx)}get status(){return A.get(s._glp_get_row_stat(this.ptr,this._idx))}get row(){return v(this)}get column(){return y(this)}}let F=new Map([["optimal",u.Status.OPTIMAL],["feasible",u.Status.FEASIBLE],["infeasible",u.Status.INFEASIBLE],["no_feasible",u.Status.NO_FEASIBLE],["unbounded",u.Status.UNBOUNDED],["undefined",u.Status.UNDEFINED]]),Z=new Map(Array.from(F.entries(),([N,d])=>[d,N]));function t2(N){return Z.get(N)}function f2(N){let d={all:u.MessageLevel.ALL,on:u.MessageLevel.ON,off:u.MessageLevel.OFF,debug:u.MessageLevel.DBG,error:u.MessageLevel.ERR}[N];if(d===void 0)throw new Error(`unknown message level '${N}'`);return d}t.Interior=void 0,function(N){function d(x){let G={none:u.OrderingAlgorithm.NONE,qmd:u.OrderingAlgorithm.QMD,amd:u.OrderingAlgorithm.AMD,symamd:u.OrderingAlgorithm.SYMAMD}[x];if(G===void 0)throw new Error(`unknown ordering '${x}'`);return G}function M(x,G){let r2=s._malloc(392);s._glp_init_iptcp(r2),G.msgLevel!==void 0&&s.setValue(r2,f2(G.msgLevel),"i32"),G.ordering!==void 0&&s.setValue(r2+4,d(G.ordering),"i32");let Y=s._glp_interior(x.ptr,r2);switch(s._free(r2),Y){case u.ReturnCode.OK:return"ok";case u.ReturnCode.EFAIL:return"no_data";case u.ReturnCode.ENOCVG:return"no_convergence";case u.ReturnCode.EITLIM:return"iteration_limit";case u.ReturnCode.EINSTAB:return"instability";default:throw new Error(`unknown return code from interior: ${Y}`)}}N.solve=M}(t.Interior||(t.Interior={})),t.Simplex=void 0,function(N){function d(U){let k={primal:u.Method.PRIMAL,dual:u.Method.DUAL,dual_primal:u.Method.DUALP}[U];if(k===void 0)throw new Error(`unknown method '${U}'`);return k}function M(U){let k={std:u.Pricing.STD,pse:u.Pricing.PSE}[U];if(k===void 0)throw new Error(`unknown pricing '${U}'`);return k}function x(U){let k={std:u.RatioTest.STD,harris:u.RatioTest.HAR,flipflop:u.RatioTest.FLIP}[U];if(k===void 0)throw new Error(`unknown ratioTest '${U}'`);return k}function G(U){switch(U){case u.ReturnCode.OK:return"ok";case u.ReturnCode.EBADB:return"basis_invalid";case u.ReturnCode.ESING:return"basis_singular";case u.ReturnCode.ECOND:return"basis_ill_conditioned";case u.ReturnCode.EBOUND:return"bounds_incorrect";case u.ReturnCode.EFAIL:return"failure";case u.ReturnCode.EOBJLL:return"objective_lower";case u.ReturnCode.EOBJUL:return"objective_upper";case u.ReturnCode.EITLIM:return"iteration_limit";case u.ReturnCode.ETMLIM:return"time_limit";case u.ReturnCode.ENOPFS:return"no_primal_feasible";case u.ReturnCode.ENODFS:return"no_dual_feasible";default:throw new Error(`unknown return code from simplex: ${U}`)}}function r2(U){let k=s._malloc(352);return s._glp_init_smcp(k),U.msgLevel!==void 0&&s.setValue(k,f2(U.msgLevel),"i32"),U.method!==void 0&&s.setValue(k+4,d(U.method),"i32"),U.pricing!==void 0&&s.setValue(k+8,M(U.pricing),"i32"),U.ratioTest!==void 0&&s.setValue(k+12,x(U.ratioTest),"i32"),U.tolPrimal!==void 0&&s.setValue(k+16,U.tolPrimal,"double"),U.tolDual!==void 0&&s.setValue(k+24,U.tolDual,"double"),U.tolPivot!==void 0&&s.setValue(k+32,U.tolPivot,"double"),U.objLower!==void 0&&s.setValue(k+40,U.objLower,"double"),U.objUpper!==void 0&&s.setValue(k+48,U.objUpper,"double"),U.limitIter!==void 0&&s.setValue(k+56,U.limitIter,"i32"),U.limitTime!==void 0&&s.setValue(k+60,U.limitTime,"i32"),U.logFreq!==void 0&&s.setValue(k+64,U.logFreq,"i32"),U.logDelay!==void 0&&s.setValue(k+68,U.logDelay,"i32"),U.presolve!==void 0&&s.setValue(k+72,U.presolve?1:0,"i32"),k}function Y(U,k){let q=r2(k),Q=s._glp_simplex(U.ptr,q);return s._free(q),G(Q)}N.solve=Y;function B(U,k){let q=r2(k),Q=s._glp_exact(U.ptr,q);return s._free(q),G(Q)}N.solveExact=B}(t.Simplex||(t.Simplex={}));let b2={row:u.ReasonCode.ROWGEN,improved:u.ReasonCode.BINGO,heuristic:u.ReasonCode.HEUR,cut:u.ReasonCode.CUTGEN,branch:u.ReasonCode.BRANCH,select:u.ReasonCode.SELECT,preprocessing:u.ReasonCode.PREPRO},I2=new Map(Object.entries(b2).map(([N,d])=>[d,N])),Q2={regular:u.RowOrigin.REG,lazy:u.RowOrigin.LAZY,cut:u.RowOrigin.CUT},X2=new Map(Object.entries(Q2).map(([N,d])=>[d,N])),p1={gomory:u.RowClass.GMI,mir:u.RowClass.MIR,cover:u.RowClass.COV,clique:u.RowClass.CLQ},O=new Map(Object.entries(p1).map(([N,d])=>[d,N])),a2={down:u.BranchSelection.DN_BRNCH,up:u.BranchSelection.UP_BRNCH,general:u.BranchSelection.NO_BRNCH};class p2{constructor(d,M){this.tree=d,this.idx=M}select(){s._glp_ios_select_node(this.tree.ptr,this.idx)}get next(){let d=s._glp_ios_next_node(this.tree.ptr,this.idx);if(d!==0)return new p2(this.tree,d)}get previous(){let d=s._glp_ios_prev_node(this.tree.ptr,this.idx);if(d!==0)return new p2(this.tree,d)}get parent(){let d=s._glp_ios_up_node(this.tree.ptr,this.idx);if(d!==0)return new p2(this.tree,d)}get level(){return s._glp_ios_node_level(this.tree.ptr,this.idx)}get bound(){return s._glp_ios_node_bound(this.tree.ptr,this.idx)}}class M2{constructor(d){this.ptr=d}static _alloc(){M2._data===void 0&&(M2._data=s._malloc(72))}get reason(){let d=s._glp_ios_reason(this.ptr),M=I2.get(d);if(M===void 0)throw new Error(`unknown reason code '${d}'`);return M}get model(){let d=s._glp_ios_get_prob(this.ptr);return O2.fromPointer(d)}rowAttribute(d){return M2._alloc(),s._glp_ios_row_attr(this.ptr,d,M2._data),{level:s.getValue(M2._data+0,"i32"),origin:X2.get(s.getValue(M2._data+4,"i32")),cls:O.get(s.getValue(M2._data+8,"i32"))}}get gap(){return s._glp_ios_mip_gap(this.ptr)}setHeuristicSolution(d){let M=d.length,x=s._malloc(M*8),G=new Float64Array(s.HEAPU8.buffer,x,M);if(d instanceof Float64Array)d.set(G);else for(let[r2,Y]of d.entries())G[r2]=Y;s._glp_ios_heur_sol(this.ptr,x),s._free(x)}canBranch(d){return s._glp_ios_can_branch(this.ptr,d)}branchUpon(d,M){let x=a2[M];if(x===void 0)throw new Error(`unknown branch selection '${M}'`);s._glp_ios_branch_upon(this.ptr,d,x)}terminate(){s._glp_ios_terminate(this.ptr)}get size(){M2._alloc();let d=M2._data;return s._glp_ios_tree_size(this.ptr,d,d+4,d+8),{active:s.getValue(d,"i32"),current:s.getValue(d+4,"i32"),total:s.getValue(d+8,"i32")}}get currentNode(){let d=s._glp_ios_curr_node(this.ptr);if(d!==0)return new p2(this,d)}get bestNode(){let d=s._glp_ios_best_node(this.ptr);if(d!==0)return new p2(this,d)}get firstNode(){let d=s._glp_ios_next_node(this.ptr,0);if(d!==0)return new p2(this,d)}get lastNode(){let d=s._glp_ios_prev_node(this.ptr,0);if(d!==0)return new p2(this,d)}get cutPoolSize(){return s._glp_ios_pool_size(this.ptr)}clearCutPool(){s._glp_ios_clear_pool(this.ptr)}}t.MIP=void 0,function(N){let d={ffv:u.BranchingTechnique.FFV,lfv:u.BranchingTechnique.LFV,mfv:u.BranchingTechnique.MFV,dth:u.BranchingTechnique.DTH,pch:u.BranchingTechnique.PCH,first_fractional:u.BranchingTechnique.FFV,last_fractional:u.BranchingTechnique.LFV,most_fractional:u.BranchingTechnique.MFV,driebeck_tomlin:u.BranchingTechnique.DTH,hybrid_pseudocost:u.BranchingTechnique.PCH},M={dfs:u.BacktrackingTechnique.DFS,bfs:u.BacktrackingTechnique.BFS,blb:u.BacktrackingTechnique.BLB,bph:u.BacktrackingTechnique.BPH,depth_first:u.BacktrackingTechnique.DFS,breadth_first:u.BacktrackingTechnique.BFS,best_bound:u.BacktrackingTechnique.BLB,best_projection:u.BacktrackingTechnique.BPH},x={none:u.PreprocessingTechnique.NONE,root:u.PreprocessingTechnique.ROOT,all:u.PreprocessingTechnique.ALL};function G(B){switch(B){case u.ReturnCode.OK:return"ok";case u.ReturnCode.EBOUND:return"bounds_incorrect";case u.ReturnCode.EROOT:return"no_root_basis";case u.ReturnCode.ENOPFS:return"no_primal_feasible";case u.ReturnCode.ENODFS:return"no_dual_feasible";case u.ReturnCode.EFAIL:return"failure";case u.ReturnCode.EMIPGAP:return"mip_gap_tolerance";case u.ReturnCode.ETMLIM:return"time_limit";case u.ReturnCode.ESTOP:return"stopped";default:throw new Error(`unknown return code from intopt: ${B}`)}}function r2(B){let U=s._malloc(328);s._glp_init_iocp(U);let k;if(B.msgLevel!==void 0&&s.setValue(U,f2(B.msgLevel),"i32"),B.branching!==void 0){if(k=d[B.branching],k===void 0)throw new Error(`unknown branching technique '${B.branching}'`);s.setValue(U+4,k,"i32")}if(B.backtracking!==void 0){if(k=M[B.backtracking],k===void 0)throw new Error(`unknown backtracking technique '${B.backtracking}'`);s.setValue(U+8,k,"i32")}if(B.tolInt!==void 0&&s.setValue(U+16,B.tolInt,"double"),B.tolObj!==void 0&&s.setValue(U+24,B.tolObj,"double"),B.limitTime!==void 0&&s.setValue(U+32,B.limitTime,"i32"),B.logFreq!==void 0&&s.setValue(U+36,B.logFreq,"i32"),B.logDelay!==void 0&&s.setValue(U+40,B.logDelay,"i32"),B.callbackPtr!==void 0&&s.setValue(U+44,B.callbackPtr,"*"),B.preprocessing!==void 0){if(k=x[B.preprocessing],k===void 0)throw new Error(`unknown preprocessing technique '${B.preprocessing}'`);s.setValue(U+56,k,"i32")}return B.gapMIP!==void 0&&s.setValue(U+64,B.gapMIP,"double"),B.cutsMIR!==void 0&&s.setValue(U+72,B.cutsMIR?1:0,"i32"),B.cutsGomory!==void 0&&s.setValue(U+76,B.cutsGomory?1:0,"i32"),B.cutsCover!==void 0&&s.setValue(U+80,B.cutsCover?1:0,"i32"),B.cutsClique!==void 0&&s.setValue(U+84,B.cutsClique?1:0,"i32"),B.presolve!==void 0&&s.setValue(U+88,B.presolve?1:0,"i32"),B.binarize!==void 0&&s.setValue(U+92,B.binarize?1:0,"i32"),B.heuristicFP!==void 0&&s.setValue(U+96,B.heuristicFP?1:0,"i32"),B.heuristicPS!==void 0&&s.setValue(U+100,B.heuristicPS?1:0,"i32"),B.limitProxy!==void 0&&s.setValue(U+104,B.limitProxy,"i32"),B.heuristicRound!==void 0&&s.setValue(U+108,B.heuristicRound?1:0,"i32"),U}function Y(B,U){if(U.callback!==void 0){let Q=U.callback;U.callbackPtr=s.addFunction(e2=>Q(new M2(e2)),"vii")}let k=r2(U||{}),q=s._glp_intopt(B.ptr,k);return s._free(k),U.callback!==void 0&&(s.removeFunction(U.callbackPtr),U.callbackPtr=void 0),G(q)}N.solve=Y}(t.MIP||(t.MIP={}));class O2{get vars(){return this._vars}get constrs(){return this._constrs}constructor(d){if(this._vars=[],this._constrs=[],s===void 0)throw new Error("wasm module not loaded");if(this.ptr=s._glp_create_prob(),d===void 0)return;let{name:M,sense:x}=d;M!==void 0&&(this.name=M),x!==void 0&&(this.sense=x)}set name(d){let M=s.lengthBytesUTF8(d)+1,x=s._malloc(M);s.stringToUTF8(d,x,M),s._glp_set_prob_name(this.ptr,x),s._free(x)}get name(){let d=s._glp_get_prob_name(this.ptr);return s.UTF8ToString(d)}static fromPointer(d){let M=Object.create(O2.prototype);return M.ptr=d,M}get value(){return s._glp_get_obj_val(this.ptr)}get valueInt(){return s._glp_ipt_obj_val(this.ptr)}get valueMIP(){return s._glp_mip_obj_val(this.ptr)}get numVars(){return s._glp_get_num_cols(this.ptr)}get numConstrs(){return s._glp_get_num_rows(this.ptr)}get numNZs(){return s._glp_get_num_nz(this.ptr)}get numBinary(){return s._glp_get_num_bin(this.ptr)}get numInteger(){return s._glp_get_num_int(this.ptr)}get status(){let d=s._glp_get_status(this.ptr);return t2(d)}get statusPrimal(){let d=s._glp_get_prim_stat(this.ptr);return t2(d)}get statusDual(){let d=s._glp_get_dual_stat(this.ptr);return t2(d)}get statusInt(){let d=s._glp_ipt_status(this.ptr);return t2(d)}get statusMIP(){let d=s._glp_mip_status(this.ptr);return t2(d)}addVars(d,M){return Number.isInteger(d)?this.addVarsByCount(d,M):Array.isArray(d)?d.length===0||typeof d[0]=="string"?this.addVarsByKeys(d,M):this.addVarsByProperties(d):this.addVarsFromPropertiesArray(d)}addVar(d){let M=s._glp_add_cols(this.ptr,1),x=new E(this,M,d);return this._vars.push(x),x}addVarsByProperties(d){let M=s._glp_add_cols(this.ptr,d.length),x=d.map((G,r2)=>new E(this,M+r2,G));return this._vars=this._vars.concat(x),x}addVarsByCount(d,M){let x=s._glp_add_cols(this.ptr,d),G=Array.from(Array(d).keys(),r2=>new E(this,x+r2,M&&M.name?Object.assign(Object.assign({},M),{name:`${M.name}_${r2}`}):M));return this._vars=this._vars.concat(G),G}addVarsByKeys(d,M){let x=M||{},{name:G}=x,r2=a(x,["name"]);return this.addVarsFromPropertiesArray(Object.fromEntries(d.map(Y=>[Y,Object.assign(Object.assign({},r2),{name:`${G}[${Y}]`})])))}addVarsFromPropertiesArray(d){let M=[...Object.keys(d)];return Object.fromEntries(this.addVarsByProperties(Object.values(d)).map((x,G)=>[M[G],x]))}addConstrs(d,M){return Number.isInteger(d)?this.addConstrsByCount(d,M):this.addConstrsByProperties(d)}addConstr(d){let M=s._glp_add_rows(this.ptr,1),x=new T(this,M,d);return this._constrs.push(x),x}addConstrsByProperties(d){let M=s._glp_add_rows(this.ptr,d.length),x=d.map((G,r2)=>new T(this,M+r2,G));return this._constrs=this._constrs.concat(x),x}addConstrsByCount(d,M){let x=s._glp_add_rows(this.ptr,d),G=Array.from(Array(d).keys(),r2=>new T(this,x+r2,M&&M.name?Object.assign(Object.assign({},M),{name:`${M.name}_${r2}`}):M));return this._constrs=this._constrs.concat(G),G}update(){for(let d of this._constrs)d.update()}get sense(){return s._glp_get_obj_dir(this.ptr)===u.ObjectiveDirection.MIN?"min":"max"}set sense(d){if(d!=="min"&&d!=="max")throw new Error(`unknown sense '${d}'`);s._glp_set_obj_dir(this.ptr,d==="min"?u.ObjectiveDirection.MIN:u.ObjectiveDirection.MAX)}toModelLP(){this.update();let d="_tmp.lp",M=s._malloc(d.length+1);return s.stringToUTF8(d,M,d.length+1),s._glp_write_lp(this.ptr,0,M),s._free(M),s.FS.readFile(d,{encoding:"utf8"})}_refreshVariables(){let d=s._glp_get_num_cols(this.ptr);this._vars=Array.from(Array(d).keys(),M=>new E(this,M+1,{lb:s._glp_get_col_lb(this.ptr,M+1),ub:s._glp_get_col_ub(this.ptr,M+1)}))}_refreshConstraints(){let d=s._glp_get_num_rows(this.ptr);this._constrs=Array.from(Array(d).keys(),M=>new T(this,M+1,{lb:s._glp_get_row_lb(this.ptr,M+1),ub:s._glp_get_row_ub(this.ptr,M+1)}))}static fromModelLP(d){let M=new O2,x="_tmp.lp";s.FS.writeFile(x,d);let G=s._malloc(x.length+1);return s.stringToUTF8(x,G,x.length+1),s._glp_read_lp(M.ptr,0,G),s._free(G),M._refreshVariables(),M._refreshConstraints(),M}toMPS(){this.update();let d="_tmp.mps",M=s._malloc(d.length+1);return s.stringToUTF8(d,M,d.length+1),s._glp_write_mps(this.ptr,u.MPSFormat.FILE,0,M),s._free(M),s.FS.readFile(d,{encoding:"utf8"})}static fromMPS(d,M){let x=new O2,G="_tmp.mps";s.FS.writeFile(G,d);let r2=s._malloc(G.length+1);s.stringToUTF8(G,r2,G.length+1);let Y=M==="deck"?u.MPSFormat.DECK:u.MPSFormat.FILE,B=s._glp_read_mps(x.ptr,Y,0,r2);if(s._free(r2),B!==0)throw new Error("mps reading failed");return x._refreshVariables(),x._refreshConstraints(),x}simplex(d){return this.update(),t.Simplex.solve(this,d||{})}exact(d){return this.update(),t.Simplex.solveExact(this,d||{})}interior(d){return this.update(),t.Interior.solve(this,d||{})}intopt(d){return this.update(),t.MIP.solve(this,d||{})}get solution(){switch(this.status){case"undefined":case"infeasible":throw new Error(`status is '${this.status}', run simplex first`);case"feasible":case"optimal":return[`status = ${this.status}`,...this._vars.map(d=>`${d.name} = ${d.value}`),`value = ${this.value}`].join(`
`);case"unbounded":return"problem is unbounded";case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get solutionInt(){switch(this.statusInt){case"undefined":case"infeasible":throw new Error(`status is '${this.statusInt}', run interior first`);case"optimal":return[`status = ${this.statusInt}`,...this._vars.map(d=>`${d.name} = ${Number(d.valueInt.toFixed(6))}`),`value = ${Number(this.valueInt.toFixed(6))}`].join(`
`);case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get solutionMIP(){switch(this.statusMIP){case"undefined":throw new Error(`status is '${this.statusMIP}', run intopt first`);case"feasible":case"optimal":return[`status = ${this.statusMIP}`,...this._vars.map(d=>`${d.name} = ${d.valueMIP}`),`value = ${this.valueMIP}`].join(`
`);case"no_feasible":return"problem has no feasible solution";default:throw new Error("unknown status")}}get ray(){let d=s._glp_get_unbnd_ray(this.ptr);if(d===0)throw new Error("no unbounded ray");return d<=this.numConstrs?this._constrs[d-1]:this._vars[d-1-this.numConstrs]}getTableau(d){let M=d===void 0?d=x=>x.toString():d;return[...[...this.vars,...this.constrs].filter(x=>x.status==="basic").map(x=>x.name+" = "+[...x.row.map(([G,r2])=>`${M(G instanceof E?r2:-r2)} ${G.name}`),M(x.value)].join(" + ")),"z = "+[...[...this.vars,...this.constrs].filter(x=>x.status!=="basic").map(x=>`${M(x instanceof E?x.dual:-x.dual)} ${x.name}`),M(this.value)].join(" + ")].join(`
`)}}t.Constraint=T,t.Model=O2,t.Node=p2,t.Tree=M2,t.Variable=E,t.loadModule=l,Object.defineProperty(t,"__esModule",{value:!0})})});var Mo=null;function Le(){return Mo}function ta(t){Mo??=t}var ct=class{},ra=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:()=>w(bo),providedIn:"platform"})}return t})();var bo=(()=>{class t extends ra{_location;_history;_doc=w(g2);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Le().getBaseHref(this._doc)}onPopState(e){let n=Le().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){let n=Le().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,a){this._history.pushState(e,n,a)}replaceState(e,n,a){this._history.replaceState(e,n,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function zo(t,r){return t?r?t.endsWith("/")?r.startsWith("/")?t+r.slice(1):t+r:r.startsWith("/")?t+r:`${t}/${r}`:t:r}function _o(t){let r=t.search(/#|\?|$/);return t[r-1]==="/"?t.slice(0,r-1)+t.slice(r):t}function Ge(t){return t&&t[0]!=="?"?`?${t}`:t}var c3=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:()=>w(Co),providedIn:"root"})}return t})(),Lo=new _2(""),Co=(()=>{class t extends c3{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??w(g2).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return zo(this._baseHref,e)}path(e=!1){let n=this._platformLocation.pathname+Ge(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${n}${a}`:n}pushState(e,n,a,i){let o=this.prepareExternalUrl(a+Ge(i));this._platformLocation.pushState(e,n,o)}replaceState(e,n,a,i){let o=this.prepareExternalUrl(a+Ge(i));this._platformLocation.replaceState(e,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||t)(y2(ra),y2(Lo,8))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ye=(()=>{class t{_subject=new N2;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let n=this._locationStrategy.getBaseHref();this._basePath=im(_o(yo(n))),this._locationStrategy.onPopState(a=>{this._subject.next({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+Ge(n))}normalize(e){return t.stripTrailingSlash(am(this._basePath,yo(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",a=null){this._locationStrategy.pushState(a,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ge(n)),a)}replaceState(e,n="",a=null){this._locationStrategy.replaceState(a,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ge(n)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(a=>a(e,n))}subscribe(e,n,a){return this._subject.subscribe({next:e,error:n??void 0,complete:a??void 0})}static normalizeQueryParams=Ge;static joinWithSlash=zo;static stripTrailingSlash=_o;static \u0275fac=function(n){return new(n||t)(y2(c3))};static \u0275prov=P({token:t,factory:()=>nm(),providedIn:"root"})}return t})();function nm(){return new Ye(y2(c3))}function am(t,r){if(!t||!r.startsWith(t))return r;let e=r.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:r}function yo(t){return t.replace(/\/index.html$/,"")}function im(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}function sm(t,r){return new S2(2100,!1)}var na=class{createSubscription(r,e,n){return ze(()=>r.subscribe({next:e,error:n}))}dispose(r){ze(()=>r.unsubscribe())}},aa=class{createSubscription(r,e,n){return r.then(a=>e?.(a),a=>n?.(a)),{unsubscribe:()=>{e=null,n=null}}}dispose(r){r.unsubscribe()}},cm=new aa,lm=new na,fm=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=w(r3);constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n),n=>this.applicationErrorHandler(n))}_selectStrategy(e){if(S0(e))return cm;if(co(e))return lm;throw sm(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(n){return new(n||t)(Me(ae,16))};static \u0275pipe=z4({name:"async",type:t,pure:!1})}return t})();function um(t,r){return{key:t,value:r}}var dm=(()=>{class t{differs;constructor(e){this.differs=e}differ;keyValues=[];compareFn=wo;transform(e,n=wo){if(!e||!(e instanceof Map)&&typeof e!="object")return null;this.differ??=this.differs.find(e).create();let a=this.differ.diff(e),i=n!==this.compareFn;return a&&(this.keyValues=[],a.forEachItem(o=>{this.keyValues.push(um(o.key,o.currentValue))})),(a||i)&&(n&&this.keyValues.sort(n),this.compareFn=n),this.keyValues}static \u0275fac=function(n){return new(n||t)(Me(ho,16))};static \u0275pipe=z4({name:"keyvalue",type:t,pure:!1})}return t})();function wo(t,r){let e=t.key,n=r.key;if(e===n)return 0;if(e==null)return 1;if(n==null)return-1;if(typeof e=="string"&&typeof n=="string")return e<n?-1:1;if(typeof e=="number"&&typeof n=="number")return e-n;if(typeof e=="boolean"&&typeof n=="boolean")return e<n?-1:1;let a=String(e),i=String(n);return a==i?0:a<i?-1:1}function lt(t,r){r=encodeURIComponent(r);for(let e of t.split(";")){let n=e.indexOf("="),[a,i]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(a.trim()===r)return decodeURIComponent(i)}return null}var C4=class{};var ia="browser";function xo(t){return t===ia}var F0=new _2(""),fa=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(a=>{a.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,a,i){return this._findPluginFor(n).addEventListener(e,n,a,i)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(i=>i.supports(e)),!n)throw new S2(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||t)(y2(F0),y2(V2))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),ft=class{_doc;constructor(r){this._doc=r}manager},oa="ng-app-id";function Do(t){for(let r of t)r.remove()}function ko(t,r){let e=r.createElement("style");return e.textContent=t,e}function gm(t,r,e,n){let a=t.head?.querySelectorAll(`style[${oa}="${r}"],link[${oa}="${r}"]`);if(a)for(let i of a)i.removeAttribute(oa),i instanceof HTMLLinkElement?n.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&e.set(i.textContent,{usage:0,elements:[i]})}function ca(t,r){let e=r.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var ua=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,n,a,i={}){this.doc=e,this.appId=n,this.nonce=a,gm(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let a of e)this.addUsage(a,this.inline,ko);n?.forEach(a=>this.addUsage(a,this.external,ca))}removeStyles(e,n){for(let a of e)this.removeUsage(a,this.inline);n?.forEach(a=>this.removeUsage(a,this.external))}addUsage(e,n,a){let i=n.get(e);i?i.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,a(e,this.doc)))})}removeUsage(e,n){let a=n.get(e);a&&(a.usage--,a.usage<=0&&(Do(a.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Do(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:a}]of this.inline)a.push(this.addElement(e,ko(n,this.doc)));for(let[n,{elements:a}]of this.external)a.push(this.addElement(e,ca(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),e.appendChild(n)}static \u0275fac=function(n){return new(n||t)(y2(g2),y2(ot),y2(qn,8),y2(y4))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),sa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},da=/%COMP%/g;var Eo="%COMP%",vm=`_nghost-${Eo}`,_m=`_ngcontent-${Eo}`,ym=!0,Mm=new _2("",{providedIn:"root",factory:()=>ym});function bm(t){return _m.replace(da,t)}function zm(t){return vm.replace(da,t)}function Ro(t,r){return r.map(e=>e.replace(da,t))}var pa=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,a,i,o,s,l,u=null,h=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=a,this.removeStylesOnCompDestroy=i,this.doc=o,this.platformId=s,this.ngZone=l,this.nonce=u,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new ut(e,o,l,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;let a=this.getOrCreateRenderer(e,n);return a instanceof P0?a.applyToHost(e):a instanceof dt&&a.applyStyles(),a}getOrCreateRenderer(e,n){let a=this.rendererByCompId,i=a.get(n.id);if(!i){let o=this.doc,s=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,v=this.platformIsServer,y=this.tracingService;switch(n.encapsulation){case Gn.Emulated:i=new P0(l,u,n,this.appId,h,o,s,v,y);break;case Gn.ShadowDom:return new la(l,u,e,n,o,s,this.nonce,v,y);default:i=new dt(l,u,n,h,o,s,v,y);break}a.set(n.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||t)(y2(fa),y2(ua),y2(ot),y2(Mm),y2(g2),y2(y4),y2(V2),y2(qn),y2(so,8))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),ut=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(r,e,n,a,i){this.eventManager=r,this.doc=e,this.ngZone=n,this.platformIsServer=a,this.tracingService=i}destroy(){}destroyNode=null;createElement(r,e){return e?this.doc.createElementNS(sa[e]||e,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,e){(No(r)?r.content:r).appendChild(e)}insertBefore(r,e,n){r&&(No(r)?r.content:r).insertBefore(e,n)}removeChild(r,e){e.remove()}selectRootElement(r,e){let n=typeof r=="string"?this.doc.querySelector(r):r;if(!n)throw new S2(-5104,!1);return e||(n.textContent=""),n}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,n,a){if(a){e=a+":"+e;let i=sa[a];i?r.setAttributeNS(i,e,n):r.setAttribute(e,n)}else r.setAttribute(e,n)}removeAttribute(r,e,n){if(n){let a=sa[n];a?r.removeAttributeNS(a,e):r.removeAttribute(`${n}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,n,a){a&(i3.DashCase|i3.Important)?r.style.setProperty(e,n,a&i3.Important?"important":""):r.style[e]=n}removeStyle(r,e,n){n&i3.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,n){r!=null&&(r[e]=n)}setValue(r,e){r.nodeValue=e}listen(r,e,n,a){if(typeof r=="string"&&(r=Le().getGlobalEventTarget(this.doc,r),!r))throw new S2(5102,!1);let i=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(r,e,i)),this.eventManager.addEventListener(r,e,i,a)}decoratePreventDefault(r){return e=>{if(e==="__ngUnwrap__")return r;r(e)===!1&&e.preventDefault()}}};function No(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var la=class extends ut{sharedStylesHost;hostEl;shadowRoot;constructor(r,e,n,a,i,o,s,l,u){super(r,i,o,l,u),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=a.styles;h=Ro(a.id,h);for(let y of h){let b=document.createElement("style");s&&b.setAttribute("nonce",s),b.textContent=y,this.shadowRoot.appendChild(b)}let v=a.getExternalStyles?.();if(v)for(let y of v){let b=ca(y,i);s&&b.setAttribute("nonce",s),this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,n){return super.insertBefore(this.nodeOrShadowRoot(r),e,n)}removeChild(r,e){return super.removeChild(null,e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},dt=class extends ut{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(r,e,n,a,i,o,s,l,u){super(r,i,o,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=a;let h=n.styles;this.styles=u?Ro(u,h):h,this.styleUrls=n.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},P0=class extends dt{contentAttr;hostAttr;constructor(r,e,n,a,i,o,s,l,u){let h=a+"-"+n.id;super(r,e,n,i,o,s,l,u,h),this.contentAttr=bm(h),this.hostAttr=zm(h)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,e){let n=super.createElement(r,e);return super.setAttribute(n,this.contentAttr,""),n}};var B0=class t extends ct{supportsDOMEvents=!0;static makeCurrent(){ta(new t)}onAndCancel(r,e,n,a){return r.addEventListener(e,n,a),()=>{r.removeEventListener(e,n,a)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.remove()}createElement(r,e){return e=e||this.getDefaultDocument(),e.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return e==="window"?window:e==="document"?r:e==="body"?r.body:null}getBaseHref(r){let e=Cm();return e==null?null:wm(e)}resetBaseElement(){pt=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return lt(document.cookie,r)}},pt=null;function Cm(){return pt=pt||document.head.querySelector("base"),pt?pt.getAttribute("href"):null}function wm(t){return new URL(t,document.baseURI).pathname}var Sm=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),To=(()=>{class t extends ft{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,a,i){return e.addEventListener(n,a,i),()=>this.removeEventListener(e,n,a,i)}removeEventListener(e,n,a,i){return e.removeEventListener(n,a,i)}static \u0275fac=function(n){return new(n||t)(y2(g2))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),Ao=["alt","control","meta","shift"],xm={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dm={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Io=(()=>{class t extends ft{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,n,a,i){let o=t.parseEventName(n),s=t.eventCallback(o.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Le().onAndCancel(e,o.domEventName,s,i))}static parseEventName(e){let n=e.toLowerCase().split("."),a=n.shift();if(n.length===0||!(a==="keydown"||a==="keyup"))return null;let i=t._normalizeKey(n.pop()),o="",s=n.indexOf("code");if(s>-1&&(n.splice(s,1),o="code."),Ao.forEach(u=>{let h=n.indexOf(u);h>-1&&(n.splice(h,1),o+=u+".")}),o+=i,n.length!=0||i.length===0)return null;let l={};return l.domEventName=a,l.fullKey=o,l}static matchEventFullKeyCode(e,n){let a=xm[e.key]||e.key,i="";return n.indexOf("code.")>-1&&(a=e.code,i="code."),a==null||!a?!1:(a=a.toLowerCase(),a===" "?a="space":a==="."&&(a="dot"),Ao.forEach(o=>{if(o!==a){let s=Dm[o];s(e)&&(i+=o+".")}}),i+=a,i===n)}static eventCallback(e,n,a){return i=>{t.matchEventFullKeyCode(i,e)&&a.runGuarded(()=>n(i))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||t)(y2(g2))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();function km(t,r){let e=$({rootComponent:t},Nm(r));return go(e)}function Nm(t){return{appProviders:[...Im,...t?.providers??[]],platformProviders:Tm}}function Em(){B0.makeCurrent()}function Rm(){return new Vn}function Am(){return G6(document),document}var Tm=[{provide:y4,useValue:ia},{provide:Y6,useValue:Em,multi:!0},{provide:g2,useFactory:Am}];var Im=[{provide:W6,useValue:"root"},{provide:Vn,useFactory:Rm},{provide:F0,useClass:To,multi:!0,deps:[g2]},{provide:F0,useClass:Io,multi:!0,deps:[g2]},pa,ua,fa,{provide:X1,useExisting:pa},{provide:C4,useClass:Sm},[]];var u3=class{},mt=class{},Xe=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(r){r?typeof r=="string"?this.lazyInit=()=>{this.headers=new Map,r.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let a=e.slice(0,n),i=e.slice(n+1).trim();this.addHeaderEntry(a,i)}})}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();let e=this.headers.get(r.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,e){return this.clone({name:r,value:e,op:"a"})}set(r,e){return this.clone({name:r,value:e,op:"s"})}delete(r,e){return this.clone({name:r,value:e,op:"d"})}maybeSetNormalizedName(r,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,r)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(e=>{this.headers.set(e,r.headers.get(e)),this.normalizedNames.set(e,r.normalizedNames.get(e))})}clone(r){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([r]),e}applyUpdate(r){let e=r.name.toLowerCase();switch(r.op){case"a":case"s":let n=r.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(r.name,e);let a=(r.op==="a"?this.headers.get(e):void 0)||[];a.push(...n),this.headers.set(e,a);break;case"d":let i=r.value;if(!i)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(s=>i.indexOf(s)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}addHeaderEntry(r,e){let n=r.toLowerCase();this.maybeSetNormalizedName(r,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(r,e){let n=(Array.isArray(e)?e:[e]).map(i=>i.toString()),a=r.toLowerCase();this.headers.set(a,n),this.maybeSetNormalizedName(r,a)}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>r(this.normalizedNames.get(e),this.headers.get(e)))}};var U0=class{encodeKey(r){return Oo(r)}encodeValue(r){return Oo(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}};function Om(t,r){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(a=>{let i=a.indexOf("="),[o,s]=i==-1?[r.decodeKey(a),""]:[r.decodeKey(a.slice(0,i)),r.decodeValue(a.slice(i+1))],l=e.get(o)||[];l.push(s),e.set(o,l)}),e}var Pm=/%(\d[a-f0-9])/gi,Fm={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Oo(t){return encodeURIComponent(t).replace(Pm,(r,e)=>Fm[e]??r)}function j0(t){return`${t}`}var Ce=class t{map;encoder;updates=null;cloneFrom=null;constructor(r={}){if(this.encoder=r.encoder||new U0,r.fromString){if(r.fromObject)throw new S2(2805,!1);this.map=Om(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(e=>{let n=r.fromObject[e],a=Array.isArray(n)?n.map(j0):[j0(n)];this.map.set(e,a)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();let e=this.map.get(r);return e?e[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,e){return this.clone({param:r,value:e,op:"a"})}appendAll(r){let e=[];return Object.keys(r).forEach(n=>{let a=r[n];Array.isArray(a)?a.forEach(i=>{e.push({param:n,value:i,op:"a"})}):e.push({param:n,value:a,op:"a"})}),this.clone(e)}set(r,e){return this.clone({param:r,value:e,op:"s"})}delete(r,e){return this.clone({param:r,value:e,op:"d"})}toString(){return this.init(),this.keys().map(r=>{let e=this.encoder.encodeKey(r);return this.map.get(r).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(r=>r!=="").join("&")}clone(r){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(r),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":let e=(r.op==="a"?this.map.get(r.param):void 0)||[];e.push(j0(r.value)),this.map.set(r.param,e);break;case"d":if(r.value!==void 0){let n=this.map.get(r.param)||[],a=n.indexOf(j0(r.value));a!==-1&&n.splice(a,1),n.length>0?this.map.set(r.param,n):this.map.delete(r.param)}else{this.map.delete(r.param);break}}}),this.cloneFrom=this.updates=null)}};var H0=class{map=new Map;set(r,e){return this.map.set(r,e),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}};function Bm(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Po(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Fo(t){return typeof Blob<"u"&&t instanceof Blob}function Bo(t){return typeof FormData<"u"&&t instanceof FormData}function jm(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var jo="Content-Type",Uo="Accept",Ho="X-Request-URL",Vo="text/plain",$o="application/json",Um=`${$o}, ${Vo}, */*`,l3=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(r,e,n,a){this.url=e,this.method=r.toUpperCase();let i;if(Bm(this.method)||a?(this.body=n!==void 0?n:null,i=a):i=n,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),typeof i.timeout=="number"){if(i.timeout<1||!Number.isInteger(i.timeout))throw new Error("");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),this.transferCache=i.transferCache}if(this.headers??=new Xe,this.context??=new H0,!this.params)this.params=new Ce,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let s=e.indexOf("?"),l=s===-1?"?":s<e.length-1?"&":"";this.urlWithParams=e+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Po(this.body)||Fo(this.body)||Bo(this.body)||jm(this.body)?this.body:this.body instanceof Ce?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Bo(this.body)?null:Fo(this.body)?this.body.type||null:Po(this.body)?null:typeof this.body=="string"?Vo:this.body instanceof Ce?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?$o:null}clone(r={}){let e=r.method||this.method,n=r.url||this.url,a=r.responseType||this.responseType,i=r.keepalive??this.keepalive,o=r.priority||this.priority,s=r.cache||this.cache,l=r.mode||this.mode,u=r.redirect||this.redirect,h=r.credentials||this.credentials,v=r.transferCache??this.transferCache,y=r.timeout??this.timeout,b=r.body!==void 0?r.body:this.body,z=r.withCredentials??this.withCredentials,R=r.reportProgress??this.reportProgress,I=r.headers||this.headers,A=r.params||this.params,E=r.context??this.context;return r.setHeaders!==void 0&&(I=Object.keys(r.setHeaders).reduce((T,F)=>T.set(F,r.setHeaders[F]),I)),r.setParams&&(A=Object.keys(r.setParams).reduce((T,F)=>T.set(F,r.setParams[F]),A)),new t(e,n,b,{params:A,headers:I,context:E,reportProgress:R,responseType:a,withCredentials:z,transferCache:v,keepalive:i,cache:s,priority:o,timeout:y,mode:l,redirect:u,credentials:h})}},w4=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(w4||{}),d3=class{headers;status;statusText;url;ok;type;constructor(r,e=200,n="OK"){this.headers=r.headers||new Xe,this.status=r.status!==void 0?r.status:e,this.statusText=r.statusText||n,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}},V0=class t extends d3{constructor(r={}){super(r)}type=w4.ResponseHeader;clone(r={}){return new t({headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},ht=class t extends d3{body;constructor(r={}){super(r),this.body=r.body!==void 0?r.body:null}type=w4.Response;clone(r={}){return new t({body:r.body!==void 0?r.body:this.body,headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},f3=class extends d3{name="HttpErrorResponse";message;error;ok=!1;constructor(r){super(r,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${r.url||"(unknown url)"}`:this.message=`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}},Hm=200,Vm=204;function ma(t,r){return{body:r,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect}}var p3=(()=>{class t{handler;constructor(e){this.handler=e}request(e,n,a={}){let i;if(e instanceof l3)i=e;else{let l;a.headers instanceof Xe?l=a.headers:l=new Xe(a.headers);let u;a.params&&(a.params instanceof Ce?u=a.params:u=new Ce({fromObject:a.params})),i=new l3(e,n,a.body!==void 0?a.body:null,{headers:l,context:a.context,params:u,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache,keepalive:a.keepalive,priority:a.priority,cache:a.cache,mode:a.mode,redirect:a.redirect,credentials:a.credentials})}let o=s2(i).pipe(g4(l=>this.handler.handle(l)));if(e instanceof l3||a.observe==="events")return o;let s=o.pipe(c1(l=>l instanceof ht));switch(a.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(L2(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new S2(2806,!1);return l.body}));case"blob":return s.pipe(L2(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new S2(2807,!1);return l.body}));case"text":return s.pipe(L2(l=>{if(l.body!==null&&typeof l.body!="string")throw new S2(2808,!1);return l.body}));case"json":default:return s.pipe(L2(l=>l.body))}case"response":return s;default:throw new S2(2809,!1)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new Ce().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,a={}){return this.request("PATCH",e,ma(a,n))}post(e,n,a={}){return this.request("POST",e,ma(a,n))}put(e,n,a={}){return this.request("PUT",e,ma(a,n))}static \u0275fac=function(n){return new(n||t)(y2(u3))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();var $m=new _2("");function Wm(t,r){return r(t)}function qm(t,r,e){return(n,a)=>T1(e,()=>r(n,i=>t(i,a)))}var Wo=new _2(""),qo=new _2(""),Go=new _2("",{providedIn:"root",factory:()=>!0});var $0=(()=>{class t extends u3{backend;injector;chain=null;pendingTasks=w($n);contributeToStability=w(Go);constructor(e,n){super(),this.backend=e,this.injector=n}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(Wo),...this.injector.get(qo,[])]));this.chain=n.reduceRight((a,i)=>qm(a,i,this.injector),Wm)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,a=>this.backend.handle(a)).pipe(t3(n))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||t)(y2(mt),y2(k1))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();var Gm=/^\)\]\}',?\n/,Ym=RegExp(`^${Ho}:`,"m");function Xm(t){return"responseURL"in t&&t.responseURL?t.responseURL:Ym.test(t.getAllResponseHeaders())?t.getResponseHeader(Ho):null}var ha=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new S2(-2800,!1);let n=this.xhrFactory;return s2(null).pipe($2(()=>new Pe(i=>{let o=n.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((I,A)=>o.setRequestHeader(I,A.join(","))),e.headers.has(Uo)||o.setRequestHeader(Uo,Um),!e.headers.has(jo)){let I=e.detectContentTypeHeader();I!==null&&o.setRequestHeader(jo,I)}if(e.timeout&&(o.timeout=e.timeout),e.responseType){let I=e.responseType.toLowerCase();o.responseType=I!=="json"?I:"text"}let s=e.serializeBody(),l=null,u=()=>{if(l!==null)return l;let I=o.statusText||"OK",A=new Xe(o.getAllResponseHeaders()),E=Xm(o)||e.url;return l=new V0({headers:A,status:o.status,statusText:I,url:E}),l},h=()=>{let{headers:I,status:A,statusText:E,url:T}=u(),F=null;A!==Vm&&(F=typeof o.response>"u"?o.responseText:o.response),A===0&&(A=F?Hm:0);let Z=A>=200&&A<300;if(e.responseType==="json"&&typeof F=="string"){let t2=F;F=F.replace(Gm,"");try{F=F!==""?JSON.parse(F):null}catch(f2){F=t2,Z&&(Z=!1,F={error:f2,text:F})}}Z?(i.next(new ht({body:F,headers:I,status:A,statusText:E,url:T||void 0})),i.complete()):i.error(new f3({error:F,headers:I,status:A,statusText:E,url:T||void 0}))},v=I=>{let{url:A}=u(),E=new f3({error:I,status:o.status||0,statusText:o.statusText||"Unknown Error",url:A||void 0});i.error(E)},y=v;e.timeout&&(y=I=>{let{url:A}=u(),E=new f3({error:new DOMException("Request timed out","TimeoutError"),status:o.status||0,statusText:o.statusText||"Request timeout",url:A||void 0});i.error(E)});let b=!1,z=I=>{b||(i.next(u()),b=!0);let A={type:w4.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(A.total=I.total),e.responseType==="text"&&o.responseText&&(A.partialText=o.responseText),i.next(A)},R=I=>{let A={type:w4.UploadProgress,loaded:I.loaded};I.lengthComputable&&(A.total=I.total),i.next(A)};return o.addEventListener("load",h),o.addEventListener("error",v),o.addEventListener("timeout",y),o.addEventListener("abort",v),e.reportProgress&&(o.addEventListener("progress",z),s!==null&&o.upload&&o.upload.addEventListener("progress",R)),o.send(s),i.next({type:w4.Sent}),()=>{o.removeEventListener("error",v),o.removeEventListener("abort",v),o.removeEventListener("load",h),o.removeEventListener("timeout",y),e.reportProgress&&(o.removeEventListener("progress",z),s!==null&&o.upload&&o.upload.removeEventListener("progress",R)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(n){return new(n||t)(y2(C4))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),Yo=new _2(""),Km="XSRF-TOKEN",Zm=new _2("",{providedIn:"root",factory:()=>Km}),Jm="X-XSRF-TOKEN",Qm=new _2("",{providedIn:"root",factory:()=>Jm}),gt=class{},eh=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,n){this.doc=e,this.cookieName=n}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=lt(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||t)(y2(g2),y2(Zm))};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})();function th(t,r){let e=t.url.toLowerCase();if(!w(Yo)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return r(t);let n=w(gt).getToken(),a=w(Qm);return n!=null&&!t.headers.has(a)&&(t=t.clone({headers:t.headers.set(a,n)})),r(t)}function rh(...t){let r=[p3,ha,$0,{provide:u3,useExisting:$0},{provide:mt,useFactory:()=>w($m,{optional:!0})??w(ha)},{provide:Wo,useValue:th,multi:!0},{provide:Yo,useValue:!0},{provide:gt,useClass:eh}];for(let e of t)r.push(...e.\u0275providers);return it(r)}var W0=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||t)(y2(g2))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ga=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:function(n){let a=null;return n?a=new(n||t):a=y2(ih),a},providedIn:"root"})}return t})(),ih=(()=>{class t extends ga{_doc;constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case M4.NONE:return n;case M4.HTML:return a3(n,"HTML")?n3(n):ro(this._doc,String(n)).toString();case M4.STYLE:return a3(n,"Style")?n3(n):n;case M4.SCRIPT:if(a3(n,"Script"))return n3(n);throw new S2(5200,!1);case M4.URL:return a3(n,"URL")?n3(n):to(String(n));case M4.RESOURCE_URL:if(a3(n,"ResourceURL"))return n3(n);throw new S2(5201,!1);default:throw new S2(5202,!1)}}bypassSecurityTrustHtml(e){return K6(e)}bypassSecurityTrustStyle(e){return Z6(e)}bypassSecurityTrustScript(e){return J6(e)}bypassSecurityTrustUrl(e){return Q6(e)}bypassSecurityTrustResourceUrl(e){return eo(e)}static \u0275fac=function(n){return new(n||t)(y2(g2))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var v2="primary",Et=Symbol("RouteTitle"),ba=class{params;constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){let e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function D4(t){return new ba(t)}function rs(t,r,e){let n=e.path.split("/");if(n.length>t.length||e.pathMatch==="full"&&(r.hasChildren()||n.length<t.length))return null;let a={};for(let i=0;i<n.length;i++){let o=n[i],s=t[i];if(o[0]===":")a[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:t.slice(0,n.length),posParams:a}}function sh(t,r){if(t.length!==r.length)return!1;for(let e=0;e<t.length;++e)if(!ie(t[e],r[e]))return!1;return!0}function ie(t,r){let e=t?za(t):void 0,n=r?za(r):void 0;if(!e||!n||e.length!=n.length)return!1;let a;for(let i=0;i<e.length;i++)if(a=e[i],!ns(t[a],r[a]))return!1;return!0}function za(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ns(t,r){if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return!1;let e=[...t].sort(),n=[...r].sort();return e.every((a,i)=>n[i]===a)}else return t===r}function as(t){return t.length>0?t[t.length-1]:null}function xe(t){return Fn(t)?t:S0(t)?j1(Promise.resolve(t)):s2(t)}var ch={exact:os,subset:ss},is={exact:lh,subset:fh,ignored:()=>!0};function Xo(t,r,e){return ch[e.paths](t.root,r.root,e.matrixParams)&&is[e.queryParams](t.queryParams,r.queryParams)&&!(e.fragment==="exact"&&t.fragment!==r.fragment)}function lh(t,r){return ie(t,r)}function os(t,r,e){if(!S4(t.segments,r.segments)||!Y0(t.segments,r.segments,e)||t.numberOfChildren!==r.numberOfChildren)return!1;for(let n in r.children)if(!t.children[n]||!os(t.children[n],r.children[n],e))return!1;return!0}function fh(t,r){return Object.keys(r).length<=Object.keys(t).length&&Object.keys(r).every(e=>ns(t[e],r[e]))}function ss(t,r,e){return cs(t,r,r.segments,e)}function cs(t,r,e,n){if(t.segments.length>e.length){let a=t.segments.slice(0,e.length);return!(!S4(a,e)||r.hasChildren()||!Y0(a,e,n))}else if(t.segments.length===e.length){if(!S4(t.segments,e)||!Y0(t.segments,e,n))return!1;for(let a in r.children)if(!t.children[a]||!ss(t.children[a],r.children[a],n))return!1;return!0}else{let a=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!S4(t.segments,a)||!Y0(t.segments,a,n)||!t.children[v2]?!1:cs(t.children[v2],r,i,n)}}function Y0(t,r,e){return r.every((n,a)=>is[e](t[a].parameters,n.parameters))}var se=class{root;queryParams;fragment;_queryParamMap;constructor(r=new T2([],{}),e={},n=null){this.root=r,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=D4(this.queryParams),this._queryParamMap}toString(){return ph.serialize(this)}},T2=class{segments;children;parent=null;constructor(r,e){this.segments=r,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return X0(this)}},Ke=class{path;parameters;_parameterMap;constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap??=D4(this.parameters),this._parameterMap}toString(){return fs(this)}};function uh(t,r){return S4(t,r)&&t.every((e,n)=>ie(e.parameters,r[n].parameters))}function S4(t,r){return t.length!==r.length?!1:t.every((e,n)=>e.path===r[n].path)}function dh(t,r){let e=[];return Object.entries(t.children).forEach(([n,a])=>{n===v2&&(e=e.concat(r(a,n)))}),Object.entries(t.children).forEach(([n,a])=>{n!==v2&&(e=e.concat(r(a,n)))}),e}var Rt=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:()=>new k4,providedIn:"root"})}return t})(),k4=class{parse(r){let e=new Ca(r);return new se(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){let e=`/${vt(r.root,!0)}`,n=gh(r.queryParams),a=typeof r.fragment=="string"?`#${mh(r.fragment)}`:"";return`${e}${n}${a}`}},ph=new k4;function X0(t){return t.segments.map(r=>fs(r)).join("/")}function vt(t,r){if(!t.hasChildren())return X0(t);if(r){let e=t.children[v2]?vt(t.children[v2],!1):"",n=[];return Object.entries(t.children).forEach(([a,i])=>{a!==v2&&n.push(`${a}:${vt(i,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=dh(t,(n,a)=>a===v2?[vt(t.children[v2],!1)]:[`${a}:${vt(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[v2]!=null?`${X0(t)}/${e[0]}`:`${X0(t)}/(${e.join("//")})`}}function ls(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function q0(t){return ls(t).replace(/%3B/gi,";")}function mh(t){return encodeURI(t)}function La(t){return ls(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function K0(t){return decodeURIComponent(t)}function Ko(t){return K0(t.replace(/\+/g,"%20"))}function fs(t){return`${La(t.path)}${hh(t.parameters)}`}function hh(t){return Object.entries(t).map(([r,e])=>`;${La(r)}=${La(e)}`).join("")}function gh(t){let r=Object.entries(t).map(([e,n])=>Array.isArray(n)?n.map(a=>`${q0(e)}=${q0(a)}`).join("&"):`${q0(e)}=${q0(n)}`).filter(e=>e);return r.length?`?${r.join("&")}`:""}var vh=/^[^\/()?;#]+/;function va(t){let r=t.match(vh);return r?r[0]:""}var _h=/^[^\/()?;=#]+/;function yh(t){let r=t.match(_h);return r?r[0]:""}var Mh=/^[^=?&#]+/;function bh(t){let r=t.match(Mh);return r?r[0]:""}var zh=/^[^&#]+/;function Lh(t){let r=t.match(zh);return r?r[0]:""}var Ca=class{url;remaining;constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new T2([],{}):new T2([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(n[v2]=new T2(r,e)),n}parseSegment(){let r=va(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new S2(4009,!1);return this.capture(r),new Ke(K0(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let e=yh(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let a=va(this.remaining);a&&(n=a,this.capture(n))}r[K0(e)]=K0(n)}parseQueryParam(r){let e=bh(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let o=Lh(this.remaining);o&&(n=o,this.capture(n))}let a=Ko(e),i=Ko(n);if(r.hasOwnProperty(a)){let o=r[a];Array.isArray(o)||(o=[o],r[a]=o),o.push(i)}else r[a]=i}parseParens(r){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=va(this.remaining),a=this.remaining[n.length];if(a!=="/"&&a!==")"&&a!==";")throw new S2(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):r&&(i=v2);let o=this.parseChildren();e[i]=Object.keys(o).length===1?o[v2]:new T2([],o),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new S2(4011,!1)}};function us(t){return t.segments.length>0?new T2([],{[v2]:t}):t}function ds(t){let r={};for(let[n,a]of Object.entries(t.children)){let i=ds(a);if(n===v2&&i.segments.length===0&&i.hasChildren())for(let[o,s]of Object.entries(i.children))r[o]=s;else(i.segments.length>0||i.hasChildren())&&(r[n]=i)}let e=new T2(t.segments,r);return Ch(e)}function Ch(t){if(t.numberOfChildren===1&&t.children[v2]){let r=t.children[v2];return new T2(t.segments.concat(r.segments),r.children)}return t}function Ze(t){return t instanceof se}function ps(t,r,e=null,n=null){let a=ms(t);return hs(a,r,e,n)}function ms(t){let r;function e(i){let o={};for(let l of i.children){let u=e(l);o[l.outlet]=u}let s=new T2(i.url,o);return i===t&&(r=s),s}let n=e(t.root),a=us(n);return r??a}function hs(t,r,e,n){let a=t;for(;a.parent;)a=a.parent;if(r.length===0)return _a(a,a,a,e,n);let i=wh(r);if(i.toRoot())return _a(a,a,new T2([],{}),e,n);let o=Sh(i,a,t),s=o.processChildren?yt(o.segmentGroup,o.index,i.commands):vs(o.segmentGroup,o.index,i.commands);return _a(a,o.segmentGroup,s,e,n)}function Z0(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function zt(t){return typeof t=="object"&&t!=null&&t.outlets}function _a(t,r,e,n,a){let i={};n&&Object.entries(n).forEach(([l,u])=>{i[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let o;t===r?o=e:o=gs(t,r,e);let s=us(ds(o));return new se(s,i,a)}function gs(t,r,e){let n={};return Object.entries(t.children).forEach(([a,i])=>{i===r?n[a]=e:n[a]=gs(i,r,e)}),new T2(t.segments,n)}var J0=class{isAbsolute;numberOfDoubleDots;commands;constructor(r,e,n){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=n,r&&n.length>0&&Z0(n[0]))throw new S2(4003,!1);let a=n.find(zt);if(a&&a!==as(n))throw new S2(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wh(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new J0(!0,0,t);let r=0,e=!1,n=t.reduce((a,i,o)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let s={};return Object.entries(i.outlets).forEach(([l,u])=>{s[l]=typeof u=="string"?u.split("/"):u}),[...a,{outlets:s}]}if(i.segmentPath)return[...a,i.segmentPath]}return typeof i!="string"?[...a,i]:o===0?(i.split("/").forEach((s,l)=>{l==0&&s==="."||(l==0&&s===""?e=!0:s===".."?r++:s!=""&&a.push(s))}),a):[...a,i]},[]);return new J0(e,r,n)}var g3=class{segmentGroup;processChildren;index;constructor(r,e,n){this.segmentGroup=r,this.processChildren=e,this.index=n}};function Sh(t,r,e){if(t.isAbsolute)return new g3(r,!0,0);if(!e)return new g3(r,!1,NaN);if(e.parent===null)return new g3(e,!0,0);let n=Z0(t.commands[0])?0:1,a=e.segments.length-1+n;return xh(e,a,t.numberOfDoubleDots)}function xh(t,r,e){let n=t,a=r,i=e;for(;i>a;){if(i-=a,n=n.parent,!n)throw new S2(4005,!1);a=n.segments.length}return new g3(n,!1,a-i)}function Dh(t){return zt(t[0])?t[0].outlets:{[v2]:t}}function vs(t,r,e){if(t??=new T2([],{}),t.segments.length===0&&t.hasChildren())return yt(t,r,e);let n=kh(t,r,e),a=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let i=new T2(t.segments.slice(0,n.pathIndex),{});return i.children[v2]=new T2(t.segments.slice(n.pathIndex),t.children),yt(i,0,a)}else return n.match&&a.length===0?new T2(t.segments,{}):n.match&&!t.hasChildren()?wa(t,r,e):n.match?yt(t,0,a):wa(t,r,e)}function yt(t,r,e){if(e.length===0)return new T2(t.segments,{});{let n=Dh(e),a={};if(Object.keys(n).some(i=>i!==v2)&&t.children[v2]&&t.numberOfChildren===1&&t.children[v2].segments.length===0){let i=yt(t.children[v2],r,e);return new T2(t.segments,i.children)}return Object.entries(n).forEach(([i,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(a[i]=vs(t.children[i],r,o))}),Object.entries(t.children).forEach(([i,o])=>{n[i]===void 0&&(a[i]=o)}),new T2(t.segments,a)}}function kh(t,r,e){let n=0,a=r,i={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(n>=e.length)return i;let o=t.segments[a],s=e[n];if(zt(s))break;let l=`${s}`,u=n<e.length-1?e[n+1]:null;if(a>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!Jo(l,u,o))return i;n+=2}else{if(!Jo(l,{},o))return i;n++}a++}return{match:!0,pathIndex:a,commandIndex:n}}function wa(t,r,e){let n=t.segments.slice(0,r),a=0;for(;a<e.length;){let i=e[a];if(zt(i)){let l=Nh(i.outlets);return new T2(n,l)}if(a===0&&Z0(e[0])){let l=t.segments[r];n.push(new Ke(l.path,Zo(e[0]))),a++;continue}let o=zt(i)?i.outlets[v2]:`${i}`,s=a<e.length-1?e[a+1]:null;o&&s&&Z0(s)?(n.push(new Ke(o,Zo(s))),a+=2):(n.push(new Ke(o,{})),a++)}return new T2(n,{})}function Nh(t){let r={};return Object.entries(t).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(r[e]=wa(new T2([],{}),0,n))}),r}function Zo(t){let r={};return Object.entries(t).forEach(([e,n])=>r[e]=`${n}`),r}function Jo(t,r,e){return t==e.path&&ie(r,e.parameters)}var Mt="imperative",n1=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(n1||{}),P1=class{id;url;constructor(r,e){this.id=r,this.url=e}},N4=class extends P1{type=n1.NavigationStart;navigationTrigger;restoredState;constructor(r,e,n="imperative",a=null){super(r,e),this.navigationTrigger=n,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ce=class extends P1{urlAfterRedirects;type=n1.NavigationEnd;constructor(r,e,n){super(r,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},S1=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(S1||{}),Lt=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Lt||{}),oe=class extends P1{reason;code;type=n1.NavigationCancel;constructor(r,e,n,a){super(r,e),this.reason=n,this.code=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},we=class extends P1{reason;code;type=n1.NavigationSkipped;constructor(r,e,n,a){super(r,e),this.reason=n,this.code=a}},_3=class extends P1{error;target;type=n1.NavigationError;constructor(r,e,n,a){super(r,e),this.error=n,this.target=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ct=class extends P1{urlAfterRedirects;state;type=n1.RoutesRecognized;constructor(r,e,n,a){super(r,e),this.urlAfterRedirects=n,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Q0=class extends P1{urlAfterRedirects;state;type=n1.GuardsCheckStart;constructor(r,e,n,a){super(r,e),this.urlAfterRedirects=n,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},er=class extends P1{urlAfterRedirects;state;shouldActivate;type=n1.GuardsCheckEnd;constructor(r,e,n,a,i){super(r,e),this.urlAfterRedirects=n,this.state=a,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},tr=class extends P1{urlAfterRedirects;state;type=n1.ResolveStart;constructor(r,e,n,a){super(r,e),this.urlAfterRedirects=n,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rr=class extends P1{urlAfterRedirects;state;type=n1.ResolveEnd;constructor(r,e,n,a){super(r,e),this.urlAfterRedirects=n,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nr=class{route;type=n1.RouteConfigLoadStart;constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ar=class{route;type=n1.RouteConfigLoadEnd;constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ir=class{snapshot;type=n1.ChildActivationStart;constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},or=class{snapshot;type=n1.ChildActivationEnd;constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sr=class{snapshot;type=n1.ActivationStart;constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cr=class{snapshot;type=n1.ActivationEnd;constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var wt=class{},y3=class{url;navigationBehaviorOptions;constructor(r,e){this.url=r,this.navigationBehaviorOptions=e}};function Eh(t){return!(t instanceof wt)&&!(t instanceof y3)}function Rh(t,r){return t.providers&&!t._injector&&(t._injector=Yn(t.providers,r,`Route: ${t.path}`)),t._injector??r}function K1(t){return t.outlet||v2}function Ah(t,r){let e=t.filter(n=>K1(n)===r);return e.push(...t.filter(n=>K1(n)!==r)),e}function z3(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let r=t.parent;r;r=r.parent){let e=r.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var lr=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return z3(this.route?.snapshot)??this.rootInjector}constructor(r){this.rootInjector=r,this.children=new L3(this.rootInjector)}},L3=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let a=this.getOrCreateContext(e);a.outlet=n,this.contexts.set(e,a)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new lr(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||t)(y2(k1))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fr=class{_root;constructor(r){this._root=r}get root(){return this._root.value}parent(r){let e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){let e=Sa(r,this._root);return e?e.children.map(n=>n.value):[]}firstChild(r){let e=Sa(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){let e=xa(r,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==r)}pathFromRoot(r){return xa(r,this._root).map(e=>e.value)}};function Sa(t,r){if(t===r.value)return r;for(let e of r.children){let n=Sa(t,e);if(n)return n}return null}function xa(t,r){if(t===r.value)return[r];for(let e of r.children){let n=xa(t,e);if(n.length)return n.unshift(r),n}return[]}var O1=class{value;children;constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}};function h3(t){let r={};return t&&t.children.forEach(e=>r[e.value.outlet]=e),r}var St=class extends fr{snapshot;constructor(r,e){super(r),this.snapshot=e,Ia(this,r)}toString(){return this.snapshot.toString()}};function _s(t){let r=Th(t),e=new s1([new Ke("",{})]),n=new s1({}),a=new s1({}),i=new s1({}),o=new s1(""),s=new Se(e,n,i,o,a,v2,t,r.root);return s.snapshot=r.root,new St(new O1(s,[]),r)}function Th(t){let r={},e={},n={},a="",i=new x4([],r,n,a,e,v2,t,null,{});return new xt("",new O1(i,[]))}var Se=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(r,e,n,a,i,o,s,l){this.urlSubject=r,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=a,this.dataSubject=i,this.outlet=o,this.component=s,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(L2(u=>u[Et]))??s2(void 0),this.url=r,this.params=e,this.queryParams=n,this.fragment=a,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L2(r=>D4(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L2(r=>D4(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ur(t,r,e="emptyOnly"){let n,{routeConfig:a}=t;return r!==null&&(e==="always"||a?.path===""||!r.component&&!r.routeConfig?.loadComponent)?n={params:$($({},r.params),t.params),data:$($({},r.data),t.data),resolve:$($($($({},t.data),r.data),a?.data),t._resolvedData)}:n={params:$({},t.params),data:$({},t.data),resolve:$($({},t.data),t._resolvedData??{})},a&&Ms(a)&&(n.resolve[Et]=a.title),n}var x4=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Et]}constructor(r,e,n,a,i,o,s,l,u){this.url=r,this.params=e,this.queryParams=n,this.fragment=a,this.data=i,this.outlet=o,this.component=s,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=D4(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=D4(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${e}')`}},xt=class extends fr{url;constructor(r,e){super(e),this.url=r,Ia(this,e)}toString(){return ys(this._root)}};function Ia(t,r){r.value._routerState=t,r.children.forEach(e=>Ia(t,e))}function ys(t){let r=t.children.length>0?` { ${t.children.map(ys).join(", ")} } `:"";return`${t.value}${r}`}function ya(t){if(t.snapshot){let r=t.snapshot,e=t._futureSnapshot;t.snapshot=e,ie(r.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),r.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),ie(r.params,e.params)||t.paramsSubject.next(e.params),sh(r.url,e.url)||t.urlSubject.next(e.url),ie(r.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Da(t,r){let e=ie(t.params,r.params)&&uh(t.url,r.url),n=!t.parent!=!r.parent;return e&&!n&&(!t.parent||Da(t.parent,r.parent))}function Ms(t){return typeof t.title=="string"||t.title===null}var bs=new _2(""),Oa=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=v2;activateEvents=new J2;deactivateEvents=new J2;attachEvents=new J2;detachEvents=new J2;routerOutletData=e1(void 0);parentContexts=w(L3);location=w(He);changeDetector=w(ae);inputBinder=w(At,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:a}=e.name;if(n)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S2(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S2(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S2(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new S2(4013,!1);this._activatedRoute=e;let a=this.location,o=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,l=new ka(e,s,a.injector,this.routerOutletData);this.activated=a.createComponent(o,{index:a.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=_1({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[_e]})}return t})(),ka=class{route;childContexts;parent;outletData;constructor(r,e,n,a){this.route=r,this.childContexts=e,this.parent=n,this.outletData=a}get(r,e){return r===Se?this.route:r===L3?this.childContexts:r===bs?this.outletData:this.parent.get(r,e)}},At=new _2(""),Pa=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,a=ge([n.queryParams,n.params,n.data]).pipe($2(([i,o,s],l)=>(s=$($($({},i),o),s),l===0?s2(s):Promise.resolve(s)))).subscribe(i=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let o=vo(n.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:s}of o.inputs)e.activatedComponentRef.setInput(s,i[s])});this.outletDataSubscriptions.set(e,a)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac})}return t})(),Fa=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=v1({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,a){n&1&&qe(0,"router-outlet")},dependencies:[Oa],encapsulation:2})}return t})();function Ba(t){let r=t.children&&t.children.map(Ba),e=r?U2($({},t),{children:r}):$({},t);return!e.component&&!e.loadComponent&&(r||e.loadChildren)&&e.outlet&&e.outlet!==v2&&(e.component=Fa),e}function Ih(t,r,e){let n=Dt(t,r._root,e?e._root:void 0);return new St(n,r)}function Dt(t,r,e){if(e&&t.shouldReuseRoute(r.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=r.value;let a=Oh(t,r,e);return new O1(n,a)}else{if(t.shouldAttach(r.value)){let i=t.retrieve(r.value);if(i!==null){let o=i.route;return o.value._futureSnapshot=r.value,o.children=r.children.map(s=>Dt(t,s)),o}}let n=Ph(r.value),a=r.children.map(i=>Dt(t,i));return new O1(n,a)}}function Oh(t,r,e){return r.children.map(n=>{for(let a of e.children)if(t.shouldReuseRoute(n.value,a.value.snapshot))return Dt(t,n,a);return Dt(t,n)})}function Ph(t){return new Se(new s1(t.url),new s1(t.params),new s1(t.queryParams),new s1(t.fragment),new s1(t.data),t.outlet,t.component,t)}var M3=class{redirectTo;navigationBehaviorOptions;constructor(r,e){this.redirectTo=r,this.navigationBehaviorOptions=e}},zs="ngNavigationCancelingError";function dr(t,r){let{redirectTo:e,navigationBehaviorOptions:n}=Ze(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,a=Ls(!1,S1.Redirect);return a.url=e,a.navigationBehaviorOptions=n,a}function Ls(t,r){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[zs]=!0,e.cancellationCode=r,e}function Fh(t){return Cs(t)&&Ze(t.url)}function Cs(t){return!!t&&t[zs]}var Bh=(t,r,e,n)=>L2(a=>(new Na(r,a.targetRouterState,a.currentRouterState,e,n).activate(t),a)),Na=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(r,e,n,a,i){this.routeReuseStrategy=r,this.futureState=e,this.currState=n,this.forwardEvent=a,this.inputBindingEnabled=i}activate(r){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,r),ya(this.futureState.root),this.activateChildRoutes(e,n,r)}deactivateChildRoutes(r,e,n){let a=h3(e);r.children.forEach(i=>{let o=i.value.outlet;this.deactivateRoutes(i,a[o],n),delete a[o]}),Object.values(a).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(r,e,n){let a=r.value,i=e?e.value:null;if(a===i)if(a.component){let o=n.getContext(a.outlet);o&&this.deactivateChildRoutes(r,e,o.children)}else this.deactivateChildRoutes(r,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){let n=e.getContext(r.value.outlet),a=n&&r.value.component?n.children:e,i=h3(r);for(let o of Object.values(i))this.deactivateRouteAndItsChildren(o,a);if(n&&n.outlet){let o=n.outlet.detach(),s=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:o,route:r,contexts:s})}}deactivateRouteAndOutlet(r,e){let n=e.getContext(r.value.outlet),a=n&&r.value.component?n.children:e,i=h3(r);for(let o of Object.values(i))this.deactivateRouteAndItsChildren(o,a);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(r,e,n){let a=h3(e);r.children.forEach(i=>{this.activateRoutes(i,a[i.value.outlet],n),this.forwardEvent(new cr(i.value.snapshot))}),r.children.length&&this.forwardEvent(new or(r.value.snapshot))}activateRoutes(r,e,n){let a=r.value,i=e?e.value:null;if(ya(a),a===i)if(a.component){let o=n.getOrCreateContext(a.outlet);this.activateChildRoutes(r,e,o.children)}else this.activateChildRoutes(r,e,n);else if(a.component){let o=n.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){let s=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),ya(s.route.value),this.activateChildRoutes(r,null,o.children)}else o.attachRef=null,o.route=a,o.outlet&&o.outlet.activateWith(a,o.injector),this.activateChildRoutes(r,null,o.children)}else this.activateChildRoutes(r,null,n)}},pr=class{path;route;constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},v3=class{component;route;constructor(r,e){this.component=r,this.route=e}};function jh(t,r,e){let n=t._root,a=r?r._root:null;return _t(n,a,e,[n.value])}function Uh(t){let r=t.routeConfig?t.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:t,guards:r}}function C3(t,r){let e=Symbol(),n=r.get(t,e);return n===e?typeof t=="function"&&!$6(t)?t:r.get(t):n}function _t(t,r,e,n,a={canDeactivateChecks:[],canActivateChecks:[]}){let i=h3(r);return t.children.forEach(o=>{Hh(o,i[o.value.outlet],e,n.concat([o.value]),a),delete i[o.value.outlet]}),Object.entries(i).forEach(([o,s])=>bt(s,e.getContext(o),a)),a}function Hh(t,r,e,n,a={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,o=r?r.value:null,s=e?e.getContext(t.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){let l=Vh(o,i,i.routeConfig.runGuardsAndResolvers);l?a.canActivateChecks.push(new pr(n)):(i.data=o.data,i._resolvedData=o._resolvedData),i.component?_t(t,r,s?s.children:null,n,a):_t(t,r,e,n,a),l&&s&&s.outlet&&s.outlet.isActivated&&a.canDeactivateChecks.push(new v3(s.outlet.component,o))}else o&&bt(r,s,a),a.canActivateChecks.push(new pr(n)),i.component?_t(t,null,s?s.children:null,n,a):_t(t,null,e,n,a);return a}function Vh(t,r,e){if(typeof e=="function")return e(t,r);switch(e){case"pathParamsChange":return!S4(t.url,r.url);case"pathParamsOrQueryParamsChange":return!S4(t.url,r.url)||!ie(t.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Da(t,r)||!ie(t.queryParams,r.queryParams);case"paramsChange":default:return!Da(t,r)}}function bt(t,r,e){let n=h3(t),a=t.value;Object.entries(n).forEach(([i,o])=>{a.component?r?bt(o,r.children.getContext(i),e):bt(o,null,e):bt(o,r,e)}),a.component?r&&r.outlet&&r.outlet.isActivated?e.canDeactivateChecks.push(new v3(r.outlet.component,a)):e.canDeactivateChecks.push(new v3(null,a)):e.canDeactivateChecks.push(new v3(null,a))}function Tt(t){return typeof t=="function"}function $h(t){return typeof t=="boolean"}function Wh(t){return t&&Tt(t.canLoad)}function qh(t){return t&&Tt(t.canActivate)}function Gh(t){return t&&Tt(t.canActivateChild)}function Yh(t){return t&&Tt(t.canDeactivate)}function Xh(t){return t&&Tt(t.canMatch)}function ws(t){return t instanceof F6||t?.name==="EmptyError"}var G0=Symbol("INITIAL_VALUE");function b3(){return $2(t=>ge(t.map(r=>r.pipe(Fe(1),at(G0)))).pipe(L2(r=>{for(let e of r)if(e!==!0){if(e===G0)return G0;if(e===!1||Kh(e))return e}return!0}),c1(r=>r!==G0),Fe(1)))}function Kh(t){return Ze(t)||t instanceof M3}function Zh(t,r){return U1(e=>{let{targetSnapshot:n,currentSnapshot:a,guards:{canActivateChecks:i,canDeactivateChecks:o}}=e;return o.length===0&&i.length===0?s2(U2($({},e),{guardsResult:!0})):Jh(o,n,a,t).pipe(U1(s=>s&&$h(s)?Qh(n,i,t,r):s2(s)),L2(s=>U2($({},e),{guardsResult:s})))})}function Jh(t,r,e,n){return j1(t).pipe(U1(a=>ag(a.component,a.route,e,r,n)),ne(a=>a!==!0,!0))}function Qh(t,r,e,n){return j1(r).pipe(g4(a=>B6(tg(a.route.parent,n),eg(a.route,n),ng(t,a.path,e),rg(t,a.route,e))),ne(a=>a!==!0,!0))}function eg(t,r){return t!==null&&r&&r(new sr(t)),s2(!0)}function tg(t,r){return t!==null&&r&&r(new ir(t)),s2(!0)}function rg(t,r,e){let n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||n.length===0)return s2(!0);let a=n.map(i=>e3(()=>{let o=z3(r)??e,s=C3(i,o),l=qh(s)?s.canActivate(r,t):T1(o,()=>s(r,t));return xe(l).pipe(ne())}));return s2(a).pipe(b3())}function ng(t,r,e){let n=r[r.length-1],i=r.slice(0,r.length-1).reverse().map(o=>Uh(o)).filter(o=>o!==null).map(o=>e3(()=>{let s=o.guards.map(l=>{let u=z3(o.node)??e,h=C3(l,u),v=Gh(h)?h.canActivateChild(n,t):T1(u,()=>h(n,t));return xe(v).pipe(ne())});return s2(s).pipe(b3())}));return s2(i).pipe(b3())}function ag(t,r,e,n,a){let i=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!i||i.length===0)return s2(!0);let o=i.map(s=>{let l=z3(r)??a,u=C3(s,l),h=Yh(u)?u.canDeactivate(t,r,e,n):T1(l,()=>u(t,r,e,n));return xe(h).pipe(ne())});return s2(o).pipe(b3())}function ig(t,r,e,n){let a=r.canLoad;if(a===void 0||a.length===0)return s2(!0);let i=a.map(o=>{let s=C3(o,t),l=Wh(s)?s.canLoad(r,e):T1(t,()=>s(r,e));return xe(l)});return s2(i).pipe(b3(),Ss(n))}function Ss(t){return O6(Z2(r=>{if(typeof r!="boolean")throw dr(t,r)}),L2(r=>r===!0))}function og(t,r,e,n){let a=r.canMatch;if(!a||a.length===0)return s2(!0);let i=a.map(o=>{let s=C3(o,t),l=Xh(s)?s.canMatch(r,e):T1(t,()=>s(r,e));return xe(l)});return s2(i).pipe(b3(),Ss(n))}var kt=class{segmentGroup;constructor(r){this.segmentGroup=r||null}},Nt=class extends Error{urlTree;constructor(r){super(),this.urlTree=r}};function m3(t){return nt(new kt(t))}function sg(t){return nt(new S2(4e3,!1))}function cg(t){return nt(Ls(!1,S1.GuardRejected))}var Ea=class{urlSerializer;urlTree;constructor(r,e){this.urlSerializer=r,this.urlTree=e}lineralizeSegments(r,e){let n=[],a=e.root;for(;;){if(n=n.concat(a.segments),a.numberOfChildren===0)return s2(n);if(a.numberOfChildren>1||!a.children[v2])return sg(`${r.redirectTo}`);a=a.children[v2]}}applyRedirectCommands(r,e,n,a,i){return lg(e,a,i).pipe(L2(o=>{if(o instanceof se)throw new Nt(o);let s=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),r,n);if(o[0]==="/")throw new Nt(s);return s}))}applyRedirectCreateUrlTree(r,e,n,a){let i=this.createSegmentGroup(r,e.root,n,a);return new se(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){let n={};return Object.entries(r).forEach(([a,i])=>{if(typeof i=="string"&&i[0]===":"){let s=i.substring(1);n[a]=e[s]}else n[a]=i}),n}createSegmentGroup(r,e,n,a){let i=this.createSegments(r,e.segments,n,a),o={};return Object.entries(e.children).forEach(([s,l])=>{o[s]=this.createSegmentGroup(r,l,n,a)}),new T2(i,o)}createSegments(r,e,n,a){return e.map(i=>i.path[0]===":"?this.findPosParam(r,i,a):this.findOrReturn(i,n))}findPosParam(r,e,n){let a=n[e.path.substring(1)];if(!a)throw new S2(4001,!1);return a}findOrReturn(r,e){let n=0;for(let a of e){if(a.path===r.path)return e.splice(n),a;n++}return r}};function lg(t,r,e){if(typeof t=="string")return s2(t);let n=t,{queryParams:a,fragment:i,routeConfig:o,url:s,outlet:l,params:u,data:h,title:v}=r;return xe(T1(e,()=>n({params:u,data:h,queryParams:a,fragment:i,routeConfig:o,url:s,outlet:l,title:v})))}var Ra={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fg(t,r,e,n,a){let i=xs(t,r,e);return i.matched?(n=Rh(r,n),og(n,r,e,a).pipe(L2(o=>o===!0?i:$({},Ra)))):s2(i)}function xs(t,r,e){if(r.path==="**")return ug(e);if(r.path==="")return r.pathMatch==="full"&&(t.hasChildren()||e.length>0)?$({},Ra):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let a=(r.matcher||rs)(e,t,r);if(!a)return $({},Ra);let i={};Object.entries(a.posParams??{}).forEach(([s,l])=>{i[s]=l.path});let o=a.consumed.length>0?$($({},i),a.consumed[a.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:o,positionalParamSegments:a.posParams??{}}}function ug(t){return{matched:!0,parameters:t.length>0?as(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Qo(t,r,e,n){return e.length>0&&mg(t,e,n)?{segmentGroup:new T2(r,pg(n,new T2(e,t.children))),slicedSegments:[]}:e.length===0&&hg(t,e,n)?{segmentGroup:new T2(t.segments,dg(t,e,n,t.children)),slicedSegments:e}:{segmentGroup:new T2(t.segments,t.children),slicedSegments:e}}function dg(t,r,e,n){let a={};for(let i of e)if(hr(t,r,i)&&!n[K1(i)]){let o=new T2([],{});a[K1(i)]=o}return $($({},n),a)}function pg(t,r){let e={};e[v2]=r;for(let n of t)if(n.path===""&&K1(n)!==v2){let a=new T2([],{});e[K1(n)]=a}return e}function mg(t,r,e){return e.some(n=>hr(t,r,n)&&K1(n)!==v2)}function hg(t,r,e){return e.some(n=>hr(t,r,n))}function hr(t,r,e){return(t.hasChildren()||r.length>0)&&e.pathMatch==="full"?!1:e.path===""}function gg(t,r,e){return r.length===0&&!t.children[e]}var Aa=class{};function vg(t,r,e,n,a,i,o="emptyOnly"){return new Ta(t,r,e,n,a,o,i).recognize()}var _g=31,Ta=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(r,e,n,a,i,o,s){this.injector=r,this.configLoader=e,this.rootComponentType=n,this.config=a,this.urlTree=i,this.paramsInheritanceStrategy=o,this.urlSerializer=s,this.applyRedirects=new Ea(this.urlSerializer,this.urlTree)}noMatchError(r){return new S2(4002,`'${r.segmentGroup}'`)}recognize(){let r=Qo(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(L2(({children:e,rootSnapshot:n})=>{let a=new O1(n,e),i=new xt("",a),o=ps(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(o),{state:i,tree:o}}))}match(r){let e=new x4([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),v2,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,v2,e).pipe(L2(n=>({children:n,rootSnapshot:e})),ve(n=>{if(n instanceof Nt)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof kt?this.noMatchError(n):n}))}processSegmentGroup(r,e,n,a,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(r,e,n,i):this.processSegment(r,e,n,n.segments,a,!0,i).pipe(L2(o=>o instanceof O1?[o]:[]))}processChildren(r,e,n,a){let i=[];for(let o of Object.keys(n.children))o==="primary"?i.unshift(o):i.push(o);return j1(i).pipe(g4(o=>{let s=n.children[o],l=Ah(e,o);return this.processSegmentGroup(r,l,s,o,a)}),U6((o,s)=>(o.push(...s),o)),jn(null),j6(),U1(o=>{if(o===null)return m3(n);let s=Ds(o);return yg(s),s2(s)}))}processSegment(r,e,n,a,i,o,s){return j1(e).pipe(g4(l=>this.processSegmentAgainstRoute(l._injector??r,e,l,n,a,i,o,s).pipe(ve(u=>{if(u instanceof kt)return s2(null);throw u}))),ne(l=>!!l),ve(l=>{if(ws(l))return gg(n,a,i)?s2(new Aa):m3(n);throw l}))}processSegmentAgainstRoute(r,e,n,a,i,o,s,l){return K1(n)!==o&&(o===v2||!hr(a,i,n))?m3(a):n.redirectTo===void 0?this.matchSegmentAgainstRoute(r,a,n,i,o,l):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(r,a,e,n,i,o,l):m3(a)}expandSegmentAgainstRouteUsingRedirect(r,e,n,a,i,o,s){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:v,remainingSegments:y}=xs(e,a,i);if(!l)return m3(e);typeof a.redirectTo=="string"&&a.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>_g&&(this.allowRedirects=!1));let b=new x4(i,u,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,es(a),K1(a),a.component??a._loadedComponent??null,a,ts(a)),z=ur(b,s,this.paramsInheritanceStrategy);return b.params=Object.freeze(z.params),b.data=Object.freeze(z.data),this.applyRedirects.applyRedirectCommands(h,a.redirectTo,v,b,r).pipe($2(I=>this.applyRedirects.lineralizeSegments(a,I)),U1(I=>this.processSegment(r,n,e,I.concat(y),o,!1,s)))}matchSegmentAgainstRoute(r,e,n,a,i,o){let s=fg(e,n,a,r,this.urlSerializer);return n.path==="**"&&(e.children={}),s.pipe($2(l=>l.matched?(r=n._injector??r,this.getChildConfig(r,n,a).pipe($2(({routes:u})=>{let h=n._loadedInjector??r,{parameters:v,consumedSegments:y,remainingSegments:b}=l,z=new x4(y,v,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,es(n),K1(n),n.component??n._loadedComponent??null,n,ts(n)),R=ur(z,o,this.paramsInheritanceStrategy);z.params=Object.freeze(R.params),z.data=Object.freeze(R.data);let{segmentGroup:I,slicedSegments:A}=Qo(e,y,b,u);if(A.length===0&&I.hasChildren())return this.processChildren(h,u,I,z).pipe(L2(T=>new O1(z,T)));if(u.length===0&&A.length===0)return s2(new O1(z,[]));let E=K1(n)===i;return this.processSegment(h,u,I,A,E?v2:i,!0,z).pipe(L2(T=>new O1(z,T instanceof O1?[T]:[])))}))):m3(e)))}getChildConfig(r,e,n){return e.children?s2({routes:e.children,injector:r}):e.loadChildren?e._loadedRoutes!==void 0?s2({routes:e._loadedRoutes,injector:e._loadedInjector}):ig(r,e,n,this.urlSerializer).pipe(U1(a=>a?this.configLoader.loadChildren(r,e).pipe(Z2(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):cg(e))):s2({routes:[],injector:r})}};function yg(t){t.sort((r,e)=>r.value.outlet===v2?-1:e.value.outlet===v2?1:r.value.outlet.localeCompare(e.value.outlet))}function Mg(t){let r=t.value.routeConfig;return r&&r.path===""}function Ds(t){let r=[],e=new Set;for(let n of t){if(!Mg(n)){r.push(n);continue}let a=r.find(i=>n.value.routeConfig===i.value.routeConfig);a!==void 0?(a.children.push(...n.children),e.add(a)):r.push(n)}for(let n of e){let a=Ds(n.children);r.push(new O1(n.value,a))}return r.filter(n=>!e.has(n))}function es(t){return t.data||{}}function ts(t){return t.resolve||{}}function bg(t,r,e,n,a,i){return U1(o=>vg(t,r,e,n,o.extractedUrl,a,i).pipe(L2(({state:s,tree:l})=>U2($({},o),{targetSnapshot:s,urlAfterRedirects:l}))))}function zg(t,r){return U1(e=>{let{targetSnapshot:n,guards:{canActivateChecks:a}}=e;if(!a.length)return s2(e);let i=new Set(a.map(l=>l.route)),o=new Set;for(let l of i)if(!o.has(l))for(let u of ks(l))o.add(u);let s=0;return j1(o).pipe(g4(l=>i.has(l)?Lg(l,n,t,r):(l.data=ur(l,l.parent,t).resolve,s2(void 0))),Z2(()=>s++),Un(1),U1(l=>s===o.size?s2(e):B1))})}function ks(t){let r=t.children.map(e=>ks(e)).flat();return[t,...r]}function Lg(t,r,e,n){let a=t.routeConfig,i=t._resolve;return a?.title!==void 0&&!Ms(a)&&(i[Et]=a.title),e3(()=>(t.data=ur(t,t.parent,e).resolve,Cg(i,t,r,n).pipe(L2(o=>(t._resolvedData=o,t.data=$($({},t.data),o),null)))))}function Cg(t,r,e,n){let a=za(t);if(a.length===0)return s2({});let i={};return j1(a).pipe(U1(o=>wg(t[o],r,e,n).pipe(ne(),Z2(s=>{if(s instanceof M3)throw dr(new k4,s);i[o]=s}))),Un(1),L2(()=>i),ve(o=>ws(o)?B1:nt(o)))}function wg(t,r,e,n){let a=z3(r)??n,i=C3(t,a),o=i.resolve?i.resolve(r,e):T1(a,()=>i(r,e));return xe(o)}function Ma(t){return $2(r=>{let e=t(r);return e?j1(e).pipe(L2(()=>r)):s2(r)})}var ja=(()=>{class t{buildTitle(e){let n,a=e.root;for(;a!==void 0;)n=this.getResolvedTitleForRoute(a)??n,a=a.children.find(i=>i.outlet===v2);return n}getResolvedTitleForRoute(e){return e.data[Et]}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:()=>w(Ns),providedIn:"root"})}return t})(),Ns=(()=>{class t extends ja{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||t)(y2(W0))};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),w3=new _2("",{providedIn:"root",factory:()=>({})}),It=new _2(""),Es=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=w(po);loadComponent(e,n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return s2(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let a=xe(T1(e,()=>n.loadComponent())).pipe(L2(As),Z2(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),t3(()=>{this.componentLoaders.delete(n)})),i=new Pn(a,()=>new N2).pipe(On());return this.componentLoaders.set(n,i),i}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return s2({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let i=Rs(n,this.compiler,e,this.onLoadEndListener).pipe(t3(()=>{this.childrenLoaders.delete(n)})),o=new Pn(i,()=>new N2).pipe(On());return this.childrenLoaders.set(n,o),o}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Rs(t,r,e,n){return xe(T1(e,()=>t.loadChildren())).pipe(L2(As),U1(a=>a instanceof io||Array.isArray(a)?s2(a):j1(r.compileModuleAsync(a))),L2(a=>{n&&n(t);let i,o,s=!1;return Array.isArray(a)?(o=a,s=!0):(i=a.create(e).injector,o=i.get(It,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ba),injector:i}}))}function Sg(t){return t&&typeof t=="object"&&"default"in t}function As(t){return Sg(t)?t.default:t}var gr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:()=>w(xg),providedIn:"root"})}return t})(),xg=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ts=new _2("");var Is=new _2(""),Os=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new N2;transitionAbortWithErrorSubject=new N2;configLoader=w(Es);environmentInjector=w(k1);destroyRef=w(_4);urlSerializer=w(Rt);rootContexts=w(L3);location=w(Ye);inputBindingEnabled=w(At,{optional:!0})!==null;titleStrategy=w(ja);options=w(w3,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=w(gr);createViewTransition=w(Ts,{optional:!0});navigationErrorHandler=w(Is,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>s2(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=a=>this.events.next(new nr(a)),n=a=>this.events.next(new ar(a));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(U2($({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:n}))}setupNavigations(e){return this.transitions=new s1(null),this.transitions.pipe(c1(n=>n!==null),$2(n=>{let a=!1;return s2(n).pipe($2(i=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",S1.SupersededByNewNavigation),B1;this.currentTransition=n,this.currentNavigation={id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?U2($({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()};let o=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=i.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!o&&s!=="reload"){let l="";return this.events.next(new we(i.id,this.urlSerializer.serialize(i.rawUrl),l,Lt.IgnoredSameUrlNavigation)),i.resolve(!1),B1}if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return s2(i).pipe($2(l=>(this.events.next(new N4(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?B1:Promise.resolve(l))),bg(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Z2(l=>{n.targetSnapshot=l.targetSnapshot,n.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=U2($({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let u=new Ct(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(o&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:l,extractedUrl:u,source:h,restoredState:v,extras:y}=i,b=new N4(l,this.urlSerializer.serialize(u),h,v);this.events.next(b);let z=_s(this.rootComponentType).snapshot;return this.currentTransition=n=U2($({},i),{targetSnapshot:z,urlAfterRedirects:u,extras:U2($({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,s2(n)}else{let l="";return this.events.next(new we(i.id,this.urlSerializer.serialize(i.extractedUrl),l,Lt.IgnoredByUrlHandlingStrategy)),i.resolve(!1),B1}}),Z2(i=>{let o=new Q0(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(o)}),L2(i=>(this.currentTransition=n=U2($({},i),{guards:jh(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),n)),Zh(this.environmentInjector,i=>this.events.next(i)),Z2(i=>{if(n.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw dr(this.urlSerializer,i.guardsResult);let o=new er(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(o)}),c1(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",S1.GuardRejected),!1)),Ma(i=>{if(i.guards.canActivateChecks.length!==0)return s2(i).pipe(Z2(o=>{let s=new tr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),$2(o=>{let s=!1;return s2(o).pipe(zg(this.paramsInheritanceStrategy,this.environmentInjector),Z2({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(o,"",S1.NoDataFromResolver)}}))}),Z2(o=>{let s=new rr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}))}),Ma(i=>{let o=s=>{let l=[];if(s.routeConfig?.loadComponent&&!s.routeConfig._loadedComponent){let u=z3(s)??this.environmentInjector;l.push(this.configLoader.loadComponent(u,s.routeConfig).pipe(Z2(h=>{s.component=h}),L2(()=>{})))}for(let u of s.children)l.push(...o(u));return l};return ge(o(i.targetSnapshot.root)).pipe(jn(null),Fe(1))}),Ma(()=>this.afterPreactivation()),$2(()=>{let{currentSnapshot:i,targetSnapshot:o}=n,s=this.createViewTransition?.(this.environmentInjector,i.root,o.root);return s?j1(s).pipe(L2(()=>n)):s2(n)}),L2(i=>{let o=Ih(e.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=n=U2($({},i),{targetRouterState:o}),this.currentNavigation.targetRouterState=o,n}),Z2(()=>{this.events.next(new wt)}),Bh(this.rootContexts,e.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Fe(1),je(new Pe(i=>{let o=n.abortController.signal,s=()=>i.next();return o.addEventListener("abort",s),()=>o.removeEventListener("abort",s)}).pipe(c1(()=>!a&&!n.targetRouterState),Z2(()=>{this.cancelNavigationTransition(n,n.abortController.signal.reason+"",S1.Aborted)}))),Z2({next:i=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ce(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{a=!0}}),je(this.transitionAbortWithErrorSubject.pipe(Z2(i=>{throw i}))),t3(()=>{a||this.cancelNavigationTransition(n,"",S1.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation=null,this.currentTransition=null)}),ve(i=>{if(this.destroyed)return n.resolve(!1),B1;if(a=!0,Cs(i))this.events.next(new oe(n.id,this.urlSerializer.serialize(n.extractedUrl),i.message,i.cancellationCode)),Fh(i)?this.events.next(new y3(i.url,i.navigationBehaviorOptions)):n.resolve(!1);else{let o=new _3(n.id,this.urlSerializer.serialize(n.extractedUrl),i,n.targetSnapshot??void 0);try{let s=T1(this.environmentInjector,()=>this.navigationErrorHandler?.(o));if(s instanceof M3){let{message:l,cancellationCode:u}=dr(this.urlSerializer,s);this.events.next(new oe(n.id,this.urlSerializer.serialize(n.extractedUrl),l,u)),this.events.next(new y3(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(o),i}catch(s){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(s)}}return B1}))}))}cancelNavigationTransition(e,n,a){let i=new oe(e.id,this.urlSerializer.serialize(e.extractedUrl),n,a);this.events.next(i),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Dg(t){return t!==Mt}var Ps=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:()=>w(kg),providedIn:"root"})}return t})(),mr=class{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}},kg=(()=>{class t extends mr{static \u0275fac=(()=>{let e;return function(a){return(e||(e=h1(t)))(a||t)}})();static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fs=(()=>{class t{urlSerializer=w(Rt);options=w(w3,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=w(Ye);urlHandlingStrategy=w(gr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new se;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:a}){let i=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,o=a??i;return o instanceof se?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:a}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,a),this.routerState=e):this.rawUrlTree=a}routerState=_s(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:()=>w(Ng),providedIn:"root"})}return t})(),Ng=(()=>{class t extends Fs{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof N4?this.updateStateMemento():e instanceof we?this.commitTransition(n):e instanceof Ct?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof wt?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof oe&&e.code!==S1.SupersededByNewNavigation&&e.code!==S1.Redirect?this.restoreHistory(n):e instanceof _3?this.restoreHistory(n,!0):e instanceof ce&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:a}){let{replaceUrl:i,state:o}=n;if(this.location.isCurrentPathEqualTo(e)||i){let s=this.browserPageId,l=$($({},o),this.generateNgRouterState(a,s));this.location.replaceState(e,"",l)}else{let s=$($({},o),this.generateNgRouterState(a,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let a=this.browserPageId,i=this.currentPageId-a;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===e.finalUrl&&i===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(a){return(e||(e=h1(t)))(a||t)}})();static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ua(t,r){t.events.pipe(c1(e=>e instanceof ce||e instanceof oe||e instanceof _3||e instanceof we),L2(e=>e instanceof ce||e instanceof we?0:(e instanceof oe?e.code===S1.Redirect||e.code===S1.SupersededByNewNavigation:!1)?2:1),c1(e=>e!==2),Fe(1)).subscribe(()=>{r()})}var Eg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ot=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=w(Xn);stateManager=w(Fs);options=w(w3,{optional:!0})||{};pendingTasks=w(q6);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=w(Os);urlSerializer=w(Rt);location=w(Ye);urlHandlingStrategy=w(gr);injector=w(k1);_events=new N2;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=w(Ps);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=w(It,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!w(At,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new re;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let a=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(a!==null&&i!==null){if(this.stateManager.handleRouterEvent(n,i),n instanceof oe&&n.code!==S1.Redirect&&n.code!==S1.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof ce)this.navigated=!0;else if(n instanceof y3){let o=n.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(n.url,a.currentRawUrl),l=$({browserUrl:a.extras.browserUrl,info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:a.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Dg(a.source)},o);this.scheduleNavigation(s,Mt,null,l,{resolve:a.resolve,reject:a.reject,promise:a.promise})}}Eh(n)&&this._events.next(n)}catch(a){this.navigationTransitions.transitionAbortWithErrorSubject.next(a)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,a)=>{this.navigateToSyncWithBrowser(e,a,n)})}navigateToSyncWithBrowser(e,n,a){let i={replaceUrl:!0},o=a?.navigationId?a:null;if(a){let l=$({},a);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(i.state=l)}let s=this.parseUrl(e);this.scheduleNavigation(s,n,o,i).catch(l=>{this.disposed||this.injector.get(r3)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Ba),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:a,queryParams:i,fragment:o,queryParamsHandling:s,preserveFragment:l}=n,u=l?this.currentUrlTree.fragment:o,h=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":h=$($({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}h!==null&&(h=this.removeEmptyProps(h));let v;try{let y=a?a.snapshot:this.routerState.snapshot.root;v=ms(y)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),v=this.currentUrlTree.root}return hs(v,e,h,u??null)}navigateByUrl(e,n={skipLocationChange:!1}){let a=Ze(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(i,Mt,null,n)}navigate(e,n={skipLocationChange:!1}){return Ag(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let a;if(n===!0?a=$({},Eg):n===!1?a=$({},Rg):a=n,Ze(e))return Xo(this.currentUrlTree,e,a);let i=this.parseUrl(e);return Xo(this.currentUrlTree,i,a)}removeEmptyProps(e){return Object.entries(e).reduce((n,[a,i])=>(i!=null&&(n[a]=i),n),{})}scheduleNavigation(e,n,a,i,o){if(this.disposed)return Promise.resolve(!1);let s,l,u;o?(s=o.resolve,l=o.reject,u=o.promise):u=new Promise((v,y)=>{s=v,l=y});let h=this.pendingTasks.add();return Ua(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:i,resolve:s,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(v=>Promise.reject(v))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ag(t){for(let r=0;r<t.length;r++)if(t[r]==null)throw new S2(4008,!1)}var Bs=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=H1(null);get href(){return ze(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new N2;applicationErrorHandler=w(r3);options=w(w3,{optional:!0});constructor(e,n,a,i,o,s){this.router=e,this.route=n,this.tabIndexAttribute=a,this.renderer=i,this.el=o,this.locationStrategy=s,this.reactiveHref.set(w(new mo("href"),{optional:!0}));let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,n=a=>a==="merge"||a==="preserve";e||=n(this.queryParamsHandling),e||=!this.queryParamsHandling&&!n(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(a=>{a instanceof ce&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ze(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,a,i,o){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||n||a||i||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,l)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,n){let a=this.renderer,i=this.el.nativeElement;n!==null?a.setAttribute(i,e,n):a.removeAttribute(i,e)}get urlTree(){return this.routerLinkInput===null?null:Ze(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||t)(Me(Ot),Me(Se),Wn("tabindex"),Me(Ue),Me(g1),Me(c3))};static \u0275dir=_1({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(n,a){n&1&&uo("click",function(o){return a.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),n&2&&L4("href",a.reactiveHref(),ao)("target",a.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",I1],skipLocationChange:[2,"skipLocationChange","skipLocationChange",I1],replaceUrl:[2,"replaceUrl","replaceUrl",I1],routerLink:"routerLink"},features:[_e]})}return t})();var Ig=new _2("");function Og(t,...r){return it([{provide:It,multi:!0,useValue:t},[],{provide:Se,useFactory:Pg,deps:[Ot]},{provide:lo,multi:!0,useFactory:Bg},r.map(e=>e.\u0275providers)])}function Pg(t){return t.routerState.root}function Fg(t,r){return{\u0275kind:t,\u0275providers:r}}function Bg(){let t=w(F2);return r=>{let e=t.get(Ve);if(r!==e.components[0])return;let n=t.get(Ot),a=t.get(jg);t.get(Ug)===1&&n.initialNavigation(),t.get(Hg,null,{optional:!0})?.setUpPreloading(),t.get(Ig,null,{optional:!0})?.init(),n.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}var jg=new _2("",{factory:()=>new N2}),Ug=new _2("",{providedIn:"root",factory:()=>1});var Hg=new _2("");function Vg(){return Fg(8,[Pa,{provide:At,useExisting:Pa}])}var Wx={prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M64 160c0-53 43-96 96-96s96 43 96 96c0 42.7-27.9 78.9-66.5 91.4-28.4 9.2-61.5 35.3-61.5 76.6l0 24c0 17.7 14.3 32 32 32s32-14.3 32-32l0-24c0-1.7 .6-4.1 3.5-7.3 3-3.3 7.9-6.5 13.7-8.4 64.3-20.7 110.8-81 110.8-152.3 0-88.4-71.6-160-160-160S0 71.6 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32zm96 352c22.1 0 40-17.9 40-40s-17.9-40-40-40-40 17.9-40 40 17.9 40 40 40z"]};var qx={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376C296.3 401.1 253.9 416 208 416 93.1 416 0 322.9 0 208S93.1 0 208 0 416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]};var Gx={prefix:"fas",iconName:"arrow-right-long",icon:[576,512,["long-arrow-right"],"f178","M566.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L466.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l434.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"]};var Yx={prefix:"fas",iconName:"angle-left",icon:[256,512,[8249],"f104","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]};var Xx={prefix:"fas",iconName:"forward",icon:[576,512,[9193],"f04e","M371.7 43.1C360.1 32 343 28.9 328.3 35.2S304 56 304 72l0 136.3-172.3-165.1C120.1 32 103 28.9 88.3 35.2S64 56 64 72l0 368c0 16 9.6 30.5 24.3 36.8s31.8 3.2 43.4-7.9L304 303.7 304 440c0 16 9.6 30.5 24.3 36.8s31.8 3.2 43.4-7.9l192-184c7.9-7.5 12.3-18 12.3-28.9s-4.5-21.3-12.3-28.9l-192-184z"]};var Kx={prefix:"fas",iconName:"file-import",icon:[384,512,["arrow-right-to-file"],"f56f","M64 0C28.7 0 0 28.7 0 64l0 240 182.1 0-31-31c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l72 72c9.4 9.4 9.4 24.6 0 33.9l-72 72c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l31-31-182.1 0 0 96c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-277.5c0-17-6.7-33.3-18.7-45.3L258.7 18.7C246.7 6.7 230.5 0 213.5 0L64 0zM325.5 176L232 176c-13.3 0-24-10.7-24-24L208 58.5 325.5 176z"]};var Zx={prefix:"fas",iconName:"box-open",icon:[640,512,[],"f49e","M560.3 237.2c10.4 11.8 28.3 14.4 41.8 5.5 14.7-9.8 18.7-29.7 8.9-44.4l-48-72c-2.8-4.2-6.6-7.7-11.1-10.2L351.4 4.7c-19.3-10.7-42.8-10.7-62.2 0L88.8 116c-5.4 3-9.7 7.4-12.6 12.8L27.7 218.7c-12.6 23.4-3.8 52.5 19.6 65.1l33 17.7 0 53.3c0 23 12.4 44.3 32.4 55.7l176 99.7c19.6 11.1 43.5 11.1 63.1 0l176-99.7c20.1-11.4 32.4-32.6 32.4-55.7l0-117.5zm-240-9.8L170.2 144 320.3 60.6 470.4 144 320.3 227.4zm-41.5 50.2l-21.3 46.2-165.8-88.8 25.4-47.2 161.7 89.8z"]};var Jx={prefix:"fas",iconName:"angle-right",icon:[256,512,[8250],"f105","M247.1 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L179.2 256 41.9 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]};var Qx={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M55.1 73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L147.2 256 9.9 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192.5 301.3 329.9 438.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.8 256 375.1 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192.5 210.7 55.1 73.4z"]};var eD={prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M201.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 338.7 54.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]};var tD={prefix:"fas",iconName:"clock-rotate-left",icon:[576,512,["history"],"f1da","M288 64c106 0 192 86 192 192S394 448 288 448c-65.2 0-122.9-32.5-157.6-82.3-10.1-14.5-30.1-18-44.6-7.9s-18 30.1-7.9 44.6C124.1 468.6 201 512 288 512 429.4 512 544 397.4 544 256S429.4 0 288 0C202.3 0 126.5 42.1 80 106.7L80 80c0-17.7-14.3-32-32-32S16 62.3 16 80l0 112c0 17.7 14.3 32 32 32l24.6 0c.5 0 1 0 1.5 0l86 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-38.3 0C154.9 102.6 217 64 288 64zm24 88c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 104c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65 0-94.1z"]};var rD={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 160-160 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l160 0 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160 160 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-160 0 0-160z"]};var nD={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]};var aD={prefix:"fas",iconName:"book-open",icon:[512,512,[128214,128366],"f518","M256 141.3l0 309.3 .5-.2C311.1 427.7 369.7 416 428.8 416l19.2 0 0-320-19.2 0c-42.2 0-84.1 8.4-123.1 24.6-16.8 7-33.4 13.9-49.7 20.7zM230.9 61.5L256 72 281.1 61.5C327.9 42 378.1 32 428.8 32L464 32c26.5 0 48 21.5 48 48l0 352c0 26.5-21.5 48-48 48l-35.2 0c-50.7 0-100.9 10-147.7 29.5l-12.8 5.3c-7.9 3.3-16.7 3.3-24.6 0l-12.8-5.3C184.1 490 133.9 480 83.2 480L48 480c-26.5 0-48-21.5-48-48L0 80C0 53.5 21.5 32 48 32l35.2 0c50.7 0 100.9 10 147.7 29.5z"]};var iD={prefix:"fas",iconName:"grip",icon:[512,512,[58119,"grid-horizontal","grip-horizontal"],"f58d","M88 96c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40l48 0zM280 224l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40zm192 0l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40zm0 192l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40zM280 288c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40l48 0zM88 416l-48 0c-22.1 0-40-17.9-40-40l0-48c0-22.1 17.9-40 40-40l48 0c22.1 0 40 17.9 40 40l0 48c0 22.1-17.9 40-40 40z"]};var oD={prefix:"fas",iconName:"hand-holding-dollar",icon:[576,512,["hand-holding-usd"],"f4c0","M288-16c-13.3 0-24 10.7-24 24l0 12-1.8 0c-36.6 0-66.2 29.7-66.2 66.2 0 33.4 24.9 61.6 58 65.7l61 7.6c5.1 .6 9 5 9 10.2 0 5.7-4.6 10.2-10.2 10.2L240 180c-15.5 0-28 12.5-28 28s12.5 28 28 28l24 0 0 12c0 13.3 10.7 24 24 24s24-10.7 24-24l0-12 1.8 0c36.6 0 66.2-29.7 66.2-66.2 0-33.4-24.9-61.6-58-65.7l-61-7.6c-5.1-.6-9-5-9-10.2 0-5.7 4.6-10.2 10.2-10.2L328 76c15.5 0 28-12.5 28-28s-12.5-28-28-28l-16 0 0-12c0-13.3-10.7-24-24-24zM109.3 341.5L66.7 384 32 384c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l320.5 0c29 0 57.3-9.3 80.7-26.5l126.6-93.3c17.8-13.1 21.6-38.1 8.5-55.9s-38.1-21.6-55.9-8.5L392.6 416 280 416c-13.3 0-24-10.7-24-24s10.7-24 24-24l72 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-152.2 0c-33.9 0-66.5 13.5-90.5 37.5z"]};var $s=I6(js(),1),Us=1e7,$g="Cannot divide by zero",Wg=1e-10,qg=new RegExp(/\d+(\.(\d+))?(e-(\d+))?/);function Gg(t,r){if(t=S3(t),r=S3(r),r>t){let n=r;r=t,t=n}let e;for(;r;)e=r,r=t%r,t=e;return t}function S3(t){return t<0n?t*-1n:t}var N1=class t{isZero(){return this.p===0n}isOne(){return this.p===1n&&this.q===1n}nonzero(){return this.p!==0n}isInteger(){return this.q===1n}inverse(){return new t(this.p*-1n,this.q)}reciprocal(){return new t(this.q,this.p)}lt(r){return this.q===r.q?this.p<r.p:this.p*r.q<r.p*this.q}lte(r){return this.eq(r)||this.lt(r)}gt(r){return r.lt(this)}gte(r){return this.eq(r)||this.gt(r)}eq(r){return this.p===r.p&&this.q===r.q}add(r){return r.isZero()?this:new t(this.p*r.q+this.q*r.p,this.q*r.q)}sub(r){return r.isZero()?this:new t(this.p*r.q-this.q*r.p,this.q*r.q)}mul(r){return this.isOne()?r:r.isOne()?this:this.isZero()||r.isZero()?Va:new t(this.p*r.p,this.q*r.q)}div(r){return r.isOne()||this.isZero()?this:this.eq(r)?Ws:new t(this.p*r.q,this.q*r.p)}ceil(){if(this.isInteger())return this;let r=new t(S3(this.p)/this.q+1n);return this.p<0n?r.inverse():r}floor(){return this.isInteger()?this:new t(this.p/this.q)}trunc(r){typeof r=="number"&&(r=BigInt(r));let e=10n**r,n=this.p*e/this.q;return new t(n,e)}round(r=0){if(r){typeof r=="number"&&(r=BigInt(r));let a=C(10n**r);return this.mul(a).round().div(a)}if(this.isInteger())return this;let e=this.p%this.q,n=Number(e)/Number(this.q);return Math.abs(n)>=.5?this.ceil():this.floor()}abs(){return new t(S3(this.p),this.q)}pow(r){let e=this.toNumber(),n=Math.pow(e,r);return C(n)}simplify(){return C(this.toNumber())}decimals(){let r=this.toNumber();if(r%1!==0){let e=qg.exec(r.toString()),n=0;return e?(e[2]&&(n+=e[2].length),e[4]&&(n+=Number(e[4]))):console.warn("Number did not match expected pattern",r),n}return 0}toNumber(){return Number(this.p)/Number(this.q)}toFixed(r){return Number(this.toNumber().toFixed(r))}toFixedString(r=2){return this.toNumber().toLocaleString(void 0,{maximumFractionDigits:r})}toFraction(r=!0){if(this.isInteger())return this.p.toString();if(r&&S3(this.p)>S3(this.q)){let e=this.p/this.q,n=this.p%this.q;return`${e.toString()} + ${n.toString()}/${this.q.toString()}`}return`${this.p.toString()}/${this.q.toString()}`}toString(r){return r?this.toFixedString(r):r===null||this.decimals()>2?this.toFraction(r!==void 0):this.toNumber().toString()}toJSON(){return this.toString()}constructor(r,e=1n){if(e===1n){this.p=r,this.q=e;return}if(e===0n)throw new Error($g);e<0n&&(r=-r,e=-e);let n=Gg(r,e);n>1n&&(r=r/n,e=e/n),this.p=r,this.q=e}},Va=new N1(0n),Ws=new N1(1n);function Ha(t){return Number.isInteger(t)?new N1(BigInt(t)):Math.abs(t)<Wg?Va:Yg(t)}var Hs=new Map;function Yg(t){let r=Hs.get(t);if(r!=null)return r;let e=t,n=t,a=[[1,0],[0,1]];for(;a[1][0]*(e=Math.floor(n))+a[1][1]<=Us;){let h=a[0][0]*e+a[0][1];if(a[0][1]=a[0][0],a[0][0]=h,h=a[1][0]*e+a[1][1],a[1][1]=a[1][0],a[1][0]=h,n===e)break;n=1/(n-e)}let i=C(a[0][0],a[1][0]),o=Math.abs(t-i.toNumber());e=Math.floor((Us-a[1][1])/a[1][0]),a[0][0]=a[0][0]*e+a[0][1],a[1][0]=a[1][0]*e+a[1][1];let s=C(a[0][0],a[1][0]),l=Math.abs(t-s.toNumber()),u=o<l?i:s;return Hs.set(t,u),u}var Vs=new Map;function Xg(t){let r=Vs.get(t);if(r)return r;if(t.length===0)throw new Error("Empty string");let e;if(t.startsWith("=")){let n=new $s.Parser(t.substring(1)).evaluate();e=C(n)}else if(!t.includes("/"))e=Ha(Number(t));else{let n=t.split("/");if(n.length>2)throw new Error("Too many /");if(n[0].includes(" ")){let a=n[0].split(" ");if(a.length>2)throw new Error("Too many spaces");let i=Number(a[0]),o=Number(a[1]),s=Number(n[1]);e=Ha(i).add(C(o,s))}else{let a=Number(n[0]),i=Number(n[1]);e=C(a,i)}}return Vs.set(t,e),e}function Kg(t,r){if(t!=null){if(r!=null)return t=BigInt(t),r=BigInt(r),new N1(t,r);switch(typeof t){case"bigint":return new N1(t);case"number":return Ha(t);case"string":return Xg(t)}}}var C=Object.assign(Kg,{zero:Va,one:Ws});function J(t,...r){if(r.length===0)return $({},t);for(let e of r)t=$($({},t),e);return t}function qs(t){let r=t;Object.keys(r).filter(n=>r[n]===void 0).forEach(n=>delete r[n])}function Zg(t,r){if(!(t.length===r.length&&t.every((e,n)=>e===r[n])))return t}function Jg(t,r){return t.size!==r.size?t:Array.from(t).every(e=>r.has(e))?void 0:t}var E4=class{constructor(r,e=[]){this.initial=r;this.nestedKeys=e;this._state=H1(this.initial);this.load$=new N2;this.state=this._state.asReadonly()}load(r){if(this.load$.next(),r==null){this.set(this.initial);return}let e=J(this.initial,r);for(let n of this.nestedKeys){let a=r[n];if(typeof a!="object")continue;let i=this.initial[n],o={};o[n]=J(i,a),e=J(e,o)}this.set(e)}apply(r){this.set(J(this.state(),r))}updateField(r,e,n){let a=this._resetValue(e,n),i={};i[r]=a,this.apply(i)}set(r){this._state.set(r)}reduce(r){let e=this._state(),n=r(e);this.set(n)}update(r){let e=this._state(),n=r(e),a=J(e,n);this.set(a)}select(r){return n2(()=>this.state()[r])}_removeEntry(r,e){return r=J(r),delete r[e],r}_resetValue(r,e){return e==null?r:Array.isArray(r)&&Array.isArray(e)?Zg(r,e):r instanceof Set&&e instanceof Set?Jg(r,e):r instanceof N1&&e instanceof N1?r.eq(e)?void 0:r:r===e?void 0:r}},V1=class extends E4{constructor(){super({},[])}updateRecord(r,e){this.reduce(n=>this._updateRecord(n,r,e))}updateRecordField(r,e,n,a){this.reduce(i=>this._updateField(i,r,e,n,a))}resetFields(...r){this.reduce(e=>this._resetFields(e,r))}resetId(r){this.reduce(e=>this._removeEntry(e,r))}_updateRecord(r,e,n){let a=J(r[e],n);if(qs(a),Object.keys(a).length)return J(r,{[e]:a});{let i=J(r);return delete i[e],i}}_resetField(r,e){let n=J(r);for(let a of Object.keys(n))n[a][e]!==void 0&&(Object.keys(n[a]).length===1?delete n[a]:(n[a]=J(n[a]),delete n[a][e]));return n}_resetFields(r,e){let n=J(r);for(let a of e)n=this._resetField(n,a);return n}_updateField(r,e,n,a,i){let o=this._resetValue(a,i),s={};return s[n]=o,this._updateRecord(r,e,s)}};var Qg=[50,100,200,300,400,500,600,700,800,900,950],x3=[{name:"rose",hue:16.439,variants:[[.969,.015,12.422],[.941,.03,12.58],[.892,.058,10.001],[.81,.117,11.638],[.712,.194,13.428],[.645,.246,16.439],[.586,.253,17.585],[.514,.222,16.935],[.455,.188,13.697],[.41,.159,10.272],[.271,.105,12.094]]},{name:"red",hue:25.331,variants:[[.971,.013,17.38],[.936,.032,17.717],[.885,.062,18.334],[.808,.114,19.571],[.704,.191,22.216],[.637,.237,25.331],[.577,.245,27.325],[.505,.213,27.518],[.444,.177,26.899],[.396,.141,25.723],[.258,.092,26.042]]},{name:"orange",hue:47.604,variants:[[.98,.016,73.684],[.954,.038,75.164],[.901,.076,70.697],[.837,.128,66.29],[.75,.183,55.934],[.705,.213,47.604],[.646,.222,41.116],[.553,.195,38.402],[.47,.157,37.304],[.408,.123,38.172],[.266,.079,36.259]]},{name:"amber",hue:70.08,variants:[[.987,.022,95.277],[.962,.059,95.617],[.924,.12,95.746],[.879,.169,91.605],[.828,.189,84.429],[.769,.188,70.08],[.666,.179,58.318],[.555,.163,48.998],[.473,.137,46.201],[.414,.112,45.904],[.279,.077,45.635]]},{name:"yellow",hue:86.047,variants:[[.987,.026,102.212],[.973,.071,103.193],[.945,.129,101.54],[.905,.182,98.111],[.852,.199,91.936],[.795,.184,86.047],[.681,.162,75.834],[.554,.135,66.442],[.476,.114,61.907],[.421,.095,57.708],[.286,.066,53.813]]},{name:"lime",hue:130.85,variants:[[.986,.031,120.757],[.967,.067,122.328],[.938,.127,124.321],[.897,.196,126.665],[.841,.238,128.85],[.768,.233,130.85],[.648,.2,131.684],[.532,.157,131.589],[.453,.124,130.933],[.405,.101,131.063],[.274,.072,132.109]]},{name:"green",hue:149.579,variants:[[.982,.018,155.826],[.962,.044,156.743],[.925,.084,155.995],[.871,.15,154.449],[.792,.209,151.711],[.723,.219,149.579],[.627,.194,149.214],[.527,.154,150.069],[.448,.119,151.328],[.393,.095,152.535],[.266,.065,152.934]]},{name:"emerald",hue:162.48,variants:[[.979,.021,166.113],[.95,.052,163.051],[.905,.093,164.15],[.845,.143,164.978],[.765,.177,163.223],[.696,.17,162.48],[.596,.145,163.225],[.508,.118,165.612],[.432,.095,166.913],[.378,.077,168.94],[.262,.051,172.552]]},{name:"teal",hue:182.503,variants:[[.984,.014,180.72],[.953,.051,180.801],[.91,.096,180.426],[.855,.138,181.071],[.777,.152,181.912],[.704,.14,182.503],[.6,.118,184.704],[.511,.096,186.391],[.437,.078,188.216],[.386,.063,188.416],[.277,.046,192.524]]},{name:"cyan",hue:215.221,variants:[[.984,.019,200.873],[.956,.045,203.388],[.917,.08,205.041],[.865,.127,207.078],[.789,.154,211.53],[.715,.143,215.221],[.609,.126,221.723],[.52,.105,223.128],[.45,.085,224.283],[.398,.07,227.392],[.302,.056,229.695]]},{name:"sky",hue:237.323,variants:[[.977,.013,236.62],[.951,.026,236.824],[.901,.058,230.902],[.828,.111,230.318],[.746,.16,232.661],[.685,.169,237.323],[.588,.158,241.966],[.5,.134,242.749],[.443,.11,240.79],[.391,.09,240.876],[.293,.066,243.157]]},{name:"blue",hue:259.815,variants:[[.97,.014,254.604],[.932,.032,255.585],[.882,.059,254.128],[.809,.105,251.813],[.707,.165,254.624],[.623,.214,259.815],[.546,.245,262.881],[.488,.243,264.376],[.424,.199,265.638],[.379,.146,265.522],[.282,.091,267.935]]},{name:"indigo",hue:277.117,variants:[[.962,.018,272.314],[.93,.034,272.788],[.87,.065,274.039],[.785,.115,274.713],[.673,.182,276.935],[.585,.233,277.117],[.511,.262,276.966],[.457,.24,277.023],[.398,.195,277.366],[.359,.144,278.697],[.257,.09,281.288]]},{name:"violet",hue:292.717,variants:[[.969,.016,293.756],[.943,.029,294.588],[.894,.057,293.283],[.811,.111,293.571],[.702,.183,293.541],[.606,.25,292.717],[.541,.281,293.009],[.491,.27,292.581],[.432,.232,292.759],[.38,.189,293.745],[.283,.141,291.089]]},{name:"purple",hue:303.9,variants:[[.977,.014,308.299],[.946,.033,307.174],[.902,.063,306.703],[.827,.119,306.383],[.714,.203,305.504],[.627,.265,303.9],[.558,.288,302.321],[.496,.265,301.924],[.438,.218,303.724],[.381,.176,304.987],[.291,.149,302.717]]},{name:"fuchsia",hue:322.15,variants:[[.977,.017,320.058],[.952,.037,318.852],[.903,.076,319.62],[.833,.145,321.434],[.74,.238,322.16],[.667,.295,322.15],[.591,.293,322.896],[.518,.253,323.949],[.452,.211,324.591],[.401,.17,325.612],[.293,.136,325.661]]},{name:"pink",hue:354.308,variants:[[.971,.014,343.198],[.948,.028,342.258],[.899,.061,343.231],[.823,.12,346.018],[.718,.202,349.761],[.656,.241,354.308],[.592,.249,.584],[.525,.223,3.958],[.459,.187,3.815],[.408,.153,2.432],[.284,.109,3.907]]}];function Gs(t,r){let e=x3.findIndex(s=>s.hue>=t);e===-1&&(e=0);let n=e===0?x3.length-1:e-1,a=x3[e].hue;a<t&&(a+=360);let i=x3[n].hue;i>t&&(i-=360);let o=(t-a)/(a-i);x3[e].variants.forEach((s,l)=>{let[u,h,v]=s.map((y,b)=>{let z=x3[n].variants[l][b];return b===2&&z>y&&(z-=360),Number((y+o*(y-z)).toPrecision(b===2?6:3))});r.style.setProperty(`--brand-${Qg[l]}`,`oklch(${u} ${h} ${v})`)})}function ev(t){return localStorage.getItem(t)??void 0}function $a(t,r){r?localStorage.setItem(t,r):localStorage.removeItem(t)}function Ys(t){let r=H1(ev(t));return G2(()=>{$a(t,r())}),r}var vr={checkbox:{hideDefault:!0},tree:{},items:{hasPrecision:!0},belts:{hasPrecision:!0},wagons:{hasPrecision:!0,flag:!0},machines:{hasPrecision:!0},beacons:{flag:!0},power:{hasPrecision:!0,flag:!0},pollution:{hasPrecision:!0,flag:!0},link:{}},Wa=Object.keys(vr),tv=1,_r=Wa.reduce((t,r)=>{let e=vr[r];return t[r]={show:!e.hideDefault,precision:e.hasPrecision?tv:null},t},{});function Xs(t){return Wa.filter(r=>!vr[r].flag||t.has(r)).map(r=>({label:`options.column.${r}`,value:r,disabled:r==="items"||r==="machines"}))}function Ks(t,r){return Wa.filter(e=>vr[e].flag&&!r.has(e)).forEach(e=>{t=J(t,{[e]:J(t[e],{show:!1})})}),t}function Zs(t){let r=[{label:"options.linkValue.none",value:0},{label:"options.linkValue.percent",value:1},{label:"options.linkValue.items",value:2},{label:"options.linkValue.belts",value:3},{label:"options.linkValue.wagons",value:4},{label:"options.linkValue.machines",value:5}];return t.has("wagons")?r:r.filter(e=>e.value!==4)}var Js={states:{},columns:_r,language:"en",powerUnit:0,hue:256,theme:"system",bypassLanding:!1,showTechLabels:!1,rows:50,disablePaginator:!1,paused:!1,convertObjectiveValues:!1,flowSettings:{diagram:0,linkSize:2,linkText:2,sankeyAlign:0,hideExcluded:!1}};var R4=class R4 extends E4{constructor(){super(Js,["states","flowSettings"]);this.document=w(g2);this.stored=Ys("preferences");this.bypassLanding=this.select("bypassLanding");this.columns=this.select("columns");this.convertObjectiveValues=this.select("convertObjectiveValues");this.flowSettings=this.select("flowSettings");this.language=this.select("language");this.paused=this.select("paused");this.powerUnit=this.select("powerUnit");this.showTechLabels=this.select("showTechLabels");this.states=this.select("states");this.theme=this.select("theme");this.hue=this.select("hue");let e=this.stored();if(e)try{let n=JSON.parse(e);this.load(n)}catch(n){console.warn("Failed to parse stored preferences",n)}G2(()=>{$a("preferences",JSON.stringify(this.state()))}),G2(()=>{let n=this.theme();n==="light"||n==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches?this.document.documentElement.setAttribute("data-theme","light"):this.document.documentElement.removeAttribute("data-theme")}),G2(()=>{Gs(this.hue(),this.document.documentElement)})}saveState(e,n,a){this.update(i=>{let o=J(i.states[e],{[n]:a});return{states:J(i.states,{[e]:o})}})}removeState(e,n){this.update(a=>{let i=this._removeEntry(a.states[e],n);return{states:J(a.states,{[e]:i})}})}};R4.\u0275fac=function(n){return new(n||R4)},R4.\u0275prov=P({token:R4,factory:R4.\u0275fac,providedIn:"root"});var le=R4;function yr(t){t||(t=w(_4));let r=new Pe(e=>{if(t.destroyed){e.next();return}return t.onDestroy(e.next.bind(e))});return e=>e.pipe(je(r))}function Qs(t,r){let e=r?.injector??w(F2),n=new P6(1),a=G2(()=>{let i;try{i=t()}catch(o){ze(()=>n.error(o));return}ze(()=>n.next(i))},{injector:e,manualCleanup:!0});return e.get(_4).onDestroy(()=>{a.destroy(),n.complete()}),n.asObservable()}function Ft(t,r){s3()||gtag("event",t,{event_category:r})}function j(t,r){return t??r}function lk(){return c1(qa)}function u1(...t){return r=>t.every(e=>r[e]!=null)}function qa(t){return t!=null}var A4=class A4{constructor(){this.http=w(p3);this.preferences=w(le);this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;this.langDataCache={};this.defaultLang$=new s1("en");this.currentLang$=new s1(this.preferences.language());this.defaultLangData$=this.defaultLang$.pipe(Be(),$2(r=>this.getLangData(r)));this.currentLangData$=this.currentLang$.pipe(Be(),$2(r=>this.getLangData(r)));this.lang$=this.currentLang$.asObservable();G2(()=>{let r=this.preferences.language();this.currentLang$.value!==r&&(this.currentLang$.next(r),Ft("set_lang",r))})}getLangData(r){return this.langDataCache[r]??=this.http.get(`i18n/${r}.json`).pipe(v4(1)),this.langDataCache[r]}get currentLang(){return this.currentLang$.value}load(){ge([this.defaultLangData$,this.currentLangData$]).pipe(ne()).subscribe()}getValue(r,e){let n=r,a=e.split(".");e="";do e+=j(a.shift(),""),typeof n=="object"&&n[e]!=null&&(typeof n[e]=="object"||!a.length)?(n=n[e],e=""):a.length?e+=".":n=void 0;while(a.length);return n}interpolate(r,e){return e==null?r:r.replace(this.templateMatcher,(n,a)=>e[a]?.toString()??n)}get(r,e){return this.currentLangData$.pipe($2(n=>{let a=this.getValue(n,r);return typeof a=="string"?s2(a):this.defaultLangData$.pipe(L2(i=>{let o=this.getValue(i,r);return typeof o=="string"?o:r}))}),L2(n=>this.interpolate(n,e)))}multi(r){return ge([...r].map(e=>this.get(e)))}};A4.\u0275fac=function(e){return new(e||A4)},A4.\u0275prov=P({token:A4,factory:A4.\u0275fac,providedIn:"root"});var Mr=A4;function nv(t,r,e=(n,a)=>n===a){if(t==null)return r==null||!Object.keys(r).length;if(r==null)return!Object.keys(t).length;let n=Object.keys(t),a=Object.keys(r);return n.length===a.length&&n.every(i=>e(t[i],r[i]))}var D3=class D3{constructor(){this.ref=w(ae);this.translate=w(Mr);this.params$=new N2;this.value="";this.params$.pipe(Be(([r,e],[n,a])=>r===n&&nv(e,a)),$2(r=>this.translate.get(...r)),yr()).subscribe(r=>{this.value=r,this.ref.markForCheck()})}transform(r,e){return r==null?"":(this.params$.next([r,e]),this.value)}};D3.\u0275fac=function(e){return new(e||D3)},D3.\u0275pipe=z4({name:"translate",type:D3,pure:!1});var br=D3;function ei(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=Array(r);e<r;e++)n[e]=t[e];return n}function av(t){if(Array.isArray(t))return t}function iv(t){if(Array.isArray(t))return ei(t)}function ov(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ec(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rc(n.key),n)}}function sv(t,r,e){return r&&ec(t.prototype,r),e&&ec(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cr(t,r){var e=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=mi(t))||r&&t&&typeof t.length=="number"){e&&(t=e);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var l=e.next();return o=l.done,l},e:function(l){s=!0,i=l},f:function(){try{o||e.return==null||e.return()}finally{if(s)throw i}}}}function x2(t,r,e){return(r=Rc(r))in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function cv(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lv(t,r){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var n,a,i,o,s=[],l=!0,u=!1;try{if(i=(e=e.call(t)).next,r===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(n=i.call(e)).done)&&(s.push(n.value),s.length!==r);l=!0);}catch(h){u=!0,a=h}finally{try{if(!l&&e.return!=null&&(o=e.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}function fv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tc(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,n)}return e}function V(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?tc(Object(e),!0).forEach(function(n){x2(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):tc(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}function Nr(t,r){return av(t)||lv(t,r)||mi(t,r)||fv()}function J1(t){return iv(t)||cv(t)||mi(t)||uv()}function dv(t,r){if(typeof t!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var n=e.call(t,r||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Rc(t){var r=dv(t,"string");return typeof r=="symbol"?r:r+""}function xr(t){"@babel/helpers - typeof";return xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xr(t)}function mi(t,r){if(t){if(typeof t=="string")return ei(t,r);var e={}.toString.call(t).slice(8,-1);return e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set"?Array.from(t):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?ei(t,r):void 0}}var rc=function(){},hi={},Ac={},Tc=null,Ic={mark:rc,measure:rc};try{typeof window<"u"&&(hi=window),typeof document<"u"&&(Ac=document),typeof MutationObserver<"u"&&(Tc=MutationObserver),typeof performance<"u"&&(Ic=performance)}catch{}var pv=hi.navigator||{},nc=pv.userAgent,ac=nc===void 0?"":nc,Qe=hi,H2=Ac,ic=Tc,zr=Ic,Dk=!!Qe.document,Ne=!!H2.documentElement&&!!H2.head&&typeof H2.addEventListener=="function"&&typeof H2.createElement=="function",Oc=~ac.indexOf("MSIE")||~ac.indexOf("Trident/"),Ga,mv=/fa(k|kd|s|r|l|t|d|dr|dl|dt|b|slr|slpr|wsb|tl|ns|nds|es|jr|jfr|jdr|cr|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,hv=/Font ?Awesome ?([567 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit|Notdog Duo|Notdog|Chisel|Etch|Thumbprint|Jelly Fill|Jelly Duo|Jelly|Slab Press|Slab|Whiteboard)?.*/i,Pc={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"},slab:{"fa-regular":"regular",faslr:"regular"},"slab-press":{"fa-regular":"regular",faslpr:"regular"},thumbprint:{"fa-light":"light",fatl:"light"},whiteboard:{"fa-semibold":"semibold",fawsb:"semibold"},notdog:{"fa-solid":"solid",fans:"solid"},"notdog-duo":{"fa-solid":"solid",fands:"solid"},etch:{"fa-solid":"solid",faes:"solid"},jelly:{"fa-regular":"regular",fajr:"regular"},"jelly-fill":{"fa-regular":"regular",fajfr:"regular"},"jelly-duo":{"fa-regular":"regular",fajdr:"regular"},chisel:{"fa-regular":"regular",facr:"regular"}},gv={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Fc=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],y1="classic",Vt="duotone",Bc="sharp",jc="sharp-duotone",Uc="chisel",Hc="etch",Vc="jelly",$c="jelly-duo",Wc="jelly-fill",qc="notdog",Gc="notdog-duo",Yc="slab",Xc="slab-press",Kc="thumbprint",Zc="whiteboard",vv="Classic",_v="Duotone",yv="Sharp",Mv="Sharp Duotone",bv="Chisel",zv="Etch",Lv="Jelly",Cv="Jelly Duo",wv="Jelly Fill",Sv="Notdog",xv="Notdog Duo",Dv="Slab",kv="Slab Press",Nv="Thumbprint",Ev="Whiteboard",Jc=[y1,Vt,Bc,jc,Uc,Hc,Vc,$c,Wc,qc,Gc,Yc,Xc,Kc,Zc],kk=(Ga={},x2(x2(x2(x2(x2(x2(x2(x2(x2(x2(Ga,y1,vv),Vt,_v),Bc,yv),jc,Mv),Uc,bv),Hc,zv),Vc,Lv),$c,Cv),Wc,wv),qc,Sv),x2(x2(x2(x2(x2(Ga,Gc,xv),Yc,Dv),Xc,kv),Kc,Nv),Zc,Ev)),Rv={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"},slab:{400:"faslr"},"slab-press":{400:"faslpr"},whiteboard:{600:"fawsb"},thumbprint:{300:"fatl"},notdog:{900:"fans"},"notdog-duo":{900:"fands"},etch:{900:"faes"},chisel:{400:"facr"},jelly:{400:"fajr"},"jelly-fill":{400:"fajfr"},"jelly-duo":{400:"fajdr"}},Av={"Font Awesome 7 Free":{900:"fas",400:"far"},"Font Awesome 7 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 7 Brands":{400:"fab",normal:"fab"},"Font Awesome 7 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 7 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 7 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"},"Font Awesome 7 Jelly":{400:"fajr",normal:"fajr"},"Font Awesome 7 Jelly Fill":{400:"fajfr",normal:"fajfr"},"Font Awesome 7 Jelly Duo":{400:"fajdr",normal:"fajdr"},"Font Awesome 7 Slab":{400:"faslr",normal:"faslr"},"Font Awesome 7 Slab Press":{400:"faslpr",normal:"faslpr"},"Font Awesome 7 Thumbprint":{300:"fatl",normal:"fatl"},"Font Awesome 7 Notdog":{900:"fans",normal:"fans"},"Font Awesome 7 Notdog Duo":{900:"fands",normal:"fands"},"Font Awesome 7 Etch":{900:"faes",normal:"faes"},"Font Awesome 7 Chisel":{400:"facr",normal:"facr"},"Font Awesome 7 Whiteboard":{600:"fawsb",normal:"fawsb"}},Tv=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["chisel",{defaultShortPrefixId:"facr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["etch",{defaultShortPrefixId:"faes",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["jelly",{defaultShortPrefixId:"fajr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-duo",{defaultShortPrefixId:"fajdr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["jelly-fill",{defaultShortPrefixId:"fajfr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["notdog",{defaultShortPrefixId:"fans",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["notdog-duo",{defaultShortPrefixId:"fands",defaultStyleId:"solid",styleIds:["solid"],futureStyleIds:[],defaultFontWeight:900}],["slab",{defaultShortPrefixId:"faslr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["slab-press",{defaultShortPrefixId:"faslpr",defaultStyleId:"regular",styleIds:["regular"],futureStyleIds:[],defaultFontWeight:400}],["thumbprint",{defaultShortPrefixId:"fatl",defaultStyleId:"light",styleIds:["light"],futureStyleIds:[],defaultFontWeight:300}],["whiteboard",{defaultShortPrefixId:"fawsb",defaultStyleId:"semibold",styleIds:["semibold"],futureStyleIds:[],defaultFontWeight:600}]]),Iv={chisel:{regular:"facr"},classic:{brands:"fab",light:"fal",regular:"far",solid:"fas",thin:"fat"},duotone:{light:"fadl",regular:"fadr",solid:"fad",thin:"fadt"},etch:{solid:"faes"},jelly:{regular:"fajr"},"jelly-duo":{regular:"fajdr"},"jelly-fill":{regular:"fajfr"},notdog:{solid:"fans"},"notdog-duo":{solid:"fands"},sharp:{light:"fasl",regular:"fasr",solid:"fass",thin:"fast"},"sharp-duotone":{light:"fasdl",regular:"fasdr",solid:"fasds",thin:"fasdt"},slab:{regular:"faslr"},"slab-press":{regular:"faslpr"},thumbprint:{light:"fatl"},whiteboard:{semibold:"fawsb"}},Qc=["fak","fa-kit","fakd","fa-kit-duotone"],oc={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Ov=["kit"],Pv="kit",Fv="kit-duotone",Bv="Kit",jv="Kit Duotone",Nk=x2(x2({},Pv,Bv),Fv,jv),Uv={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},Hv={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Vv={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},sc={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},Ya,Lr={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},$v=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-thumbprint","fa-whiteboard","fa-notdog","fa-notdog-duo","fa-chisel","fa-etch","fa-jelly","fa-jelly-fill","fa-jelly-duo","fa-slab","fa-slab-press"],Wv="classic",qv="duotone",Gv="sharp",Yv="sharp-duotone",Xv="chisel",Kv="etch",Zv="jelly",Jv="jelly-duo",Qv="jelly-fill",e_="notdog",t_="notdog-duo",r_="slab",n_="slab-press",a_="thumbprint",i_="whiteboard",o_="Classic",s_="Duotone",c_="Sharp",l_="Sharp Duotone",f_="Chisel",u_="Etch",d_="Jelly",p_="Jelly Duo",m_="Jelly Fill",h_="Notdog",g_="Notdog Duo",v_="Slab",__="Slab Press",y_="Thumbprint",M_="Whiteboard",Ek=(Ya={},x2(x2(x2(x2(x2(x2(x2(x2(x2(x2(Ya,Wv,o_),qv,s_),Gv,c_),Yv,l_),Xv,f_),Kv,u_),Zv,d_),Jv,p_),Qv,m_),e_,h_),x2(x2(x2(x2(x2(Ya,t_,g_),r_,v_),n_,__),a_,y_),i_,M_)),b_="kit",z_="kit-duotone",L_="Kit",C_="Kit Duotone",Rk=x2(x2({},b_,L_),z_,C_),w_={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"},slab:{"fa-regular":"faslr"},"slab-press":{"fa-regular":"faslpr"},whiteboard:{"fa-semibold":"fawsb"},thumbprint:{"fa-light":"fatl"},notdog:{"fa-solid":"fans"},"notdog-duo":{"fa-solid":"fands"},etch:{"fa-solid":"faes"},jelly:{"fa-regular":"fajr"},"jelly-fill":{"fa-regular":"fajfr"},"jelly-duo":{"fa-regular":"fajdr"},chisel:{"fa-regular":"facr"}},S_={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"],slab:["faslr"],"slab-press":["faslpr"],whiteboard:["fawsb"],thumbprint:["fatl"],notdog:["fans"],"notdog-duo":["fands"],etch:["faes"],jelly:["fajr"],"jelly-fill":["fajfr"],"jelly-duo":["fajdr"],chisel:["facr"]},ti={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"},slab:{faslr:"fa-regular"},"slab-press":{faslpr:"fa-regular"},whiteboard:{fawsb:"fa-semibold"},thumbprint:{fatl:"fa-light"},notdog:{fans:"fa-solid"},"notdog-duo":{fands:"fa-solid"},etch:{faes:"fa-solid"},jelly:{fajr:"fa-regular"},"jelly-fill":{fajfr:"fa-regular"},"jelly-duo":{fajdr:"fa-regular"},chisel:{facr:"fa-regular"}},x_=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands","fa-semibold"],el=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","faslr","faslpr","fawsb","fatl","fans","fands","faes","fajr","fajfr","fajdr","facr"].concat($v,x_),D_=["solid","regular","light","thin","duotone","brands","semibold"],tl=[1,2,3,4,5,6,7,8,9,10],k_=tl.concat([11,12,13,14,15,16,17,18,19,20]),N_=["aw","fw","pull-left","pull-right"],E_=[].concat(J1(Object.keys(S_)),D_,N_,["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","inverse","layers","layers-bottom-left","layers-bottom-right","layers-counter","layers-text","layers-top-left","layers-top-right","li","pull-end","pull-start","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","width-auto","width-fixed",Lr.GROUP,Lr.SWAP_OPACITY,Lr.PRIMARY,Lr.SECONDARY]).concat(tl.map(function(t){return"".concat(t,"x")})).concat(k_.map(function(t){return"w-".concat(t)})),R_={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},De="___FONT_AWESOME___",ri=16,rl="fa",nl="svg-inline--fa",I4="data-fa-i2svg",ni="data-fa-pseudo-element",A_="data-fa-pseudo-element-pending",gi="data-prefix",vi="data-icon",cc="fontawesome-i2svg",T_="async",I_=["HTML","HEAD","STYLE","SCRIPT"],al=["::before","::after",":before",":after"],il=function(){try{return!0}catch{return!1}}();function $t(t){return new Proxy(t,{get:function(e,n){return n in e?e[n]:e[y1]}})}var ol=V({},Pc);ol[y1]=V(V(V(V({},{"fa-duotone":"duotone"}),Pc[y1]),oc.kit),oc["kit-duotone"]);var O_=$t(ol),ai=V({},Iv);ai[y1]=V(V(V(V({},{duotone:"fad"}),ai[y1]),sc.kit),sc["kit-duotone"]);var lc=$t(ai),ii=V({},ti);ii[y1]=V(V({},ii[y1]),Vv.kit);var sl=$t(ii),oi=V({},w_);oi[y1]=V(V({},oi[y1]),Uv.kit);var Ak=$t(oi),P_=mv,cl="fa-layers-text",F_=hv,B_=V({},Rv),Tk=$t(B_),j_=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Xa=gv,U_=[].concat(J1(Ov),J1(E_)),jt=Qe.FontAwesomeConfig||{};function H_(t){var r=H2.querySelector("script["+t+"]");if(r)return r.getAttribute(t)}function V_(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}H2&&typeof H2.querySelector=="function"&&(fc=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-search-pseudo-elements","searchPseudoElements"],["data-search-pseudo-elements-warnings","searchPseudoElementsWarnings"],["data-search-pseudo-elements-full-scan","searchPseudoElementsFullScan"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]],fc.forEach(function(t){var r=Nr(t,2),e=r[0],n=r[1],a=V_(H_(e));a!=null&&(jt[n]=a)}));var fc,ll={styleDefault:"solid",familyDefault:y1,cssPrefix:rl,replacementClass:nl,autoReplaceSvg:!0,autoAddCss:!0,searchPseudoElements:!1,searchPseudoElementsWarnings:!0,searchPseudoElementsFullScan:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};jt.familyPrefix&&(jt.cssPrefix=jt.familyPrefix);var E3=V(V({},ll),jt);E3.autoReplaceSvg||(E3.observeMutations=!1);var o2={};Object.keys(ll).forEach(function(t){Object.defineProperty(o2,t,{enumerable:!0,set:function(e){E3[t]=e,Ut.forEach(function(n){return n(o2)})},get:function(){return E3[t]}})});Object.defineProperty(o2,"familyPrefix",{enumerable:!0,set:function(r){E3.cssPrefix=r,Ut.forEach(function(e){return e(o2)})},get:function(){return E3.cssPrefix}});Qe.FontAwesomeConfig=o2;var Ut=[];function $_(t){return Ut.push(t),function(){Ut.splice(Ut.indexOf(t),1)}}var Je=ri,fe={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function W_(t){if(!(!t||!Ne)){var r=H2.createElement("style");r.setAttribute("type","text/css"),r.innerHTML=t;for(var e=H2.head.childNodes,n=null,a=e.length-1;a>-1;a--){var i=e[a],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(n=i)}return H2.head.insertBefore(r,n),t}}var q_="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function uc(){for(var t=12,r="";t-- >0;)r+=q_[Math.random()*62|0];return r}function R3(t){for(var r=[],e=(t||[]).length>>>0;e--;)r[e]=t[e];return r}function _i(t){return t.classList?R3(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(r){return r})}function fl(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function G_(t){return Object.keys(t||{}).reduce(function(r,e){return r+"".concat(e,'="').concat(fl(t[e]),'" ')},"").trim()}function Er(t){return Object.keys(t||{}).reduce(function(r,e){return r+"".concat(e,": ").concat(t[e].trim(),";")},"")}function yi(t){return t.size!==fe.size||t.x!==fe.x||t.y!==fe.y||t.rotate!==fe.rotate||t.flipX||t.flipY}function Y_(t){var r=t.transform,e=t.containerWidth,n=t.iconWidth,a={transform:"translate(".concat(e/2," 256)")},i="translate(".concat(r.x*32,", ").concat(r.y*32,") "),o="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),s="rotate(".concat(r.rotate," 0 0)"),l={transform:"".concat(i," ").concat(o," ").concat(s)},u={transform:"translate(".concat(n/2*-1," -256)")};return{outer:a,inner:l,path:u}}function X_(t){var r=t.transform,e=t.width,n=e===void 0?ri:e,a=t.height,i=a===void 0?ri:a,o=t.startCentered,s=o===void 0?!1:o,l="";return s&&Oc?l+="translate(".concat(r.x/Je-n/2,"em, ").concat(r.y/Je-i/2,"em) "):s?l+="translate(calc(-50% + ".concat(r.x/Je,"em), calc(-50% + ").concat(r.y/Je,"em)) "):l+="translate(".concat(r.x/Je,"em, ").concat(r.y/Je,"em) "),l+="scale(".concat(r.size/Je*(r.flipX?-1:1),", ").concat(r.size/Je*(r.flipY?-1:1),") "),l+="rotate(".concat(r.rotate,"deg) "),l}var K_=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 7 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 7 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 7 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 7 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 7 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 7 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 7 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 7 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 7 Sharp Duotone";
  --fa-font-slab-regular: normal 400 1em/1 "Font Awesome 7 Slab";
  --fa-font-slab-press-regular: normal 400 1em/1 "Font Awesome 7 Slab Press";
  --fa-font-whiteboard-semibold: normal 600 1em/1 "Font Awesome 7 Whiteboard";
  --fa-font-thumbprint-light: normal 300 1em/1 "Font Awesome 7 Thumbprint";
  --fa-font-notdog-solid: normal 900 1em/1 "Font Awesome 7 Notdog";
  --fa-font-notdog-duo-solid: normal 900 1em/1 "Font Awesome 7 Notdog Duo";
  --fa-font-etch-solid: normal 900 1em/1 "Font Awesome 7 Etch";
  --fa-font-jelly-regular: normal 400 1em/1 "Font Awesome 7 Jelly";
  --fa-font-jelly-fill-regular: normal 400 1em/1 "Font Awesome 7 Jelly Fill";
  --fa-font-jelly-duo-regular: normal 400 1em/1 "Font Awesome 7 Jelly Duo";
  --fa-font-chisel-regular: normal 400 1em/1 "Font Awesome 7 Chisel";
}

.svg-inline--fa {
  box-sizing: content-box;
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285714em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left,
.svg-inline--fa .fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-pull-right,
.svg-inline--fa .fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  inset-block-start: 0.25em; /* syncing vertical alignment with Web Font rendering */
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: var(--fa-width, 1.25em);
}
.fa-layers .svg-inline--fa {
  inset: 0;
  margin: auto;
  position: absolute;
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: calc(10 / 16 * 1em); /* converts a 10px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 10 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 10 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xs {
  font-size: calc(12 / 16 * 1em); /* converts a 12px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 12 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 12 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-sm {
  font-size: calc(14 / 16 * 1em); /* converts a 14px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 14 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 14 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-lg {
  font-size: calc(20 / 16 * 1em); /* converts a 20px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 20 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 20 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-xl {
  font-size: calc(24 / 16 * 1em); /* converts a 24px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 24 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 24 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-2xl {
  font-size: calc(32 / 16 * 1em); /* converts a 32px size into an em-based value that's relative to the scale's 16px base */
  line-height: calc(1 / 32 * 1em); /* sets the line-height of the icon back to that of it's parent */
  vertical-align: calc((6 / 32 - 0.375) * 1em); /* vertically centers the icon taking into account the surrounding text's descender */
}

.fa-width-auto {
  --fa-width: auto;
}

.fa-fw,
.fa-width-fixed {
  --fa-width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-inline-start: var(--fa-li-margin, 2.5em);
  padding-inline-start: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  inset-inline-start: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

/* Heads Up: Bordered Icons will not be supported in the future!
  - This feature will be deprecated in the next major release of Font Awesome (v8)!
  - You may continue to use it in this version *v7), but it will not be supported in Font Awesome v8.
*/
/* Notes:
* --@{v.$css-prefix}-border-width = 1/16 by default (to render as ~1px based on a 16px default font-size)
* --@{v.$css-prefix}-border-padding =
  ** 3/16 for vertical padding (to give ~2px of vertical whitespace around an icon considering it's vertical alignment)
  ** 4/16 for horizontal padding (to give ~4px of horizontal whitespace around an icon)
*/
.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.0625em);
  box-sizing: var(--fa-border-box-sizing, content-box);
  padding: var(--fa-border-padding, 0.1875em 0.25em);
}

.fa-pull-left,
.fa-pull-start {
  float: inline-start;
  margin-inline-end: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right,
.fa-pull-end {
  float: inline-end;
  margin-inline-start: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
  .fa-bounce,
  .fa-fade,
  .fa-beat-fade,
  .fa-flip,
  .fa-pulse,
  .fa-shake,
  .fa-spin,
  .fa-spin-pulse {
    animation: none !important;
    transition: none !important;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.svg-inline--fa.fa-inverse {
  fill: var(--fa-inverse, #fff);
}

.fa-stack {
  display: inline-block;
  height: 2em;
  line-height: 2em;
  position: relative;
  vertical-align: middle;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}`;function ul(){var t=rl,r=nl,e=o2.cssPrefix,n=o2.replacementClass,a=K_;if(e!==t||n!==r){var i=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),s=new RegExp("\\.".concat(r),"g");a=a.replace(i,".".concat(e,"-")).replace(o,"--".concat(e,"-")).replace(s,".".concat(n))}return a}var dc=!1;function Ka(){o2.autoAddCss&&!dc&&(W_(ul()),dc=!0)}var Z_={mixout:function(){return{dom:{css:ul,insertCss:Ka}}},hooks:function(){return{beforeDOMElementCreation:function(){Ka()},beforeI2svg:function(){Ka()}}}},ke=Qe||{};ke[De]||(ke[De]={});ke[De].styles||(ke[De].styles={});ke[De].hooks||(ke[De].hooks={});ke[De].shims||(ke[De].shims=[]);var Z1=ke[De],dl=[],pl=function(){H2.removeEventListener("DOMContentLoaded",pl),Dr=1,dl.map(function(r){return r()})},Dr=!1;Ne&&(Dr=(H2.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(H2.readyState),Dr||H2.addEventListener("DOMContentLoaded",pl));function J_(t){Ne&&(Dr?setTimeout(t,0):dl.push(t))}function Wt(t){var r=t.tag,e=t.attributes,n=e===void 0?{}:e,a=t.children,i=a===void 0?[]:a;return typeof t=="string"?fl(t):"<".concat(r," ").concat(G_(n),">").concat(i.map(Wt).join(""),"</").concat(r,">")}function pc(t,r,e){if(t&&t[r]&&t[r][e])return{prefix:r,iconName:e,icon:t[r][e]}}var Q_=function(r,e){return function(n,a,i,o){return r.call(e,n,a,i,o)}},Za=function(r,e,n,a){var i=Object.keys(r),o=i.length,s=a!==void 0?Q_(e,a):e,l,u,h;for(n===void 0?(l=1,h=r[i[0]]):(l=0,h=n);l<o;l++)u=i[l],h=s(h,r[u],u,r);return h};function ml(t){return J1(t).length!==1?null:t.codePointAt(0).toString(16)}function mc(t){return Object.keys(t).reduce(function(r,e){var n=t[e],a=!!n.icon;return a?r[n.iconName]=n.icon:r[e]=n,r},{})}function hl(t,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.skipHooks,a=n===void 0?!1:n,i=mc(r);typeof Z1.hooks.addPack=="function"&&!a?Z1.hooks.addPack(t,mc(r)):Z1.styles[t]=V(V({},Z1.styles[t]||{}),i),t==="fas"&&hl("fa",r)}var Ht=Z1.styles,ey=Z1.shims,gl=Object.keys(sl),ty=gl.reduce(function(t,r){return t[r]=Object.keys(sl[r]),t},{}),Mi=null,vl={},_l={},yl={},Ml={},bl={};function ry(t){return~U_.indexOf(t)}function ny(t,r){var e=r.split("-"),n=e[0],a=e.slice(1).join("-");return n===t&&a!==""&&!ry(a)?a:null}var zl=function(){var r=function(i){return Za(Ht,function(o,s,l){return o[l]=Za(s,i,{}),o},{})};vl=r(function(a,i,o){if(i[3]&&(a[i[3]]=o),i[2]){var s=i[2].filter(function(l){return typeof l=="number"});s.forEach(function(l){a[l.toString(16)]=o})}return a}),_l=r(function(a,i,o){if(a[o]=o,i[2]){var s=i[2].filter(function(l){return typeof l=="string"});s.forEach(function(l){a[l]=o})}return a}),bl=r(function(a,i,o){var s=i[2];return a[o]=o,s.forEach(function(l){a[l]=o}),a});var e="far"in Ht||o2.autoFetchSvg,n=Za(ey,function(a,i){var o=i[0],s=i[1],l=i[2];return s==="far"&&!e&&(s="fas"),typeof o=="string"&&(a.names[o]={prefix:s,iconName:l}),typeof o=="number"&&(a.unicodes[o.toString(16)]={prefix:s,iconName:l}),a},{names:{},unicodes:{}});yl=n.names,Ml=n.unicodes,Mi=Rr(o2.styleDefault,{family:o2.familyDefault})};$_(function(t){Mi=Rr(t.styleDefault,{family:o2.familyDefault})});zl();function bi(t,r){return(vl[t]||{})[r]}function ay(t,r){return(_l[t]||{})[r]}function T4(t,r){return(bl[t]||{})[r]}function Ll(t){return yl[t]||{prefix:null,iconName:null}}function iy(t){var r=Ml[t],e=bi("fas",t);return r||(e?{prefix:"fas",iconName:e}:null)||{prefix:null,iconName:null}}function e4(){return Mi}var Cl=function(){return{prefix:null,iconName:null,rest:[]}};function oy(t){var r=y1,e=gl.reduce(function(n,a){return n[a]="".concat(o2.cssPrefix,"-").concat(a),n},{});return Jc.forEach(function(n){(t.includes(e[n])||t.some(function(a){return ty[n].includes(a)}))&&(r=n)}),r}function Rr(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=r.family,n=e===void 0?y1:e,a=O_[n][t];if(n===Vt&&!t)return"fad";var i=lc[n][t]||lc[n][a],o=t in Z1.styles?t:null,s=i||o||null;return s}function sy(t){var r=[],e=null;return t.forEach(function(n){var a=ny(o2.cssPrefix,n);a?e=a:n&&r.push(n)}),{iconName:e,rest:r}}function hc(t){return t.sort().filter(function(r,e,n){return n.indexOf(r)===e})}var gc=el.concat(Qc);function Ar(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=r.skipLookups,n=e===void 0?!1:e,a=null,i=hc(t.filter(function(b){return gc.includes(b)})),o=hc(t.filter(function(b){return!gc.includes(b)})),s=i.filter(function(b){return a=b,!Fc.includes(b)}),l=Nr(s,1),u=l[0],h=u===void 0?null:u,v=oy(i),y=V(V({},sy(o)),{},{prefix:Rr(h,{family:v})});return V(V(V({},y),uy({values:t,family:v,styles:Ht,config:o2,canonical:y,givenPrefix:a})),cy(n,a,y))}function cy(t,r,e){var n=e.prefix,a=e.iconName;if(t||!n||!a)return{prefix:n,iconName:a};var i=r==="fa"?Ll(a):{},o=T4(n,a);return a=i.iconName||o||a,n=i.prefix||n,n==="far"&&!Ht.far&&Ht.fas&&!o2.autoFetchSvg&&(n="fas"),{prefix:n,iconName:a}}var ly=Jc.filter(function(t){return t!==y1||t!==Vt}),fy=Object.keys(ti).filter(function(t){return t!==y1}).map(function(t){return Object.keys(ti[t])}).flat();function uy(t){var r=t.values,e=t.family,n=t.canonical,a=t.givenPrefix,i=a===void 0?"":a,o=t.styles,s=o===void 0?{}:o,l=t.config,u=l===void 0?{}:l,h=e===Vt,v=r.includes("fa-duotone")||r.includes("fad"),y=u.familyDefault==="duotone",b=n.prefix==="fad"||n.prefix==="fa-duotone";if(!h&&(v||y||b)&&(n.prefix="fad"),(r.includes("fa-brands")||r.includes("fab"))&&(n.prefix="fab"),!n.prefix&&ly.includes(e)){var z=Object.keys(s).find(function(I){return fy.includes(I)});if(z||u.autoFetchSvg){var R=Tv.get(e).defaultShortPrefixId;n.prefix=R,n.iconName=T4(n.prefix,n.iconName)||n.iconName}}return(n.prefix==="fa"||i==="fa")&&(n.prefix=e4()||"fas"),n}var dy=function(){function t(){ov(this,t),this.definitions={}}return sv(t,[{key:"add",value:function(){for(var e=this,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(s){e.definitions[s]=V(V({},e.definitions[s]||{}),o[s]),hl(s,o[s]),zl()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,n){var a=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(a).map(function(i){var o=a[i],s=o.prefix,l=o.iconName,u=o.icon,h=u[2];e[s]||(e[s]={}),h.length>0&&h.forEach(function(v){typeof v=="string"&&(e[s][v]=u)}),e[s][l]=u}),e}}])}(),vc=[],k3={},N3={},py=Object.keys(N3);function my(t,r){var e=r.mixoutsTo;return vc=t,k3={},Object.keys(N3).forEach(function(n){py.indexOf(n)===-1&&delete N3[n]}),vc.forEach(function(n){var a=n.mixout?n.mixout():{};if(Object.keys(a).forEach(function(o){typeof a[o]=="function"&&(e[o]=a[o]),xr(a[o])==="object"&&Object.keys(a[o]).forEach(function(s){e[o]||(e[o]={}),e[o][s]=a[o][s]})}),n.hooks){var i=n.hooks();Object.keys(i).forEach(function(o){k3[o]||(k3[o]=[]),k3[o].push(i[o])})}n.provides&&n.provides(N3)}),e}function si(t,r){for(var e=arguments.length,n=new Array(e>2?e-2:0),a=2;a<e;a++)n[a-2]=arguments[a];var i=k3[t]||[];return i.forEach(function(o){r=o.apply(null,[r].concat(n))}),r}function O4(t){for(var r=arguments.length,e=new Array(r>1?r-1:0),n=1;n<r;n++)e[n-1]=arguments[n];var a=k3[t]||[];a.forEach(function(i){i.apply(null,e)})}function t4(){var t=arguments[0],r=Array.prototype.slice.call(arguments,1);return N3[t]?N3[t].apply(null,r):void 0}function ci(t){t.prefix==="fa"&&(t.prefix="fas");var r=t.iconName,e=t.prefix||e4();if(r)return r=T4(e,r)||r,pc(wl.definitions,e,r)||pc(Z1.styles,e,r)}var wl=new dy,hy=function(){o2.autoReplaceSvg=!1,o2.observeMutations=!1,O4("noAuto")},gy={i2svg:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ne?(O4("beforeI2svg",r),t4("pseudoElements2svg",r),t4("i2svg",r)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=r.autoReplaceSvgRoot;o2.autoReplaceSvg===!1&&(o2.autoReplaceSvg=!0),o2.observeMutations=!0,J_(function(){_y({autoReplaceSvgRoot:e}),O4("watch",r)})}},vy={icon:function(r){if(r===null)return null;if(xr(r)==="object"&&r.prefix&&r.iconName)return{prefix:r.prefix,iconName:T4(r.prefix,r.iconName)||r.iconName};if(Array.isArray(r)&&r.length===2){var e=r[1].indexOf("fa-")===0?r[1].slice(3):r[1],n=Rr(r[0]);return{prefix:n,iconName:T4(n,e)||e}}if(typeof r=="string"&&(r.indexOf("".concat(o2.cssPrefix,"-"))>-1||r.match(P_))){var a=Ar(r.split(" "),{skipLookups:!0});return{prefix:a.prefix||e4(),iconName:T4(a.prefix,a.iconName)||a.iconName}}if(typeof r=="string"){var i=e4();return{prefix:i,iconName:T4(i,r)||r}}}},F1={noAuto:hy,config:o2,dom:gy,parse:vy,library:wl,findIconDefinition:ci,toHtml:Wt},_y=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=r.autoReplaceSvgRoot,n=e===void 0?H2:e;(Object.keys(Z1.styles).length>0||o2.autoFetchSvg)&&Ne&&o2.autoReplaceSvg&&F1.dom.i2svg({node:n})};function Tr(t,r){return Object.defineProperty(t,"abstract",{get:r}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(n){return Wt(n)})}}),Object.defineProperty(t,"node",{get:function(){if(Ne){var n=H2.createElement("div");return n.innerHTML=t.html,n.children}}}),t}function yy(t){var r=t.children,e=t.main,n=t.mask,a=t.attributes,i=t.styles,o=t.transform;if(yi(o)&&e.found&&!n.found){var s=e.width,l=e.height,u={x:s/l/2,y:.5};a.style=Er(V(V({},i),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:a,children:r}]}function My(t){var r=t.prefix,e=t.iconName,n=t.children,a=t.attributes,i=t.symbol,o=i===!0?"".concat(r,"-").concat(o2.cssPrefix,"-").concat(e):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:V(V({},a),{},{id:o}),children:n}]}]}function by(t){var r=["aria-label","aria-labelledby","title","role"];return r.some(function(e){return e in t})}function zi(t){var r=t.icons,e=r.main,n=r.mask,a=t.prefix,i=t.iconName,o=t.transform,s=t.symbol,l=t.maskId,u=t.extra,h=t.watchable,v=h===void 0?!1:h,y=n.found?n:e,b=y.width,z=y.height,R=[o2.replacementClass,i?"".concat(o2.cssPrefix,"-").concat(i):""].filter(function(Z){return u.classes.indexOf(Z)===-1}).filter(function(Z){return Z!==""||!!Z}).concat(u.classes).join(" "),I={children:[],attributes:V(V({},u.attributes),{},{"data-prefix":a,"data-icon":i,class:R,role:u.attributes.role||"img",viewBox:"0 0 ".concat(b," ").concat(z)})};!by(u.attributes)&&!u.attributes["aria-hidden"]&&(I.attributes["aria-hidden"]="true"),v&&(I.attributes[I4]="");var A=V(V({},I),{},{prefix:a,iconName:i,main:e,mask:n,maskId:l,transform:o,symbol:s,styles:V({},u.styles)}),E=n.found&&e.found?t4("generateAbstractMask",A)||{children:[],attributes:{}}:t4("generateAbstractIcon",A)||{children:[],attributes:{}},T=E.children,F=E.attributes;return A.children=T,A.attributes=F,s?My(A):yy(A)}function _c(t){var r=t.content,e=t.width,n=t.height,a=t.transform,i=t.extra,o=t.watchable,s=o===void 0?!1:o,l=V(V({},i.attributes),{},{class:i.classes.join(" ")});s&&(l[I4]="");var u=V({},i.styles);yi(a)&&(u.transform=X_({transform:a,startCentered:!0,width:e,height:n}),u["-webkit-transform"]=u.transform);var h=Er(u);h.length>0&&(l.style=h);var v=[];return v.push({tag:"span",attributes:l,children:[r]}),v}function zy(t){var r=t.content,e=t.extra,n=V(V({},e.attributes),{},{class:e.classes.join(" ")}),a=Er(e.styles);a.length>0&&(n.style=a);var i=[];return i.push({tag:"span",attributes:n,children:[r]}),i}var Ja=Z1.styles;function li(t){var r=t[0],e=t[1],n=t.slice(4),a=Nr(n,1),i=a[0],o=null;return Array.isArray(i)?o={tag:"g",attributes:{class:"".concat(o2.cssPrefix,"-").concat(Xa.GROUP)},children:[{tag:"path",attributes:{class:"".concat(o2.cssPrefix,"-").concat(Xa.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(o2.cssPrefix,"-").concat(Xa.PRIMARY),fill:"currentColor",d:i[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:r,height:e,icon:o}}var Ly={found:!1,width:512,height:512};function Cy(t,r){!il&&!o2.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(r,'" is missing.'))}function fi(t,r){var e=r;return r==="fa"&&o2.styleDefault!==null&&(r=e4()),new Promise(function(n,a){if(e==="fa"){var i=Ll(t)||{};t=i.iconName||t,r=i.prefix||r}if(t&&r&&Ja[r]&&Ja[r][t]){var o=Ja[r][t];return n(li(o))}Cy(t,r),n(V(V({},Ly),{},{icon:o2.showMissingIcons&&t?t4("missingIconAbstract")||{}:{}}))})}var yc=function(){},ui=o2.measurePerformance&&zr&&zr.mark&&zr.measure?zr:{mark:yc,measure:yc},Bt='FA "7.0.0"',wy=function(r){return ui.mark("".concat(Bt," ").concat(r," begins")),function(){return Sl(r)}},Sl=function(r){ui.mark("".concat(Bt," ").concat(r," ends")),ui.measure("".concat(Bt," ").concat(r),"".concat(Bt," ").concat(r," begins"),"".concat(Bt," ").concat(r," ends"))},Li={begin:wy,end:Sl},wr=function(){};function Mc(t){var r=t.getAttribute?t.getAttribute(I4):null;return typeof r=="string"}function Sy(t){var r=t.getAttribute?t.getAttribute(gi):null,e=t.getAttribute?t.getAttribute(vi):null;return r&&e}function xy(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(o2.replacementClass)}function Dy(){if(o2.autoReplaceSvg===!0)return Sr.replace;var t=Sr[o2.autoReplaceSvg];return t||Sr.replace}function ky(t){return H2.createElementNS("http://www.w3.org/2000/svg",t)}function Ny(t){return H2.createElement(t)}function xl(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=r.ceFn,n=e===void 0?t.tag==="svg"?ky:Ny:e;if(typeof t=="string")return H2.createTextNode(t);var a=n(t.tag);Object.keys(t.attributes||[]).forEach(function(o){a.setAttribute(o,t.attributes[o])});var i=t.children||[];return i.forEach(function(o){a.appendChild(xl(o,{ceFn:n}))}),a}function Ey(t){var r=" ".concat(t.outerHTML," ");return r="".concat(r,"Font Awesome fontawesome.com "),r}var Sr={replace:function(r){var e=r[0];if(e.parentNode)if(r[1].forEach(function(a){e.parentNode.insertBefore(xl(a),e)}),e.getAttribute(I4)===null&&o2.keepOriginalSource){var n=H2.createComment(Ey(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(r){var e=r[0],n=r[1];if(~_i(e).indexOf(o2.replacementClass))return Sr.replace(r);var a=new RegExp("".concat(o2.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce(function(s,l){return l===o2.replacementClass||l.match(a)?s.toSvg.push(l):s.toNode.push(l),s},{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}var o=n.map(function(s){return Wt(s)}).join(`
`);e.setAttribute(I4,""),e.innerHTML=o}};function bc(t){t()}function Dl(t,r){var e=typeof r=="function"?r:wr;if(t.length===0)e();else{var n=bc;o2.mutateApproach===T_&&(n=Qe.requestAnimationFrame||bc),n(function(){var a=Dy(),i=Li.begin("mutate");t.map(a),i(),e()})}}var Ci=!1;function kl(){Ci=!0}function di(){Ci=!1}var kr=null;function zc(t){if(ic&&o2.observeMutations){var r=t.treeCallback,e=r===void 0?wr:r,n=t.nodeCallback,a=n===void 0?wr:n,i=t.pseudoElementsCallback,o=i===void 0?wr:i,s=t.observeMutationsRoot,l=s===void 0?H2:s;kr=new ic(function(u){if(!Ci){var h=e4();R3(u).forEach(function(v){if(v.type==="childList"&&v.addedNodes.length>0&&!Mc(v.addedNodes[0])&&(o2.searchPseudoElements&&o(v.target),e(v.target)),v.type==="attributes"&&v.target.parentNode&&o2.searchPseudoElements&&o([v.target],!0),v.type==="attributes"&&Mc(v.target)&&~j_.indexOf(v.attributeName))if(v.attributeName==="class"&&Sy(v.target)){var y=Ar(_i(v.target)),b=y.prefix,z=y.iconName;v.target.setAttribute(gi,b||h),z&&v.target.setAttribute(vi,z)}else xy(v.target)&&a(v.target)})}}),Ne&&kr.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Ry(){kr&&kr.disconnect()}function Ay(t){var r=t.getAttribute("style"),e=[];return r&&(e=r.split(";").reduce(function(n,a){var i=a.split(":"),o=i[0],s=i.slice(1);return o&&s.length>0&&(n[o]=s.join(":").trim()),n},{})),e}function Ty(t){var r=t.getAttribute("data-prefix"),e=t.getAttribute("data-icon"),n=t.innerText!==void 0?t.innerText.trim():"",a=Ar(_i(t));return a.prefix||(a.prefix=e4()),r&&e&&(a.prefix=r,a.iconName=e),a.iconName&&a.prefix||(a.prefix&&n.length>0&&(a.iconName=ay(a.prefix,t.innerText)||bi(a.prefix,ml(t.innerText))),!a.iconName&&o2.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=t.firstChild.data)),a}function Iy(t){var r=R3(t.attributes).reduce(function(e,n){return e.name!=="class"&&e.name!=="style"&&(e[n.name]=n.value),e},{});return r}function Oy(){return{iconName:null,prefix:null,transform:fe,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Lc(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},e=Ty(t),n=e.iconName,a=e.prefix,i=e.rest,o=Iy(t),s=si("parseNodeAttributes",{},t),l=r.styleParser?Ay(t):[];return V({iconName:n,prefix:a,transform:fe,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:l,attributes:o}},s)}var Py=Z1.styles;function Nl(t){var r=o2.autoReplaceSvg==="nest"?Lc(t,{styleParser:!1}):Lc(t);return~r.extra.classes.indexOf(cl)?t4("generateLayersText",t,r):t4("generateSvgReplacementMutation",t,r)}function Fy(){return[].concat(J1(Qc),J1(el))}function Cc(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Ne)return Promise.resolve();var e=H2.documentElement.classList,n=function(v){return e.add("".concat(cc,"-").concat(v))},a=function(v){return e.remove("".concat(cc,"-").concat(v))},i=o2.autoFetchSvg?Fy():Fc.concat(Object.keys(Py));i.includes("fa")||i.push("fa");var o=[".".concat(cl,":not([").concat(I4,"])")].concat(i.map(function(h){return".".concat(h,":not([").concat(I4,"])")})).join(", ");if(o.length===0)return Promise.resolve();var s=[];try{s=R3(t.querySelectorAll(o))}catch{}if(s.length>0)n("pending"),a("complete");else return Promise.resolve();var l=Li.begin("onTree"),u=s.reduce(function(h,v){try{var y=Nl(v);y&&h.push(y)}catch(b){il||b.name==="MissingIcon"&&console.error(b)}return h},[]);return new Promise(function(h,v){Promise.all(u).then(function(y){Dl(y,function(){n("active"),n("complete"),a("pending"),typeof r=="function"&&r(),l(),h()})}).catch(function(y){l(),v(y)})})}function By(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Nl(t).then(function(e){e&&Dl([e],r)})}function jy(t){return function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=(r||{}).icon?r:ci(r||{}),a=e.mask;return a&&(a=(a||{}).icon?a:ci(a||{})),t(n,V(V({},e),{},{mask:a}))}}var Uy=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.transform,a=n===void 0?fe:n,i=e.symbol,o=i===void 0?!1:i,s=e.mask,l=s===void 0?null:s,u=e.maskId,h=u===void 0?null:u,v=e.classes,y=v===void 0?[]:v,b=e.attributes,z=b===void 0?{}:b,R=e.styles,I=R===void 0?{}:R;if(r){var A=r.prefix,E=r.iconName,T=r.icon;return Tr(V({type:"icon"},r),function(){return O4("beforeDOMElementCreation",{iconDefinition:r,params:e}),zi({icons:{main:li(T),mask:l?li(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:A,iconName:E,transform:V(V({},fe),a),symbol:o,maskId:h,extra:{attributes:z,styles:I,classes:y}})})}},Hy={mixout:function(){return{icon:jy(Uy)}},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=Cc,e.nodeCallback=By,e}}},provides:function(r){r.i2svg=function(e){var n=e.node,a=n===void 0?H2:n,i=e.callback,o=i===void 0?function(){}:i;return Cc(a,o)},r.generateSvgReplacementMutation=function(e,n){var a=n.iconName,i=n.prefix,o=n.transform,s=n.symbol,l=n.mask,u=n.maskId,h=n.extra;return new Promise(function(v,y){Promise.all([fi(a,i),l.iconName?fi(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(b){var z=Nr(b,2),R=z[0],I=z[1];v([e,zi({icons:{main:R,mask:I},prefix:i,iconName:a,transform:o,symbol:s,maskId:u,extra:h,watchable:!0})])}).catch(y)})},r.generateAbstractIcon=function(e){var n=e.children,a=e.attributes,i=e.main,o=e.transform,s=e.styles,l=Er(s);l.length>0&&(a.style=l);var u;return yi(o)&&(u=t4("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),n.push(u||i.icon),{children:n,attributes:a}}}},Vy={mixout:function(){return{layer:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.classes,i=a===void 0?[]:a;return Tr({type:"layer"},function(){O4("beforeDOMElementCreation",{assembler:e,params:n});var o=[];return e(function(s){Array.isArray(s)?s.map(function(l){o=o.concat(l.abstract)}):o=o.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(o2.cssPrefix,"-layers")].concat(J1(i)).join(" ")},children:o}]})}}}},$y={mixout:function(){return{counter:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.title,i=a===void 0?null:a,o=n.classes,s=o===void 0?[]:o,l=n.attributes,u=l===void 0?{}:l,h=n.styles,v=h===void 0?{}:h;return Tr({type:"counter",content:e},function(){return O4("beforeDOMElementCreation",{content:e,params:n}),zy({content:e.toString(),title:i,extra:{attributes:u,styles:v,classes:["".concat(o2.cssPrefix,"-layers-counter")].concat(J1(s))}})})}}}},Wy={mixout:function(){return{text:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.transform,i=a===void 0?fe:a,o=n.classes,s=o===void 0?[]:o,l=n.attributes,u=l===void 0?{}:l,h=n.styles,v=h===void 0?{}:h;return Tr({type:"text",content:e},function(){return O4("beforeDOMElementCreation",{content:e,params:n}),_c({content:e,transform:V(V({},fe),i),extra:{attributes:u,styles:v,classes:["".concat(o2.cssPrefix,"-layers-text")].concat(J1(s))}})})}}},provides:function(r){r.generateLayersText=function(e,n){var a=n.transform,i=n.extra,o=null,s=null;if(Oc){var l=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/l,s=u.height/l}return Promise.resolve([e,_c({content:e.innerHTML,width:o,height:s,transform:a,extra:i,watchable:!0})])}}},El=new RegExp('"',"ug"),wc=[1105920,1112319],Sc=V(V(V(V({},{FontAwesome:{normal:"fas",400:"fas"}}),Av),R_),Hv),pi=Object.keys(Sc).reduce(function(t,r){return t[r.toLowerCase()]=Sc[r],t},{}),qy=Object.keys(pi).reduce(function(t,r){var e=pi[r];return t[r]=e[900]||J1(Object.entries(e))[0][1],t},{});function Gy(t){var r=t.replace(El,"");return ml(J1(r)[0]||"")}function Yy(t){var r=t.getPropertyValue("font-feature-settings").includes("ss01"),e=t.getPropertyValue("content"),n=e.replace(El,""),a=n.codePointAt(0),i=a>=wc[0]&&a<=wc[1],o=n.length===2?n[0]===n[1]:!1;return i||o||r}function Xy(t,r){var e=t.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(r),a=isNaN(n)?"normal":n;return(pi[e]||{})[a]||qy[e]}function xc(t,r){var e="".concat(A_).concat(r.replace(":","-"));return new Promise(function(n,a){if(t.getAttribute(e)!==null)return n();var i=R3(t.children),o=i.filter(function(t2){return t2.getAttribute(ni)===r})[0],s=Qe.getComputedStyle(t,r),l=s.getPropertyValue("font-family"),u=l.match(F_),h=s.getPropertyValue("font-weight"),v=s.getPropertyValue("content");if(o&&!u)return t.removeChild(o),n();if(u&&v!=="none"&&v!==""){var y=s.getPropertyValue("content"),b=Xy(l,h),z=Gy(y),R=u[0].startsWith("FontAwesome"),I=Yy(s),A=bi(b,z),E=A;if(R){var T=iy(z);T.iconName&&T.prefix&&(A=T.iconName,b=T.prefix)}if(A&&!I&&(!o||o.getAttribute(gi)!==b||o.getAttribute(vi)!==E)){t.setAttribute(e,E),o&&t.removeChild(o);var F=Oy(),Z=F.extra;Z.attributes[ni]=r,fi(A,b).then(function(t2){var f2=zi(V(V({},F),{},{icons:{main:t2,mask:Cl()},prefix:b,iconName:E,extra:Z,watchable:!0})),b2=H2.createElementNS("http://www.w3.org/2000/svg","svg");r==="::before"?t.insertBefore(b2,t.firstChild):t.appendChild(b2),b2.outerHTML=f2.map(function(I2){return Wt(I2)}).join(`
`),t.removeAttribute(e),n()}).catch(a)}else n()}else n()})}function Ky(t){return Promise.all([xc(t,"::before"),xc(t,"::after")])}function Zy(t){return t.parentNode!==document.head&&!~I_.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(ni)&&(!t.parentNode||t.parentNode.tagName!=="svg")}var Jy=function(r){return!!r&&al.some(function(e){return r.includes(e)})},Qy=function(r){if(!r)return[];for(var e=new Set,n=[r],a=[/(?=\s:)/,new RegExp("(?<=\\)\\)?[^,]*,)")],i=function(){var b=s[o];n=n.flatMap(function(z){return z.split(b).map(function(R){return R.replace(/,\s*$/,"").trim()})})},o=0,s=a;o<s.length;o++)i();n=n.flatMap(function(y){return y.includes("(")?y:y.split(",").map(function(b){return b.trim()})});var l=Cr(n),u;try{for(l.s();!(u=l.n()).done;){var h=u.value;if(Jy(h)){var v=al.reduce(function(y,b){return y.replace(b,"")},h);v!==""&&v!=="*"&&e.add(v)}}}catch(y){l.e(y)}finally{l.f()}return e};function Dc(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Ne){var e;if(r)e=t;else if(o2.searchPseudoElementsFullScan)e=t.querySelectorAll("*");else{var n=new Set,a=Cr(document.styleSheets),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;try{var s=Cr(o.cssRules),l;try{for(s.s();!(l=s.n()).done;){var u=l.value,h=Qy(u.selectorText),v=Cr(h),y;try{for(v.s();!(y=v.n()).done;){var b=y.value;n.add(b)}}catch(R){v.e(R)}finally{v.f()}}}catch(R){s.e(R)}finally{s.f()}}catch(R){o2.searchPseudoElementsWarnings&&console.warn("Font Awesome: cannot parse stylesheet: ".concat(o.href," (").concat(R.message,`)
If it declares any Font Awesome CSS pseudo-elements, they will not be rendered as SVG icons. Add crossorigin="anonymous" to the <link>, enable searchPseudoElementsFullScan for slower but more thorough DOM parsing, or suppress this warning by setting searchPseudoElementsWarnings to false.`))}}}catch(R){a.e(R)}finally{a.f()}if(!n.size)return;var z=Array.from(n).join(", ");try{e=t.querySelectorAll(z)}catch{}}return new Promise(function(R,I){var A=R3(e).filter(Zy).map(Ky),E=Li.begin("searchPseudoElements");kl(),Promise.all(A).then(function(){E(),di(),R()}).catch(function(){E(),di(),I()})})}}var eM={hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=Dc,e}}},provides:function(r){r.pseudoElements2svg=function(e){var n=e.node,a=n===void 0?H2:n;o2.searchPseudoElements&&Dc(a)}}},kc=!1,tM={mixout:function(){return{dom:{unwatch:function(){kl(),kc=!0}}}},hooks:function(){return{bootstrap:function(){zc(si("mutationObserverCallbacks",{}))},noAuto:function(){Ry()},watch:function(e){var n=e.observeMutationsRoot;kc?di():zc(si("mutationObserverCallbacks",{observeMutationsRoot:n}))}}}},Nc=function(r){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return r.toLowerCase().split(" ").reduce(function(n,a){var i=a.toLowerCase().split("-"),o=i[0],s=i.slice(1).join("-");if(o&&s==="h")return n.flipX=!0,n;if(o&&s==="v")return n.flipY=!0,n;if(s=parseFloat(s),isNaN(s))return n;switch(o){case"grow":n.size=n.size+s;break;case"shrink":n.size=n.size-s;break;case"left":n.x=n.x-s;break;case"right":n.x=n.x+s;break;case"up":n.y=n.y-s;break;case"down":n.y=n.y+s;break;case"rotate":n.rotate=n.rotate+s;break}return n},e)},rM={mixout:function(){return{parse:{transform:function(e){return Nc(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,n){var a=n.getAttribute("data-fa-transform");return a&&(e.transform=Nc(a)),e}}},provides:function(r){r.generateAbstractTransformGrouping=function(e){var n=e.main,a=e.transform,i=e.containerWidth,o=e.iconWidth,s={transform:"translate(".concat(i/2," 256)")},l="translate(".concat(a.x*32,", ").concat(a.y*32,") "),u="scale(".concat(a.size/16*(a.flipX?-1:1),", ").concat(a.size/16*(a.flipY?-1:1),") "),h="rotate(".concat(a.rotate," 0 0)"),v={transform:"".concat(l," ").concat(u," ").concat(h)},y={transform:"translate(".concat(o/2*-1," -256)")},b={outer:s,inner:v,path:y};return{tag:"g",attributes:V({},b.outer),children:[{tag:"g",attributes:V({},b.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:V(V({},n.icon.attributes),b.path)}]}]}}}},Qa={x:0,y:0,width:"100%",height:"100%"};function Ec(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||r)&&(t.attributes.fill="black"),t}function nM(t){return t.tag==="g"?t.children:[t]}var aM={hooks:function(){return{parseNodeAttributes:function(e,n){var a=n.getAttribute("data-fa-mask"),i=a?Ar(a.split(" ").map(function(o){return o.trim()})):Cl();return i.prefix||(i.prefix=e4()),e.mask=i,e.maskId=n.getAttribute("data-fa-mask-id"),e}}},provides:function(r){r.generateAbstractMask=function(e){var n=e.children,a=e.attributes,i=e.main,o=e.mask,s=e.maskId,l=e.transform,u=i.width,h=i.icon,v=o.width,y=o.icon,b=Y_({transform:l,containerWidth:v,iconWidth:u}),z={tag:"rect",attributes:V(V({},Qa),{},{fill:"white"})},R=h.children?{children:h.children.map(Ec)}:{},I={tag:"g",attributes:V({},b.inner),children:[Ec(V({tag:h.tag,attributes:V(V({},h.attributes),b.path)},R))]},A={tag:"g",attributes:V({},b.outer),children:[I]},E="mask-".concat(s||uc()),T="clip-".concat(s||uc()),F={tag:"mask",attributes:V(V({},Qa),{},{id:E,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[z,A]},Z={tag:"defs",children:[{tag:"clipPath",attributes:{id:T},children:nM(y)},F]};return n.push(Z,{tag:"rect",attributes:V({fill:"currentColor","clip-path":"url(#".concat(T,")"),mask:"url(#".concat(E,")")},Qa)}),{children:n,attributes:a}}}},iM={provides:function(r){var e=!1;Qe.matchMedia&&(e=Qe.matchMedia("(prefers-reduced-motion: reduce)").matches),r.missingIconAbstract=function(){var n=[],a={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:V(V({},a),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=V(V({},i),{},{attributeName:"opacity"}),s={tag:"circle",attributes:V(V({},a),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||s.children.push({tag:"animate",attributes:V(V({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:V(V({},o),{},{values:"1;0;1;1;0;1;"})}),n.push(s),n.push({tag:"path",attributes:V(V({},a),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:V(V({},o),{},{values:"1;0;0;0;0;1;"})}]}),e||n.push({tag:"path",attributes:V(V({},a),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:V(V({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},oM={hooks:function(){return{parseNodeAttributes:function(e,n){var a=n.getAttribute("data-fa-symbol"),i=a===null?!1:a===""?!0:a;return e.symbol=i,e}}}},sM=[Z_,Hy,Vy,$y,Wy,eM,tM,rM,aM,iM,oM];my(sM,{mixoutsTo:F1});var Ik=F1.noAuto,Rl=F1.config,Ok=F1.library,Al=F1.dom,Tl=F1.parse,Pk=F1.findIconDefinition,Fk=F1.toHtml,Il=F1.icon,Bk=F1.layer,cM=F1.text,lM=F1.counter;var fM=["*"],uM=(()=>{class t{defaultPrefix="fas";fallbackIcon=null;fixedWidth;set autoAddCss(e){Rl.autoAddCss=e,this._autoAddCss=e}get autoAddCss(){return this._autoAddCss}_autoAddCss=!0;static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dM=(()=>{class t{definitions={};addIcons(...e){for(let n of e){n.prefix in this.definitions||(this.definitions[n.prefix]={}),this.definitions[n.prefix][n.iconName]=n;for(let a of n.icon[2])typeof a=="string"&&(this.definitions[n.prefix][a]=n)}}addIconPacks(...e){for(let n of e){let a=Object.keys(n).map(i=>n[i]);this.addIcons(...a)}}getIconDefinition(e,n){return e in this.definitions&&n in this.definitions[e]?this.definitions[e][n]:null}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pM=t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)},mM=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},Pl=t=>t!=null&&(t===90||t===180||t===270||t==="90"||t==="180"||t==="270"),hM=t=>{let r=Pl(t.rotate),e={[`fa-${t.animation}`]:t.animation!=null&&!t.animation.startsWith("spin"),"fa-spin":t.animation==="spin"||t.animation==="spin-reverse","fa-spin-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-spin-reverse":t.animation==="spin-reverse"||t.animation==="spin-pulse-reverse","fa-pulse":t.animation==="spin-pulse"||t.animation==="spin-pulse-reverse","fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both",[`fa-${t.size}`]:t.size!==null,[`fa-rotate-${t.rotate}`]:r,"fa-rotate-by":t.rotate!=null&&!r,[`fa-pull-${t.pull}`]:t.pull!==null,[`fa-stack-${t.stackItemSize}`]:t.stackItemSize!=null};return Object.keys(e).map(n=>e[n]?n:null).filter(n=>n!=null)},wi=new WeakSet,Ol="fa-auto-css";function gM(t,r){if(!r.autoAddCss||wi.has(t))return;if(t.getElementById(Ol)!=null){r.autoAddCss=!1,wi.add(t);return}let e=t.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("id",Ol),e.innerHTML=Al.css();let n=t.head.childNodes,a=null;for(let i=n.length-1;i>-1;i--){let o=n[i],s=o.nodeName.toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(a=o)}t.head.insertBefore(e,a),r.autoAddCss=!1,wi.add(t)}var vM=t=>t.prefix!==void 0&&t.iconName!==void 0,_M=(t,r)=>vM(t)?t:Array.isArray(t)&&t.length===2?{prefix:t[0],iconName:t[1]}:{prefix:r,iconName:t},yM=(()=>{class t{stackItemSize=e1("1x");size=e1();_effect=G2(()=>{if(this.size())throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')});static \u0275fac=function(n){return new(n||t)};static \u0275dir=_1({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:[1,"stackItemSize"],size:[1,"size"]}})}return t})(),MM=(()=>{class t{size=e1();classes=n2(()=>{let e=this.size(),n=e?{[`fa-${e}`]:!0}:{};return U2($({},n),{"fa-stack":!0})});static \u0275fac=function(n){return new(n||t)};static \u0275cmp=v1({type:t,selectors:[["fa-stack"]],hostVars:2,hostBindings:function(n,a){n&2&&E0(a.classes())},inputs:{size:[1,"size"]},ngContentSelectors:fM,decls:1,vars:0,template:function(n,a){n&1&&(Zn(),Jn(0))},encapsulation:2,changeDetection:0})}return t})(),Fl=(()=>{class t{icon=w1();title=w1();animation=w1();mask=w1();flip=w1();size=w1();pull=w1();border=w1();inverse=w1();symbol=w1();rotate=w1();fixedWidth=w1();transform=w1();a11yRole=w1();renderedIconHTML=n2(()=>{let e=this.icon()??this.config.fallbackIcon;if(!e)return mM(),"";let n=this.findIconDefinition(e);if(!n)return"";let a=this.buildParams();gM(this.document,this.config);let i=Il(n,a);return this.sanitizer.bypassSecurityTrustHtml(i.html.join(`
`))});document=w(g2);sanitizer=w(ga);config=w(uM);iconLibrary=w(dM);stackItem=w(yM,{optional:!0});stack=w(MM,{optional:!0});constructor(){this.stack!=null&&this.stackItem==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x" />.')}findIconDefinition(e){let n=_M(e,this.config.defaultPrefix);if("icon"in n)return n;let a=this.iconLibrary.getIconDefinition(n.prefix,n.iconName);return a??(pM(n),null)}buildParams(){let e=this.fixedWidth(),n={flip:this.flip(),animation:this.animation(),border:this.border(),inverse:this.inverse(),size:this.size(),pull:this.pull(),rotate:this.rotate(),fixedWidth:typeof e=="boolean"?e:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize():void 0},a=this.transform(),i=typeof a=="string"?Tl.transform(a):a,o=this.mask(),s=o!=null?this.findIconDefinition(o):null,l={},u=this.a11yRole();u!=null&&(l.role=u);let h={};return n.rotate!=null&&!Pl(n.rotate)&&(h["--fa-rotate-angle"]=`${n.rotate}`),{title:this.title(),transform:i,classes:hM(n),mask:s??void 0,symbol:this.symbol(),attributes:l,styles:h}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=v1({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(n,a){n&2&&(fo("innerHTML",a.renderedIconHTML(),no),L4("title",a.title()??void 0))},inputs:{icon:[1,"icon"],title:[1,"title"],animation:[1,"animation"],mask:[1,"mask"],flip:[1,"flip"],size:[1,"size"],pull:[1,"pull"],border:[1,"border"],inverse:[1,"inverse"],symbol:[1,"symbol"],rotate:[1,"rotate"],fixedWidth:[1,"fixedWidth"],transform:[1,"transform"],a11yRole:[1,"a11yRole"]},outputs:{icon:"iconChange",title:"titleChange",animation:"animationChange",mask:"maskChange",flip:"flipChange",size:"sizeChange",pull:"pullChange",border:"borderChange",inverse:"inverseChange",symbol:"symbolChange",rotate:"rotateChange",fixedWidth:"fixedWidthChange",transform:"transformChange",a11yRole:"a11yRoleChange"},decls:0,vars:0,template:function(n,a){},encapsulation:2,changeDetection:0})}return t})();var Si={factorio:{route:"/spa",label:"options.game.factorio",modId:"spa"},"dyson-sphere-program":{route:"/dsp",label:"options.game.dysonSphereProgram",modId:"dsp"},satisfactory:{route:"/sfy",label:"options.game.satisfactory",modId:"sfy"},"captain-of-industry":{route:"/coi",label:"options.game.captainOfIndustry",modId:"coi"},"final-factory":{route:"/ffy",label:"options.game.finalFactory",modId:"ffy"},techtonica:{route:"/tta",label:"options.game.techtonica",modId:"tta"},"factor-y":{route:"/fay",label:"options.game.factorY",modId:"fay"},mindustry:{route:"/mds",label:"options.game.mindustry",modId:"mds"},foundry:{route:"/fdy",label:"options.game.foundry",modId:"fdy"},"outworld-station":{route:"/ows",label:"options.game.outworldStation",modId:"ows"}};var qt="spa",xi={mods:[{id:"spa",name:"Space Age",game:"factorio",flags:"spa"},{id:"2.0",name:"2.0",game:"factorio",flags:"2.0"},{id:"2.0q",name:"2.0 + Quality",game:"factorio",flags:"2.0q"},{id:"1.1",name:"1.1",game:"factorio",flags:"1.1"},{id:"1.1e",name:"1.1 Expensive",game:"factorio",flags:"1.1"},{id:"1.0",name:"1.0",game:"factorio",flags:"1.1"},{id:"017",name:"0.17",game:"factorio",flags:"1.1"},{id:"016",name:"0.16",game:"factorio",flags:"1.1"},{id:"248",name:"248k Standalone",game:"factorio",flags:"1.1"},{id:"248o",name:"248k Overhaul",game:"factorio",flags:"1.1"},{id:"248kr2sxp",name:"248k + Krastorio 2 + SE",game:"factorio",flags:"1.1"},{id:"aai",name:"AAI Industry",game:"factorio",flags:"1.1"},{id:"ang",name:"Angel's Industries",game:"factorio",flags:"1.1"},{id:"ango",name:"Angel's Industries Overhaul",game:"factorio",flags:"1.1"},{id:"bio",name:"Bio Industries",game:"factorio",flags:"1.1"},{id:"bob",name:"Bob's Mods",game:"factorio",flags:"1.1"},{id:"bobang",name:"Bob's & Angel's",game:"factorio",flags:"1.1"},{id:"efs",name:"Electric Furnaces",game:"factorio",flags:"1.1"},{id:"fpp",name:"Factorio Plus Plus",game:"factorio",flags:"1.1"},{id:"fep",name:"FactorioExtended Plus",game:"factorio",flags:"1.1"},{id:"ffw",name:"Freight Forwarding",game:"factorio",flags:"1.1"},{id:"ir3",name:"Industrial Revolution 3",game:"factorio",flags:"1.1"},{id:"kr2",name:"Krastorio 2",game:"factorio",flags:"2.0"},{id:"kr2248",name:"Krastorio 2 + 248K",game:"factorio",flags:"1.1"},{id:"kr2aai",name:"Krastorio 2 + AAI",game:"factorio",flags:"1.1"},{id:"kr2ffw",name:"Krastorio 2 + FFW",game:"factorio",flags:"1.1"},{id:"kr2sxp",name:"Krastorio 2 + SE",game:"factorio",flags:"1.1"},{id:"lls",name:"Lunar Landings",game:"factorio",flags:"1.1"},{id:"mbf",name:"Mobile Factory",game:"factorio",flags:"1.1"},{id:"msc",name:"More Science",game:"factorio",flags:"1.1"},{id:"nls",name:"Nullius",game:"factorio",flags:"1.1"},{id:"omf",name:"Omnifluid",game:"factorio",flags:"1.1"},{id:"ps2",name:"Production Scrap 2",game:"factorio",flags:"1.1"},{id:"pys",name:"Pyanodons",game:"factorio",flags:"1.1"},{id:"pysalf",name:"Pyanodons + AL",game:"factorio",flags:"1.1"},{id:"qat",name:"Qatavin's More Stuff",game:"factorio",flags:"1.1"},{id:"ram",name:"Rampant",game:"factorio",flags:"1.1"},{id:"sea",name:"Sea Block",game:"factorio",flags:"1.1"},{id:"sbk",name:"Spaceblock",game:"factorio",flags:"1.1"},{id:"sxp",name:"Space Exploration",game:"factorio",flags:"1.1"},{id:"ulc",name:"Ultracube",game:"factorio",flags:"1.1"},{id:"vbz",name:"Very BZ",game:"factorio",flags:"1.1"},{id:"wt2",name:"Warptorio2",game:"factorio",flags:"1.1"},{id:"xan",name:"Xander Mod",game:"factorio",flags:"1.1"},{id:"dsp",name:"Dyson Sphere Program",game:"dyson-sphere-program",flags:"dsp"},{id:"sfy",name:"Satisfactory",game:"satisfactory",flags:"sfy"},{id:"coi",name:"Captain of Industry",game:"captain-of-industry",flags:"coi"},{id:"tta",name:"Techtonica",game:"techtonica",flags:"tta"},{id:"ffy",name:"Final Factory",game:"final-factory",flags:"ffy"},{id:"fay",name:"Factor Y",game:"factor-y",flags:"fay"},{id:"mds",name:"Serpulo",game:"mindustry",flags:"mds"},{id:"mde",name:"Erekir",game:"mindustry",flags:"mds"},{id:"fdy",name:"Foundry",game:"foundry",flags:"fdy"},{id:"ows",name:"Outworld Station",game:"outworld-station",flags:"fdy"}],modHashV0:["1.1","1.0","0.17","0.16","bio-industries","bobs","bobs-angels","dsp","factorio-extended-plus","industrial-revolution","krastorio2","krastorio2+se","pyanodons","pyanodons+al","seablock","space-exploration","xander"],modHash:["1.1","1.0","017","016","bio","bob","bobang","dsp","fep","ir2","kr2","kr2sxp","pys","pysalf","sea","sxp","xan","nls","fpp","ang","msc","sfy","coi","qat","1.1e","248","248o","248kr2sxp","aai","ir3","efs","kr2aai","vbz","ffw","kr2ffw","mbf","omf","kr2248","sbk","wt2","ango","kr2p","ram","tta","utc","ffy","fay","lls","ulc","ps2","2.0","2.0q","mds","mde","fdy","ows"]};function Bl(t){return xi.mods.filter(r=>r.game===t).map(r=>({label:r.name,value:r.id}))}var Ir="pipe";function Di(t){if(t!=null)return{speed:C(t.speed)}}function jl(t){if(t!=null)return{effectivity:C(t.effectivity),modules:C(t.modules),range:C(t.range),type:t.type,usage:C(t.usage),disallowedEffects:t.disallowedEffects,size:t.size,profile:t.profile?t.profile.map(r=>C(r)):void 0}}function Ul(t){if(t!=null)return{size:C(t.size)}}function Hl(t){if(t!=null)return{capacity:C(t.capacity)}}function Vl(t){if(t!=null)return{category:t.category,value:C(t.value),result:t.result}}function ki(t,r,e){r.forEach(n=>{t[n]||(t[n]=C.zero),t[n]=t[n].add(e)})}function Or(t){if(t!=null)return J(t)}function $l(t,r){return Object.keys(t).some(e=>t[e]===r)}function Wl(t,r={}){return Object.keys(t).reduce((e,n)=>(e[n]=bM(t[n],r[n]),e),r)}function bM(t,r={}){return t.reduce((e,n)=>(e[n]=!0,e),r)}function A3(t){if(t!=null)return Object.keys(t).reduce((r,e)=>(r[e]=C(t[e]),r),{})}function $1(t){return s3()?t.reduce((r,e)=>(r[e.id]&&console.warn(`Duplicate id: ${e.id}`),r[e.id]=e,r),{}):t.reduce((r,e)=>(r[e.id]=e,r),{})}function ql(t){if(t!=null)return{parts:C(t.parts),launch:C(t.launch).div(C(60n))}}var Gl="pumpjack",Yl=new Set(["assembling-machine","furnace","lab","offshore-pump","rocket-silo"]);function Xl(t){if(t!=null)return{speed:C(t.speed),modules:t.modules===!0?t.modules:C(t.modules),disallowedEffects:t.disallowedEffects,type:t.type,fuelCategories:t.fuelCategories,fuel:t.fuel,usage:C(t.usage),drain:C(t.drain),pollution:C(t.pollution),silo:ql(t.silo),consumption:A3(t.consumption),size:t.size,baseEffect:t.baseEffect?zM(t.baseEffect):void 0,hideRate:t.hideRate,totalRecipe:t.totalRecipe,entityType:t.entityType,locations:t.locations,ingredientUsage:C(t.ingredientUsage)}}function zM(t){return Object.keys(t).reduce((e,n)=>(e[n]=C(t[n]),e),{})}var Kl="somersloop",T3={consumption:2,pollution:2,productivity:2,quality:3,speed:2},Zl=["consumption","pollution","productivity","quality","speed"],LM=new Set(["consumption","pollution"]);function Gt(t,r){return t[r]==null||(LM.has(r)?t[r].gte(C.zero):t[r].lte(C.zero))}function Jl(t){if(t!=null)return{consumption:C(t.consumption),pollution:C(t.pollution),productivity:C(t.productivity),quality:C(t.quality),speed:C(t.speed),limitation:t.limitation,sprays:C(t.sprays),proliferator:t.proliferator}}function Ql(t){return{id:t.id,name:t.name,category:t.category,row:t.row,stack:C(t.stack),beacon:jl(t.beacon),belt:Di(t.belt),pipe:Di(t.pipe),machine:Xl(t.machine),module:Jl(t.module),fuel:Vl(t.fuel),cargoWagon:Ul(t.cargoWagon),fluidWagon:Hl(t.fluidWagon),technology:t.technology,icon:t.icon,iconText:t.iconText}}var e8="legendary-quality",t8="epic-quality",r8="quality-module-technology";var rE=[{value:-1,label:"options.quality.any"},{value:0,label:"options.quality.normal"},{value:1,label:"options.quality.uncommon"},{value:2,label:"options.quality.rare"},{value:3,label:"options.quality.epic"},{value:5,label:"options.quality.legendary"}],CM=/^(.*)\((\d)\)$/;function Yt(t){let r=CM.exec(t);return r?r[1]:t}function r4(t,r){return r<1?t:`${t}(${r.toString()})`}function Pr(t){return t.technology==null&&t.stack!=null}function n8(t,r){let e=new Set(t.flags);return t.part==null&&!e.has("mining")&&(!e.has("technology")||Object.keys(t.in).length>0)&&!e.has("burn")&&!e.has("grow")&&Object.keys(t.in).some(n=>r[n].stack)}function a8(t){return{id:t.id,name:t.name,category:t.category,row:t.row,time:C(t.time),producers:t.producers,in:A3(t.in),out:A3(t.out),catalyst:A3(t.catalyst),cost:C(t.cost),part:t.part,icon:t.icon,iconText:t.iconText,usage:C(t.usage),disallowedEffects:t.disallowedEffects,locations:t.locations,flags:new Set(t.flags)}}function i8(t){return J(t,{in:Or(t.in),out:Or(t.out),catalyst:Or(t.catalyst)})}function Ni(t){for(let r of Object.keys(t.out)){let e=t.out[r];e.gt(C.zero)&&(t.in[r]==null||t.in[r].lt(e))&&t.produces.add(r),t.output[r]=e.sub(t.in[r]??C.zero).div(t.time)}for(let r of Object.keys(t.in).filter(e=>t.out[e]==null)){let e=t.in[r];t.output[r]=e.inverse().div(t.time)}}function I3(t,r,e=new Set(t),n,a=!1){t=t.filter(o=>e.has(o)),n&&(t=t.filter(o=>!n.has(o)));let i=t.map(o=>({label:r[o].name,value:o}));return a&&i.unshift({label:"none",value:""}),i}var o8={spa:new Set(["beacons","beltStack","diminishingBeacons","fluidCostRatio","fuels","inserterEstimation","maximumFactor","minimumFactor","miningDepletion","miningProductivity","mods","pollution","power","quality","researchSpeed","wagons"]),"2.0":new Set(["beacons","diminishingBeacons","fluidCostRatio","fuels","inserterEstimation","maximumFactor","minimumFactor","miningDepletion","miningProductivity","mods","pollution","power","researchSpeed","wagons"]),"2.0q":new Set(["beacons","diminishingBeacons","fluidCostRatio","fuels","inserterEstimation","maximumFactor","minimumFactor","miningDepletion","miningProductivity","mods","pollution","power","quality","researchSpeed","wagons"]),"1.1":new Set(["beacons","flowRate","fluidCostRatio","fuels","inserterEstimation","minimumFactor","minimumRecipeTime","miningDepletion","miningProductivity","miningTechnologyBypassLimitations","mods","pollution","power","researchSpeed","wagons"]),"1.1e":new Set(["beacons","expensive","flowRate","fluidCostRatio","fuels","inserterEstimation","minimumFactor","minimumRecipeTime","miningDepletion","miningProductivity","miningTechnologyBypassLimitations","mods","pollution","power","researchSpeed","wagons"]),dsp:new Set(["beltStack","fuels","inactiveDrain","miningSpeed","power","proliferator"]),sfy:new Set(["consumptionAsDrain","overclock","power","resourcePurity","somersloop","wagons"]),coi:new Set(["hideMachineSettings"]),ffy:new Set(["duplicators"]),tta:new Set(["fuels","power"]),fay:new Set(["fuels","power","miningSpeed","beltStack"]),mds:new Set(["power","mods"]),fdy:new Set(["power"])};var n4=class n4 extends V1{constructor(){super(...arguments);this.modRecord=n2(()=>{let e=this._state();return xi.mods.reduce((n,a)=>{let i=e[a.id]?.data;return i!=null&&(n[a.id]=J(a,i)),n},{})})}loadData(e,n,a){this.update(i=>({[e]:J(i[e],{data:n,hash:a})}))}loadI18n(e,n,a){this.update(i=>({[e]:J(i[e],{i18n:J(i[e]?.i18n,{[n]:a})})}))}};n4.\u0275fac=(()=>{let e;return function(a){return(e||(e=h1(n4)))(a||n4)}})(),n4.\u0275prov=P({token:n4,factory:n4.\u0275fac,providedIn:"root"});var O3=n4;function P3(t,r,e=(n,a)=>n===a){return t?.length?r?.length?t.length===r.length&&t.every((n,a)=>e(n,r[a])):!1:!r?.length}function Xt(t,r){return t.count?.toString()===r.count?.toString()&&t.id===r.id}function s8(t,r){return t.count?.toString()===r.count?.toString()&&t.id===r.id&&P3(t.modules,r.modules,Xt)&&t.total?.toString()===r.total?.toString()}var P4=class P4{bestMatch(r,e){let n=r.map(a=>a.value);if(n.length>1){for(let a of e)if(n.includes(a))return a}return n[0]}machineOptions(r,e,n){let a=r.producers.filter(i=>e.availableItemIds.has(i)&&(n.machineRecord[i].locations==null||n.machineRecord[i].locations.some(o=>e.locationIds.has(o))));return a.length===0&&(a=r.producers),a.map(i=>({value:i,label:n.itemRecord[i].name}))}fuelOptions(r,e,n){if(r.fuel){let o=n.itemRecord[r.fuel];return[{value:o.id,label:o.name}]}if(r.fuelCategories==null)return[];let a=r.fuelCategories,i=n.fuelIds.map(o=>n.itemRecord[o]).filter(u1("fuel")).filter(o=>a.includes(o.fuel.category));return i.some(o=>e.availableItemIds.has(o.id))&&(i=i.filter(o=>e.availableItemIds.has(o.id))),i.map(o=>({value:o.id,label:o.name}))}moduleOptions(r,e,n,a){let i=n.moduleIds.map(l=>n.itemRecord[l]).filter(u1("module")).filter(l=>e.availableItemIds.has(l.id)),o;if(a!=null&&(o=n.recipeRecord[a],Object.keys(n.limitations).length&&(!n.flags.has("miningTechnologyBypassLimitations")||!o.flags.has("mining")&&!o.flags.has("technology"))&&(i=i.filter(l=>!l.module.limitation||n.limitations[l.module.limitation][a])),o.disallowedEffects))for(let l of o.disallowedEffects)i=i.filter(u=>Gt(u.module,l));if(r.disallowedEffects)for(let l of r.disallowedEffects)i=i.filter(u=>Gt(u.module,l));let s=i.map(l=>({value:l.id,label:l.name}));return(!n.flags.has("resourcePurity")||!o?.flags.has("mining"))&&!n.flags.has("duplicators")&&s.unshift({label:"none",value:""}),s}defaultModules(r,e,n,a){if(n==null)return;if(a){let o=new Set(r.map(s=>s.value));if(a.every(s=>s.id&&o.has(s.id)))return a}let i=this.bestMatch(r,e);return n=n===!0?C.zero:n,[{id:i,count:n}]}};P4.\u0275fac=function(e){return new(e||P4)},P4.\u0275prov=P({token:P4,factory:P4.\u0275fac,providedIn:"root"});var a4=P4;var F4=class F4{constructor(){this.options=w(a4)}dehydrateModules(r,e,n,a,i){let o=this.options.defaultModules(e,n,a,i);if(P3(r,o,Xt))return;let s=this.options.bestMatch(e,n),l=a===!0||a==null?C.zero:a;return r.filter(h=>h.id!=="").map(h=>{let v={};return h.id!==s&&(v.id=h.id),(h.id==null||!h.count?.eq(l))&&(v.count=h.count),v})}hydrateModules(r,e,n,a,i){if(r==null)return this.options.defaultModules(e,n,a,i);let o=a===!0||a==null?C.zero:a,s=this.options.bestMatch(e,n),l=r.map(u=>({count:j(u.count,o),id:j(u.id,s)}));if(o.nonzero()){let u=l.reduce((v,y)=>v.add(y.count),C.zero),h=o.sub(u);h.gt(C.zero)&&l.push({count:h,id:""})}return l}dehydrateBeacons(r,e){if(P3(r,e,s8))return;if(e==null||e.length===0)return r;let n=e[0],a=n?.modules?.[0].id,i=j(n?.modules?.[0].count,C.zero),o=r.map(s=>{let l={};return s.id&&s.id!==n.id&&(l.id=s.id),s.count?.eq(j(n.count,C.zero))||(l.count=s.count),P3(s.modules,n.modules,Xt)||(l.modules=s.modules?.filter(u=>u.id!=="").map(u=>{let h={};return u.id!==a&&(h.id=u.id),u.count?.eq(i)||(h.count=u.count),h})),s.total&&(l.total=s.total),l});return o.every(s=>Object.keys(s).length===0)?[]:o}hydrateBeacons(r,e){if(r==null||e==null||e.length===0)return e;let n=e[0],a=n.modules?.[0],i=r.map(o=>({id:j(o.id,n.id),count:o.count??n.count,modules:j(o.modules?.map(s=>({id:j(s.id,a?.id),count:j(s.count,a?.count)})),n.modules),total:j(o.total,n.total)}));return a?.count==null?i:i.filter(u1("modules")).map(o=>{let s=o.modules.reduce((u,h)=>u.add(j(h.count,C.zero)),C.zero),l=a?.count?.sub(s);return l?.gt(C.zero)&&o.modules.push({count:l,id:""}),o})}};F4.\u0275fac=function(e){return new(e||F4)},F4.\u0275prov=P({token:F4,factory:F4.\u0275fac,providedIn:"root"});var i4=F4;var Fr=(a=>(a[a.Items=0]="Items",a[a.Belts=1]="Belts",a[a.Wagons=2]="Wagons",a[a.Machines=3]="Machines",a))(Fr||{});function c8(t,r){let e=[{value:0,label:t.itemsLabel},{value:1,label:"options.objectiveUnit.belts"},{value:2,label:t.wagonsLabel},{value:3,label:"options.objectiveUnit.machines"}];return r.has("wagons")?e:e.filter(n=>n.value!==2)}var Kt={0:{option:0,suffix:"options.displayRate.perSecondSuffix",itemsLabel:"options.objectiveUnit.itemsPerSecond",wagonsLabel:"options.objectiveUnit.wagonsPerSecond",pollutionLabel:"options.objectiveUnit.pollutionPerSecond",value:C.one},1:{option:1,suffix:"options.displayRate.perMinuteSuffix",itemsLabel:"options.objectiveUnit.itemsPerMinute",wagonsLabel:"options.objectiveUnit.wagonsPerMinute",pollutionLabel:"options.objectiveUnit.pollutionPerMinute",value:C(60n)},2:{option:2,suffix:"options.displayRate.perHourSuffix",itemsLabel:"options.objectiveUnit.itemsPerHour",wagonsLabel:"options.objectiveUnit.wagonsPerHour",pollutionLabel:"options.objectiveUnit.pollutionPerHour",value:C(3600n)}};function l8(t,r=void 0){if(r&&"presets"in r)return r.presets.map(n=>({value:n.id,label:n.label}));let e=[{value:0,label:"options.preset.minimum"},{value:1,label:"options.preset.upgraded"}];return t.has("beacons")&&(e[1].label="options.preset.modules",e.push({value:2,label:"options.preset.beacon8"},{value:3,label:"options.preset.beacon12"})),t.has("proliferator")&&e.push({value:2,label:"options.preset.proliferated"}),e}var Ee={speed0:C.zero,speed1:C(20n),speed2:C(50n),speed3:C(90n),speed4:C(140n),speed5:C(190n),speed6:C(250n)},KE=[{label:"options.researchBonus.speed0",value:Ee.speed0},{label:"options.researchBonus.speed1",value:Ee.speed1},{label:"options.researchBonus.speed2",value:Ee.speed2},{label:"options.researchBonus.speed3",value:Ee.speed3},{label:"options.researchBonus.speed4",value:Ee.speed4},{label:"options.researchBonus.speed5",value:Ee.speed5},{label:"options.researchBonus.speed6",value:Ee.speed6}];var f8={checkedObjectiveIds:new Set,preset:0,maximizeType:1,requireMachinesOutput:!1,displayRate:1,excludedItemIds:new Set,checkedItemIds:new Set,flowRate:C(1200n),checkedRecipeIds:new Set,netProductionOnly:!1,proliferatorSprayId:"",inserterTarget:1,miningBonus:C.zero,researchBonus:Ee.speed6,inserterCapacity:2,costs:{factor:C.one,machine:C.one,footprint:C.one,unproduceable:C(1000000000n),excluded:C.zero,surplus:C.zero,maximize:C(-1000000000n),recycling:C(1000n)}};var xM=[{id:"time",position:"-66px 0",color:""},{id:"transparent",position:"-132px 0",color:""},{id:"module",position:"-198px 0",color:"#ffffff"},{id:"pipe",position:"-264px 0",color:""},{id:"inserter",position:"0 -66px",color:""},{id:"long-handed-inserter",position:"-66px -66px",color:""},{id:"fast-inserter",position:"-132px -66px",color:""},{id:"bulk-inserter",position:"-198px -66px",color:""},{id:"q-1",position:"-264px -66px",color:""},{id:"q0",position:"0 -132px",color:""},{id:"q1",position:"-66px -132px",color:""},{id:"q2",position:"-132px -132px",color:""},{id:"q3",position:"-198px -132px",color:""},{id:"q5",position:"-264px -132px",color:""},{id:"captain-of-industry",position:"0 -198px",color:""},{id:"dyson-sphere-program",position:"-66px -198px",color:""},{id:"factor-y",position:"-132px -198px",color:""},{id:"factorio",position:"-198px -198px",color:""},{id:"final-factory",position:"-264px -198px",color:""},{id:"foundry",position:"0 -264px",color:""},{id:"mindustry",position:"-66px -264px",color:""},{id:"outworld-station",position:"-132px -264px",color:""},{id:"satisfactory",position:"-198px -264px",color:""},{id:"techtonica",position:"-264px -264px",color:""}],u8=$1(xM.map(t=>U2($({},t),{file:'url("icons/icons.webp")'})));var B4=class B4 extends E4{constructor(){super(f8,["costs"]);this.datasetsStore=w(O3);this.hydration=w(i4);this.preferencesStore=w(le);this.displayRate=this.select("displayRate");this.flowRate=this.select("flowRate");this.maximizeType=this.select("maximizeType");this.modId=this.select("modId");this.preset=this.select("preset");this.excludedRecipeIds=this.select("excludedRecipeIds");this.researchedTechnologyIds=this.select("researchedTechnologyIds");this.mod=n2(()=>{let e=this.modId();return e==null?void 0:this.datasetsStore.modRecord()[e]});this.hash=n2(()=>{let e=this.modId();return e==null?void 0:this.datasetsStore.state()[e]?.hash});this.i18n=n2(()=>{let e=this.modId();if(e==null)return;let n=this.datasetsStore.state(),a=this.preferencesStore.language();return n[e]?.i18n?.[a]});this.game=n2(()=>{let e=this.mod();return j(e?.game,"factorio")});this.modStates=n2(()=>{let e=this.modId();if(e==null)return{};let n=this.preferencesStore.states();return j(n[e],{})});this.stateOptions=n2(()=>{let e=this.modStates();return Object.keys(e).sort().map(n=>({label:n,value:n}))});this.gameInfo=n2(()=>{let e=this.game();return Si[e]});this.displayRateInfo=n2(()=>{let e=this.displayRate();return Kt[e]});this.modOptions=n2(()=>{let e=this.game();return Bl(e)});this.defaults=n2(()=>this.computeDefaults(this.mod(),this.preset()));this.dataset=n2(()=>this.computeDataset(this.mod(),this.hash(),this.i18n(),this.game()));this.linkValueOptions=n2(()=>{let e=this.dataset();return Zs(e.flags)});this.objectiveUnitOptions=n2(()=>{let e=this.displayRateInfo(),n=this.dataset();return c8(e,n.flags)});this.presetOptions=n2(()=>{let e=this.mod(),n=this.dataset();return l8(n.flags,e?.defaults)});this.columnOptions=n2(()=>{let e=this.dataset();return Xs(e.flags)});this.columnsState=n2(()=>{let e=this.dataset(),n=this.preferencesStore.columns();return Ks(J(_r,n),e.flags)});this.settings=n2(()=>this.computeSettings(this.state(),this.defaults(),this.dataset()));this.options=n2(()=>{let e=this.dataset(),n=this.settings(),a=new Set(n.availableItemIds);function i(o,s){return I3(o,e.itemRecord,a,s)}return{categories:I3(e.categoryIds,e.categoryRecord),items:i(e.itemIds),beacons:i(e.beaconIds),belts:i(e.beltIds,e.itemQIds),pipes:i(e.pipeIds),cargoWagons:i(e.cargoWagonIds,e.itemQIds),fluidWagons:i(e.fluidWagonIds,e.itemQIds),fuels:i(e.fuelIds,e.itemQIds),modules:i(e.moduleIds),proliferatorModules:I3(e.proliferatorModuleIds,e.itemRecord,a,new Set,!0),machines:i(e.machineIds),recipes:I3(e.recipeIds,e.recipeRecord,new Set(n.availableRecipeIds)),locations:I3(e.locationIds,e.locationRecord)}});this.beltSpeed=n2(()=>{let e=this.dataset(),n=this.flowRate(),a={[Ir]:n};if(e.beltIds)for(let i of e.beltIds)a[i]=e.beltRecord[i].speed;if(e.pipeIds)for(let i of e.pipeIds)a[i]=e.beltRecord[i].speed;return a});this.beltSpeedTxt=n2(()=>{let e=this.beltSpeed(),n=this.displayRateInfo();return Object.keys(e).reduce((a,i)=>{let o=e[i].mul(n.value);return a[i]=Number(o.toNumber().toFixed(2)).toString(),a},{})});this.modMenuItem=n2(()=>{let e=this.mod();return{icon:"fa-solid fa-database",routerLink:`/${j(e?.id,qt)}/data`,queryParamsHandling:"preserve",label:e?.name}});G2(()=>{let e=this.modId();e&&Ft("set_mod_id",e)}),G2(()=>{let e=this.mod();e&&Ft("set_game",e.game)})}computeDefaults(e,n){if(e?.defaults==null)return;let a=e.defaults;if("presets"in a){let h=j(a.presets.find(A=>A.id===n),j(a.presets[0],{id:0,label:""})),v=[],y=j(h.beacon,a.beacon);if(y){let A=Yt(y),E=e.items.find(T=>T.id===A)?.beacon;if(E){let T=j(h.beaconModule,a.beaconModule),F=[{count:C(E.modules),id:j(T,"")}];v=[{count:C(j(h.beaconCount,0)),id:y,modules:F}]}}let b=j(h.excludedRecipes,a.excludedRecipes),z=j(h.machineRank,a.machineRank),R=j(h.fuelRank,a.fuelRank),I=j(h.moduleRank,a.moduleRank);return{locations:j(h.locations,a.locations),beltId:j(h.belt,a.belt),beltStack:C(j(h.beltStack,a.beltStack)),pipeId:j(h.pipe,a.pipe),cargoWagonId:j(h.cargoWagon,a.cargoWagon),fluidWagonId:j(h.fluidWagon,a.fluidWagon),excludedRecipeIds:j(b,[]),machineRankIds:j(z,[]),fuelRankIds:j(R,[]),moduleRankIds:j(I,[]),beacons:v}}let i=n,o=[],s,l;switch(e.game){case"factorio":{if(s=i===0?void 0:a.moduleRank,a.beacon){let h=e.items.find(v=>v.id===a.beacon)?.beacon;if(h){let v=a.beacon,y=[{count:C(h.modules),id:j(a.beaconModule,"")}];o=[{count:i<2?C.zero:i===2?C(8n):C(12n),id:v,modules:y}]}}break}case"dyson-sphere-program":{s=i===2?a.moduleRank:void 0;break}case"satisfactory":{s=a.moduleRank,l=C(100n);break}case"final-factory":{s=a.moduleRank;break}}let u=i===0?a.minMachineRank:a.maxMachineRank;return{beltId:i===0?a.minBelt:a.maxBelt,pipeId:i===0?a.minPipe:a.maxPipe,cargoWagonId:a.cargoWagon,fluidWagonId:a.fluidWagon,excludedRecipeIds:j(a.excludedRecipes,[]),machineRankIds:j(u,[]),fuelRankIds:j(a.fuelRank,[]),moduleRankIds:j(s,[]),beacons:o,overclock:l}}computeDataset(e,n,a,i){let o=$1(j(e?.categories,[])),s=$1(j(e?.icons,[])),l=$1(j(e?.items,[])),u=$1(j(e?.recipes,[])),h=Wl(j(e?.limitations,{})),v=$1(j(e?.locations,[]));if(a){for(let H of Object.keys(a.categories).filter(W=>o[W]))o[H]=J(o[H],{name:a.categories[H]});for(let H of Object.keys(a.items).filter(W=>l[W]))l[H]=J(l[H],{name:a.items[H]});for(let H of Object.keys(a.recipes).filter(W=>u[W]))u[H]=J(u[H],{name:a.recipes[H]});if(a.locations)for(let H of Object.keys(a.locations).filter(W=>v[W]))v[H]=J(v[H],{name:a.locations[H]})}let y=Object.keys(o),b=Object.keys(s),z=Object.keys(l),R=Object.keys(u),I=Object.keys(v),A=z.map(H=>Ql(l[H])),E=R.map(H=>a8(u[H]));E.filter(H=>!s[H.id]&&!H.icon).forEach(H=>{let W=Object.keys(H.out)[0],P2=l[W];H.icon=P2.icon??W});let T=new Set,F=new Set,Z=o8[j(e?.flags,qt)];if(Z.has("quality")){let H=[1,2,3,5];E.forEach(u2=>{u2.producers=[...u2.producers,...H.flatMap(C2=>u2.producers.map(B2=>r4(B2,C2)))]});let W=A.length,P2=E.length;H.forEach(u2=>{for(let C2=0;C2<W;C2++){let B2=A[C2];if(!Pr(B2))continue;let a1=r4(B2.id,u2);T.add(a1),z.push(a1);let k2=J(B2,{id:a1,quality:u2,icon:j(B2.icon,B2.id)});if(k2.machine?.speed&&k2.machine.entityType&&Yl.has(k2.machine.entityType)){let b1=C(u2).mul(C(3n,10n)).add(C.one).mul(k2.machine.speed);k2.machine=J(k2.machine,{speed:b1})}if(k2.module){let b1=C(u2).mul(C(3n,10n)).add(C.one);for(let A1 of Object.keys(T3))if(k2.module[A1]&&!Gt(k2.module,A1)){let h4=k2.module[A1].mul(b1);h4=h4.trunc(T3[A1]),k2.module=J(k2.module,{[A1]:h4})}}if(k2.beacon){let b1=C(u2).mul(C(2n,15n)).add(C.one).mul(k2.beacon.effectivity);if(k2.beacon=J(k2.beacon,{effectivity:b1}),k2.beacon.usage){let A1=C.one.sub(C(u2).mul(C(1n,6n))).mul(k2.beacon.usage);k2.beacon=J(k2.beacon,{usage:A1})}}if(k2.pipe){let b1=C(u2).mul(C(3n,10n)).add(C.one),A1=k2.pipe.speed.mul(b1);k2.pipe=J(k2.pipe,{speed:A1})}A.push(k2)}for(let C2=0;C2<P2;C2++){let B2=E[C2];if(!n8(B2,l))continue;let a1=r4(B2.id,u2);F.add(a1),R.push(a1);let k2=this.qualityRecord(B2.in,u2,l,B2.flags.has("technology")),b1=B2.flags.has("technology")?B2.out:this.qualityRecord(B2.out,u2,l),A1;B2.catalyst&&(A1=this.qualityRecord(B2.catalyst,u2,l)),E.push(J(B2,{id:a1,in:k2,out:b1,catalyst:A1,quality:u2,icon:j(B2.icon,B2.id)}))}})}let t2=A.filter(u1("beacon")).sort((H,W)=>H.beacon.modules.sub(W.beacon.modules).toNumber()).map(H=>H.id),f2=A.filter(u1("belt")).sort((H,W)=>H.belt.speed.sub(W.belt.speed).toNumber()).map(H=>H.id),b2=A.filter(u1("pipe")).sort((H,W)=>H.pipe.speed.sub(W.pipe.speed).toNumber()).map(H=>H.id),I2=A.filter(u1("cargoWagon")).sort((H,W)=>H.cargoWagon.size.sub(W.cargoWagon.size).toNumber()).map(H=>H.id),Q2=A.filter(u1("fluidWagon")).sort((H,W)=>H.fluidWagon.capacity.sub(W.fluidWagon.capacity).toNumber()).map(H=>H.id),X2=A.filter(u1("machine")).map(H=>H.id),p1=A.filter(u1("module")),O=p1.map(H=>H.id),a2=p1.filter(H=>H.module.sprays!=null).map(H=>H.id),M2=A.filter(u1("fuel")).sort((H,W)=>H.fuel.value.sub(W.fuel.value).toNumber()).map(H=>H.id),O2=A.filter(u1("technology")).map(H=>H.id),N={};for(let H of y){let W=[[]],P2=A.filter(u2=>u2.category===H).sort((u2,C2)=>u2.row-C2.row);if(P2.length){let u2=P2[0].row;for(let C2 of P2)C2.row>u2&&(W.push([]),u2=C2.row),W[W.length-1].push(C2.id);N[H]=W}}let d={};for(let H of y){let W=[[]],P2=E.filter(u2=>u2.category===H).sort((u2,C2)=>u2.row-C2.row);if(P2.length){let u2=P2[0].row;for(let C2 of P2)C2.row>u2&&(W.push([]),u2=C2.row),W[W.length-1].push(C2.id);d[H]=W}}let M={},x={},G={},r2={},Y={},B={},U={},k={},q=A.reduce((H,W)=>(W.beacon&&(M[W.id]=W.beacon),W.belt?x[W.id]=W.belt:W.pipe&&(x[W.id]=W.pipe),W.cargoWagon&&(G[W.id]=W.cargoWagon),W.fluidWagon&&(r2[W.id]=W.fluidWagon),W.machine&&(Y[W.id]=W.machine),W.module&&(B[W.id]=W.module),W.fuel&&(U[W.id]=W.fuel),W.technology&&(k[W.id]=W.technology),H[W.id]=W,H),{}),Q=new Set(z),e2=E.reduce((H,W)=>(Object.keys(W.out).forEach(P2=>{(W.in[P2]??0)<W.out[P2]&&Q.delete(P2)}),H[W.id]=W,H),{});if(Z.has("quality")){let H=[1,2,3,5];for(let W of H)for(let P2 in k){let u2=k[P2];if(u2.prodUpgrades)for(let C2 of u2.prodUpgrades.slice()){let B2=r4(C2,W);F.has(B2)&&u2.prodUpgrades.push(B2)}}}let X=[],l2={};for(let H in k)k[H].prodUpgrades&&(X.push(H),l2[H]=k[H].prodUpgrades);let W2=`url("data/${j(e?.id,qt)}/icons.webp")`;function j2(H,W){return H.reduce((P2,u2)=>{let C2=W[u2],B2=j(C2.icon,u2),a1=C2.iconText,k2=C2.quality;return P2[u2]=U2($({},s[B2]),{file:W2,text:a1,quality:k2}),P2},{})}let pe={system:u8,category:j2(y,o),item:j2(z,q),recipe:j2(R,e2),location:j2(I,v)};return{game:i,modId:j(e?.id,qt),info:Si[i],flags:Z,version:j(e?.version,{}),categoryIds:y,categoryRecord:o,itemCategoryRows:N,recipeCategoryRows:d,iconIds:b,iconRecord:pe,itemIds:z,itemQIds:T,itemRecord:q,noRecipeItemIds:Q,beaconIds:t2,beaconRecord:M,beltIds:f2,pipeIds:b2,beltRecord:x,cargoWagonIds:I2,cargoWagonRecord:G,fluidWagonIds:Q2,fluidWagonRecord:r2,machineIds:X2,machineRecord:Y,moduleIds:O,proliferatorModuleIds:a2,moduleRecord:B,fuelIds:M2,fuelRecord:U,recipeIds:R,recipeQIds:F,recipeRecord:e2,prodUpgradeTechs:X,prodUpgrades:l2,technologyIds:O2,technologyRecord:k,locationIds:I,locationRecord:v,limitations:h,hash:n}}computeSettings(e,n,a){let i=e.researchedTechnologyIds,o=Object.keys(a.technologyRecord),s=new Set(o);if(i!=null&&o.length>0){let M=Array.from(i).filter(x=>s.has(x));s=new Set(M)}let l=e.locationIds,u=n?.locations??Object.keys(a.locationRecord),h=new Set(u);l!=null&&u.length>0&&(h=l);let v=0;a.flags.has("quality")&&(s.has(e8)?v=5:s.has(t8)?v=3:s.has(r8)&&(v=2));let y=a.recipeIds.map(M=>a.recipeRecord[M]).filter(M=>(!M.flags.has("locked")||Array.from(s).some(x=>a.technologyRecord[x].unlockedRecipes?.includes(Yt(M.id))))&&(M.quality==null||M.quality<=v)),b=Array.from(a.noRecipeItemIds).map(M=>a.itemRecord[M]).filter(M=>M.quality==null||M.quality<v).map(M=>M.id),z=new Set(b);y.forEach(M=>{Object.keys(M.in).forEach(x=>z.add(x)),Object.keys(M.out).forEach(x=>z.add(x))});let R=y.filter(M=>(M.locations==null||M.locations.some(x=>h.has(x)))&&M.producers.some(x=>z.has(x)&&(a.machineRecord[x].locations==null||a.machineRecord[x].locations.some(G=>h.has(G))))),I=new Set(R.map(M=>M.id));function A(M,x){if(M=j(M,x),!(!M||!z.has(M)))return M}function E(M,x){return M=j(M,x),M.filter(G=>z.has(G))}let T=n?.beltId,F=A(e.beltId,T),Z=n?.pipeId,t2=A(e.pipeId,Z),f2=n?.cargoWagonId,b2=A(e.cargoWagonId,f2),I2=n?.fluidWagonId,Q2=A(e.fluidWagonId,I2),X2=j(n?.machineRankIds,[]),p1=E(e.machineRankIds,X2).filter(M=>a.machineRecord[M].locations==null||a.machineRecord[M].locations.some(x=>h.has(x))),O=j(n?.fuelRankIds,[]),a2=E(e.fuelRankIds,O),p2=j(n?.moduleRankIds,[]),M2=E(e.moduleRankIds,p2),O2=n?.beacons;O2&&(O2=O2.map(M=>(M.id&&!z.has(M.id)&&(M=J(M,{id:void 0})),M.modules&&(M=J(M,{modules:M.modules.map(x=>(x.id&&!z.has(x.id)&&(x=J(x,{id:""})),x))})),M)).filter(M=>M.id));let N=new Set(n?.excludedRecipeIds),d=j(e.excludedRecipeIds,N);return J(e,{beltId:F,defaultBeltId:T,stack:j(e.stack,n?.beltStack),pipeId:t2,defaultPipeId:Z,cargoWagonId:b2,defaultCargoWagonId:f2,fluidWagonId:Q2,defaultFluidWagonId:I2,excludedRecipeIds:d,defaultExcludedRecipeIds:N,machineRankIds:p1,defaultMachineRankIds:X2,fuelRankIds:a2,defaultFuelRankIds:O,moduleRankIds:M2,defaultModuleRankIds:p2,beacons:this.hydration.hydrateBeacons(e.beacons,O2),overclock:e.overclock??n?.overclock,researchedTechnologyIds:s,locationIds:h,defaultLocationIds:new Set(a.locationIds),availableRecipeIds:I,availableItemIds:z,quality:v})}qualityRecord(e,n,a,i=!1){let o=i?C.one.add(C(n)):C.one;return Object.keys(e).reduce((s,l)=>(a[l].stack?s[r4(l,n)]=e[l].div(o):s[l]=e[l],s),{})}};B4.\u0275fac=function(n){return new(n||B4)},B4.\u0275prov=P({token:B4,factory:B4.\u0275fac,providedIn:"root"});var M1=B4;function d8(t){var r,e,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(e=d8(t[r]))&&(n&&(n+=" "),n+=e)}else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function p8(){for(var t,r,e=0,n="",a=arguments.length;e<a;e++)(t=arguments[e])&&(r=d8(t))&&(n&&(n+=" "),n+=r);return n}var m8=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,h8=p8,g8=(t,r)=>e=>{var n;if(r?.variants==null)return h8(t,e?.class,e?.className);let{variants:a,defaultVariants:i}=r,o=Object.keys(a).map(u=>{let h=e?.[u],v=i?.[u];if(h===null)return null;let y=m8(h)||m8(v);return a[u][y]}),s=e&&Object.entries(e).reduce((u,h)=>{let[v,y]=h;return y===void 0||(u[v]=y),u},{}),l=r==null||(n=r.compoundVariants)===null||n===void 0?void 0:n.reduce((u,h)=>{let z=h,{class:v,className:y}=z,b=In(z,["class","className"]);return Object.entries(b).every(R=>{let[I,A]=R;return Array.isArray(A)?A.includes($($({},i),s)[I]):$($({},i),s)[I]===A})?[...u,v,y]:u},[]);return h8(t,o,l,e?.class,e?.className)};var F3=class F3{transform(r){if(r==null)return"";typeof r=="string"&&(r=C(r)),r instanceof N1&&(r=r.toNumber());let e="";return r>=1e9?(r/=1e9,e="G"):r>=1e6?(r/=1e6,e="M"):r>=1e3&&(r/=1e3,e="k"),r.toLocaleString(void 0,{maximumFractionDigits:2})+e}};F3.\u0275fac=function(e){return new(e||F3)},F3.\u0275pipe=z4({name:"round",type:F3,pure:!0});var Br=F3;function NM(t,r){t&1&&qe(0,"lab-icon",1),t&2&&st("value","q"+r)}function EM(t,r){t&1&&(x0(0,"span",2),R0(1),T0(2,"round"),D0()),t&2&&(ye(),A0(I0(2,1,r)))}var j4=class j4{constructor(){this.settingsStore=w(M1);this.value=e1.required();this.type=e1.required();this.quantity=e1();this.icon=n2(()=>this.settingsStore.dataset().iconRecord[this.type()][this.value()])}};j4.\u0275fac=function(e){return new(e||j4)},j4.\u0275cmp=v1({type:j4,selectors:[["lab-icon"]],hostAttrs:[1,"inline-flex","shrink-0","relative","size-8"],inputs:{value:[1,"value"],type:[1,"type"],quantity:[1,"quantity"]},decls:3,vars:6,consts:[[1,"absolute","size-16","origin-top-left","scale-50"],["type","system",3,"value"],[1,"text-shadow-solid","absolute","right-0","bottom-0","text-base/4","font-bold","text-white","text-shadow-black"]],template:function(e,n){if(e&1&&(qe(0,"span",0),$e(1,NM,1,1,"lab-icon",1),$e(2,EM,3,3,"span",2)),e&2){let a,i;ea("background-image",n.icon().file)("background-position",n.icon().position),ye(),We((a=n.icon().quality)?1:-1,a),ye(),We((i=n.quantity())?2:-1,i)}},dependencies:[j4,Br],encapsulation:2,changeDetection:0});var jr=j4;var RM=["lab-button",""];function AM(t,r){t&1&&qe(0,"fa-icon",0),t&2&&st("icon",r)}function TM(t,r){if(t&1&&qe(0,"lab-icon",2),t&2){let e=Kn();st("type",e)("value",r)}}function IM(t,r){if(t&1&&$e(0,TM,1,2,"lab-icon",2),t&2){let e,n=Kn();We((e=n.icon())?0:-1,e)}}function OM(t,r){t&1&&(x0(0,"span",1),R0(1),T0(2,"translate"),D0()),t&2&&(ye(),A0(I0(2,1,r)))}var PM=g8("overflow-hidden items-center gap-1 transition-colors rounded-xs cursor-pointer focus-visible:outline",{variants:{color:{gray:"outline-brand-700 focus-visible:border-brand-700",brand:"outline-gray-300 focus-visible:border-gray-300"},border:{true:"border"},size:{small:"min-h-8 text-sm font-light opacity-60",standard:"min-h-9",large:"min-h-11 text-2xl font-light"},iconOnly:{true:"justify-center",false:"px-3"},hide:{true:"hidden",false:"inline-flex"}},compoundVariants:[{color:"gray",border:!0,class:"bg-gray-950 hover:bg-gray-700 border-gray-700"},{color:"brand",border:!0,class:"bg-brand-950 hover:bg-brand-700 border-brand-700"},{color:"gray",border:!1,class:"hover:bg-gray-800"},{color:"brand",border:!1,class:"text-brand-50 hover:bg-brand-950"},{size:"small",iconOnly:!0,class:"min-w-8"},{size:"standard",iconOnly:!0,class:"min-w-9"},{size:"large",iconOnly:!0,class:"min-w-11"}]}),B3=class B3{constructor(){this.text=e1("");this.faIcon=e1();this.iconType=e1();this.icon=e1();this.color=e1("gray");this.border=e1(!0);this.size=e1("standard");this.hide=e1(!1);this.hostClass=n2(()=>PM({iconOnly:!this.text(),color:this.color(),border:this.border(),size:this.size(),hide:this.hide()}))}};B3.\u0275fac=function(e){return new(e||B3)},B3.\u0275cmp=v1({type:B3,selectors:[["","lab-button",""],["","labButton",""]],hostVars:2,hostBindings:function(e,n){e&2&&E0(n.hostClass())},inputs:{text:[1,"text"],faIcon:[1,"faIcon"],iconType:[1,"iconType"],icon:[1,"icon"],color:[1,"color"],border:[1,"border"],size:[1,"size"],hide:[1,"hide"]},exportAs:["labButton"],attrs:RM,decls:3,vars:3,consts:[[3,"icon"],[1,"line-clamp-1","grow","text-center"],[3,"type","value"]],template:function(e,n){if(e&1&&($e(0,AM,1,1,"fa-icon",0),$e(1,IM,1,1),$e(2,OM,3,3,"span",1)),e&2){let a,i,o;We((a=n.faIcon())?0:-1,a),ye(),We((i=n.iconType())?1:-1,i),ye(),We((o=n.text())?2:-1,o)}},dependencies:[Fl,jr,br],encapsulation:2,changeDetection:0});var v8=B3;var U4=class U4{constructor(){this.http=w(p3);this.datasetsStore=w(O3);this.preferencesStore=w(le);this.settingsStore=w(M1);this.cacheData={};this.cacheI18n={};this.config$=this.http.get("release.json").pipe(v4(1));this.version$=this.config$.pipe(L2(r=>`FactorioLab ${r.version||"(dev)"}`));G2(()=>{let r=this.settingsStore.modId();r!=null&&this.requestData(r).subscribe()}),G2(()=>{let r=this.settingsStore.modId(),e=this.preferencesStore.language();r==null||e==="en"||this.requestI18n(r,e).subscribe()})}requestData(r){return this.cacheData[r]||(this.cacheData[r]=ge([this.http.get(`data/${r}/data.json`),this.http.get(`data/${r}/hash.json`)]).pipe(Z2(([e,n])=>{this.datasetsStore.loadData(r,e,n)}),ve(()=>B1),v4())),this.cacheData[r]}requestI18n(r,e){return this.cacheI18n[r]||(this.cacheI18n[r]={}),this.cacheI18n[r][e]||(this.cacheI18n[r][e]=this.http.get(`data/${r}/i18n/${e}.json`).pipe(ve(()=>B1),Z2(n=>{this.datasetsStore.loadI18n(r,e,n)}),v4())),this.cacheI18n[r][e]}};U4.\u0275fac=function(e){return new(e||U4)},U4.\u0275prov=P({token:U4,factory:U4.\u0275fac,providedIn:"root"});var _8=U4;var x8=I6(L8(),1);function o4(t){return t.unit===3}var IA=[{value:0,label:"options.objectiveType.output",tooltip:"options.objectiveType.outputTooltip"},{value:1,label:"options.objectiveType.input",tooltip:"options.objectiveType.inputTooltip"},{value:2,label:"options.objectiveType.maximize",tooltip:"options.objectiveType.maximizeTooltip"},{value:3,label:"options.objectiveType.limit",tooltip:"options.objectiveType.limitTooltip"}];var C8=C(1n,10n);var w8=s3()?{}:{msgLevel:"off"};var H4=class H4{solve(r,e,n,a){if(a)return{steps:[],resultType:"paused"};if(r.length===0)return{steps:[],resultType:"skipped"};let i=this.getState(r,e,n),o=this.getSolution(i);return o.resultType==="solved"&&this.updateSteps(o,i),{steps:i.steps,resultType:o.resultType,returnCode:o.returnCode,simplexStatus:o.simplexStatus,unboundedRecipeId:o.unboundedRecipeId,time:o.time,cost:o.cost}}addItemValue(r,e,n=C.zero,a="out"){if(r[e]){let i=r[e][a];i?r[e][a]=i.add(n):r[e][a]=n}else r[e]={out:C.zero,[a]:n}}getState(r,e,n){let a={objectives:r,recipeObjectives:r.filter(i=>o4(i)&&[0,2].includes(i.type)),steps:[],recipes:{},itemValues:{},recipeLimits:{},unproduceableIds:new Set,excludedIds:e.excludedItemIds,itemIds:n.itemIds.filter(i=>!e.excludedItemIds.has(i)),maximizeType:e.maximizeType,requireMachinesOutput:e.requireMachinesOutput,costs:e.costs,data:n,hasSurplusCost:e.costs.surplus.gt(C.zero)};for(let i of r)if(o4(i))switch(i.type){case 0:case 2:{for(let o of Object.keys(i.recipe.out))this.addItemValue(a.itemValues,o),this.parseItemRecursively(o,a);this.parseRecipeRecursively(i.recipe,a);break}case 1:{for(let o of Object.keys(i.recipe.out).filter(s=>i.recipe.produces.has(s))){let s=i.value.mul(i.recipe.output[o]);this.addItemValue(a.itemValues,o,s,"in")}break}case 3:{let o=a.recipeLimits[i.targetId];(o==null||o.gt(i.value))&&(a.recipeLimits[i.targetId]=i.value);break}}else switch(i.type){case 0:{this.addItemValue(a.itemValues,i.targetId,i.value),this.parseItemRecursively(i.targetId,a);break}case 1:{this.addItemValue(a.itemValues,i.targetId,i.value,"in");break}case 2:{this.addItemValue(a.itemValues,i.targetId,i.value,"max"),this.addItemValue(a.itemValues,i.targetId),this.parseItemRecursively(i.targetId,a);break}case 3:{this.addItemValue(a.itemValues,i.targetId),this.parseItemRecursively(i.targetId,a);let o=a.itemValues[i.targetId].lim;(o==null||o.gt(i.value))&&(a.itemValues[i.targetId].lim=i.value);break}}return this.simplifyMaximizeValues(a),this.addSurplusVariables(a),this.parseUnproduceable(a),a}recipeMatches(r,e){let a=(e.hasSurplusCost?e.data.itemAvailableIoRecipeIds:e.data.itemAvailableRecipeIds)[r].filter(i=>!e.recipes[i]).map(i=>e.data.adjustedRecipe[i]);return a.forEach(i=>e.recipes[i.id]=i),a}itemMatches(r,e){let n=new Set;Object.keys(r.in).filter(a=>e.itemValues[a]?.out==null).forEach(a=>n.add(a)),e.hasSurplusCost&&Object.keys(r.out).filter(a=>e.itemValues[a]?.out==null).forEach(a=>n.add(a));for(let a of n)this.addItemValue(e.itemValues,a);return Array.from(n)}parseRecipeRecursively(r,e){let n=this.itemMatches(r,e);for(let a of n.filter(i=>e.itemIds.includes(i)))this.parseItemRecursively(a,e)}parseItemRecursively(r,e){let n=this.recipeMatches(r,e);for(let a of n)this.parseRecipeRecursively(a,e)}simplifyMaximizeValues(r){let e=Object.keys(r.itemValues).map(a=>r.itemValues[a]),n=e.reduce((a,i)=>i.max?a.add(i.max):a,C.zero);e.forEach(a=>{a.max&&(a.max=a.max.div(n))})}addSurplusVariables(r){let e=Object.keys(r.recipes).map(n=>r.recipes[n]);for(let n of e)for(let a of Object.keys(n.out).filter(i=>r.itemValues[i]?.out==null))this.addItemValue(r.itemValues,a)}parseUnproduceable(r){let e=Object.keys(r.itemValues),n=new Set(Object.keys(r.recipes));r.unproduceableIds=new Set(e.filter(a=>r.data.itemAvailableRecipeIds[a].every(i=>!n.has(i))))}getSolution(r){let e=this.glpk(r);if(e.error)return{resultType:"failed",returnCode:e.returnCode,simplexStatus:e.status,unboundedRecipeId:e.unboundedRecipeId,surplus:{},unproduceable:{},excluded:{},recipes:{},time:0,cost:C.zero,itemIds:[],recipeIds:[],unproduceableIds:new Set,excludedIds:new Set};let n=Object.keys(r.itemValues),a=Object.keys(r.recipes),{unproduceableIds:i,excludedIds:o}=r,{surplus:s,unproduceable:l,excluded:u,recipes:h}=e;return{resultType:"solved",surplus:s,recipes:h,unproduceable:l,excluded:u,time:e.time,itemIds:n,recipeIds:a,unproduceableIds:i,excludedIds:o,cost:e.cost}}itemCost(r,e,n){let a=n.data.itemRecord[r]?.stack==null&&n.data.flags.has("fluidCostRatio")?C8:C.one,i=n.costs[e];return a.mul(i).toNumber()}glpk(r){let e=Object.keys(r.itemValues),n=Object.keys(r.recipes),a=new x8.Model({sense:"min"}),i={},o={},s={},l={},u={},h={},v={},y={},b={},z={},R={},I={obj:r.costs.maximize.toNumber(),lb:0,name:"maximize"},A=a.addVar(I),E=C.zero;for(let O of n){let a2={obj:(r.recipes[O].cost??C.zero).toNumber(),lb:0,name:O};r.recipeLimits[O]&&(a2.ub=r.recipeLimits[O].toNumber()),i[O]=a.addVar(a2)}for(let O of r.recipeObjectives){let a2={lb:0,name:O.id};if(O.type===0&&(a2.ub=O.value.toNumber(),a2.lb=O.value.toNumber()),o[O.id]=a.addVar(a2),O.type===2)switch(r.maximizeType){case 0:{let p2={obj:O.value.mul(r.costs.maximize).toNumber(),lb:0,name:O.id};y[O.id]=a.addVar(p2);let O2={coeffs:[[o[O.id],1],[y[O.id],-1]],lb:0,name:O.id};R[O.id]=a.addConstr(O2);break}case 1:{E=E.add(O.value);let M2={coeffs:[[o[O.id],1],[A,O.value.inverse().toNumber()]],lb:0,name:O.id};R[O.id]=a.addConstr(M2);break}}}for(let O of r.unproduceableIds){let p2={obj:this.itemCost(O,"unproduceable",r),lb:0,name:O};l[O]=a.addVar(p2)}for(let O of r.excludedIds){let p2={obj:this.itemCost(O,"excluded",r),lb:0,name:O};u[O]=a.addVar(p2)}for(let O of e){let p2={obj:this.itemCost(O,"surplus",r),lb:0,name:O};h[O]=a.addVar(p2);let M2=r.itemValues[O];if(M2.in){let O2={lb:0,ub:M2.in.toNumber(),name:O};s[O]=a.addVar(O2)}}let T={};for(let O of e){let a2=r.itemValues[O],p2=[],M2=[];r.data.itemAvailableIoRecipeIds[O].forEach(N=>{let d=r.recipes[N];if(d==null)return;let M=d.output[O];M?.nonzero()&&p2.push([i[N],M.toNumber()]),d.in[O]&&M2.push([i[N],d.in[O].div(d.time).toNumber()])});for(let N of r.recipeObjectives){let d=N.recipe,M=d.output[O];M?.nonzero()&&(M.gt(C.zero)&&r.requireMachinesOutput?(T[O]??={},T[O][N.id]=M):p2.push([o[N.id],M.toNumber()])),d.in[O]&&M2.push([o[N.id],d.in[O].div(d.time).toNumber()])}if(r.unproduceableIds.has(O)&&p2.push([l[O],1]),r.excludedIds.has(O)&&p2.push([u[O],1]),a2.in&&p2.push([s[O],1]),p2.push([h[O],-1]),a2.max!=null)switch(r.maximizeType){case 0:{let N={obj:a2.max.mul(r.costs.maximize).toNumber(),lb:0,name:O};v[O]=a.addVar(N),p2.push([v[O],-1]);break}case 1:{E=E.add(a2.max),p2.push([A,a2.max.inverse().toNumber()]);break}}let O2={coeffs:p2,lb:a2.out.toNumber(),ub:a2.out.toNumber(),name:O};if(b[O]=a.addConstr(O2),a2.lim){let N={coeffs:M2,ub:a2.lim.toNumber(),name:O};z[O]=a.addConstr(N)}}A.obj=A.obj*E.toNumber();let F=Date.now(),[Z,t2]=this.glpkSimplex(a),f2=Date.now()-F,b2={},I2={},Q2={},X2={},p1=C(a.value);if(Z!=="ok"||t2!=="optimal"){let O;try{O=a.ray}catch{}let a2;return O&&$l(i,O)&&(a2=O.name),{returnCode:Z,status:t2,unboundedRecipeId:a2,time:f2,surplus:b2,unproduceable:I2,excluded:Q2,recipes:X2,cost:p1,error:!0}}for(let O of e){let a2=r.itemValues[O],p2=C(h[O].value);if(p2.nonzero()&&(b2[O]=p2),T[O])for(let M2 of Object.keys(T[O])){let O2=T[O][M2],N=o[M2].value,M=C(N).mul(O2);a2.out=a2.out.add(M)}if(a2.max!=null)switch(r.maximizeType){case 1:{let M2=A.value,N=C(M2).mul(a2.max);a2.out=a2.out.add(N);break}case 0:{let M2=v[O].value,O2=C(M2);a2.out=a2.out.add(O2);break}}}for(let O of n){let a2=C(i[O].value);a2.nonzero()&&(X2[O]=a2)}for(let O of r.unproduceableIds){let a2=C(l[O].value);a2.nonzero()&&(I2[O]=a2)}for(let O of r.excludedIds){let a2=C(u[O].value);a2.nonzero()&&(Q2[O]=a2)}return r.recipeObjectives=r.recipeObjectives.map(O=>J(O,{value:C(o[O.id].value)})),{returnCode:Z,status:t2,time:f2,surplus:b2,unproduceable:I2,excluded:Q2,recipes:X2,cost:p1,error:!1}}glpkSimplex(r){return[r.simplex(w8),r.status]}updateSteps(r,e){for(let n of Object.keys(e.itemValues))this.addItemStep(n,r,e);this.assignRecipes(r,e);for(let n of Object.keys(r.recipes).map(a=>e.recipes[a]))this.addRecipeStep(n,r,e);for(let n of e.recipeObjectives)this.addRecipeStep(n.recipe,r,e,n);e.steps.sort((n,a)=>(n.output!=null?0:1)-(a.output!=null?0:1))}addItemStep(r,e,n){let a=n.itemValues[r],i=n.steps,o=C.zero;n.data.itemAvailableIoRecipeIds[r].forEach(l=>{if(e.recipes[l]==null)return;let h=n.recipes[l];if(h?.out[r]==null)return;let v=h.out[r].mul(e.recipes[h.id]).div(h.time);o=o.add(v)});let s=n.itemValues[r].in;s&&(o=o.add(s));for(let l of n.recipeObjectives){let u=l.recipe;u.out[r]&&(o=o.add(u.out[r].mul(l.value).div(u.time)))}if(e.unproduceable[r]&&(o=o.add(e.unproduceable[r])),e.excluded[r]&&(o=o.add(e.excluded[r])),o.nonzero()){o=o.simplify();let l={id:i.length.toString(),itemId:r,items:o};if(a.out.gt(C.zero)&&(l.output=a.out,l.parents={"":l.output}),i.push(l),e.surplus[r]?.nonzero()){let u=o.sub(e.surplus[r]).simplify();l.surplus=u.isZero()?l.items:e.surplus[r]}}}assignRecipes(r,e){let n=e.steps,a=Object.keys(r.recipes).map(s=>e.recipes[s]);a.push(...e.recipeObjectives.map(s=>s.recipe));for(let s of n.filter(l=>l.recipeId==null)){let l=a.findIndex(u=>u.id===s.itemId&&u.produces.has(s.itemId));l!==-1&&(s.recipeId=a[l].id,a.splice(l,1))}let i={};for(let s of n.filter(l=>l.recipeId==null))if(s.itemId){let l=s.itemId;i[l]=a.filter(u=>u.output[l]?.gt(C.zero)).sort((u,h)=>h.output[l].sub(u.output[l]).toNumber()).map(u=>u.id)}let o=Object.keys(i).sort((s,l)=>i[s].length-i[l].length);for(let s of o)for(let l of i[s])if(!n.some(u=>u.recipeId===l)){let u=n.find(h=>h.itemId===s);if(u){u.recipeId=l;break}}}addRecipeStep(r,e,n,a){let i=n.steps,o=i.filter(l=>l.machines==null),s=o.find(l=>l.recipeId===r.id);if(s??=o.find(l=>l.recipeId==null&&l.itemId!=null&&r.produces.has(l.itemId)),!s){let l=i.findIndex(u=>u.itemId&&r.produces.has(u.itemId));s={id:i.length.toString()},l!==-1&&l<i.length-1?i.splice(l+1,0,s):i.push(s)}s.recipeId=r.id,s.recipe=r,a?(s.machines=a.value,s.recipeObjectiveId=a.id):s.machines=e.recipes[r.id].add(s.machines??C.zero),this.adjustPowerPollution(s,r,n.data)}adjustPowerPollution(r,e,n){if(r.machines?.nonzero()&&!e.part){if(e.drain?.nonzero()||e.consumption?.nonzero()){if(r.power=C.zero,e.drain?.nonzero()){let a=r.machines.ceil();n.flags.has("inactiveDrain")&&(a=a.sub(r.machines)),r.power=r.power.add(a.mul(e.drain))}e.consumption?.nonzero()&&(r.power=r.power.add(r.machines.mul(e.consumption)))}e.pollution?.nonzero()&&(r.pollution=r.machines.mul(e.pollution))}}};H4.\u0275fac=function(e){return new(e||H4)},H4.\u0275prov=P({token:H4,factory:H4.\u0275fac,providedIn:"root"});var Vr=H4;var V4=class V4{constructor(){this.hydration=w(i4);this.options=w(a4);this.maxFactor=C(4n);this.minFactor=C(1n,5n);this.pollutionFactor=C(60n);this.minFactorioRecipeTime=C(1n,60n)}adjustRecipe(r,e,n,a,i){let o=J(i8(i.recipeRecord[r]),{effects:{consumption:C.one,pollution:C.one,productivity:C.one,quality:C.zero,speed:C.one},produces:new Set,output:{}}),{proliferatorSprayId:s,miningBonus:l,researchBonus:u,netProductionOnly:h}=a,v=l.div(C(100n)),y=u.add(C(100n)).div(C(100n));if(e.machineId!=null){let b=i.machineRecord[e.machineId];if(b.speed!=null)o.time=o.time.div(b.speed);else{let T=[...Object.keys(o.in).filter(Z=>o.in[Z].nonzero()),...Object.keys(o.out).filter(Z=>o.out[Z].nonzero())].map(Z=>{let t2=n[Z],f2=t2.beltId;if(f2!=null)return i.beltRecord[f2].speed.mul(j(t2.stack,C.one))}).filter(qa),F;for(let Z of T)(F==null||F.lt(Z))&&(F=Z);F!=null&&!F.isZero()&&(o.time=o.time.div(F))}o.flags.has("technology")&&i.flags.has("researchSpeed")&&(o.time=o.time.div(y));let z=o.effects;if(o.flags.has("mining")&&(z.productivity=z.productivity.add(v)),b.baseEffect){let E=Object.keys(b.baseEffect);for(let T of E)b.baseEffect[T]&&(z[T]=z[T].add(b.baseEffect[T]))}e.productivity&&(z.productivity=z.productivity.add(e.productivity.div(C(100n))));let R={};if(e.modules)for(let{id:E,count:T}of e.modules){if(E==null||T==null)continue;let F=i.moduleRecord[E];if(F==null)continue;let Z;if(i.flags.has("somersloop")&&E===Kl&&b.modules instanceof N1&&(Z=b.modules),F.speed&&(z.speed=z.speed.add(F.speed.mul(T))),F.productivity){let t2=F.productivity.mul(T);Z&&(t2=t2.div(Z)),z.productivity=z.productivity.add(t2)}if(F.consumption){let t2=F.consumption.mul(T);Z&&(t2=t2.div(Z).add(C.one),t2=t2.mul(t2).sub(C.one)),z.consumption=z.consumption.add(t2)}if(F.pollution&&(z.pollution=z.pollution.add(F.pollution.mul(T))),F.quality&&(z.quality=z.quality.add(F.quality.mul(T))),F.sprays){let t2=F.sprays,f2=i.moduleRecord[s];f2&&(t2=t2.mul(C.one.add(j(f2.productivity,C.zero))).floor());let b2=F.proliferator;b2&&(R[b2]||(R[b2]=C.zero),R[b2]=R[b2].add(t2))}}if(e.beacons!=null){let E;if(i.flags.has("diminishingBeacons")){let T=e.beacons.reduce((F,Z)=>F.add(j(Z.count,C.zero)),C.zero);E=Math.round(T.toNumber())-1}for(let T of e.beacons){if(!T.count?.nonzero()||T.id==null||T.modules==null)continue;let F=i.beaconRecord[T.id],Z=C.one;F.profile&&E&&E>=0&&E<F.profile.length&&(Z=F.profile[E]);let t2=T.count.mul(Z),f2={};for(let{id:b2,count:I2}of T.modules){if(!b2||I2==null)continue;let Q2=i.moduleRecord[b2];for(let X2 of Zl){if(!Q2[X2])continue;let p1=Q2[X2].mul(I2).mul(F.effectivity).trunc(T3[X2]),O=f2[X2];f2[X2]=O?O.add(p1):p1}}for(let b2 of Object.keys(f2)){let I2=f2[b2];if(I2==null||I2.isZero())continue;let Q2=I2.mul(t2).round(T3[b2]);z[b2]=z[b2].add(Q2)}}}let I;e.overclock&&!e.overclock.eq(C(100n))&&(I=e.overclock.div(C(100n)),z.speed=z.speed.mul(I)),i.flags.has("minimumFactor")&&(z.speed.lt(this.minFactor)&&(z.speed=this.minFactor),z.consumption.lt(this.minFactor)&&(z.consumption=this.minFactor),z.pollution.lt(this.minFactor)&&(z.pollution=this.minFactor)),i.flags.has("maximumFactor")&&!o.flags.has("mining")&&z.productivity.gt(this.maxFactor)&&(z.productivity=this.maxFactor),o.time=o.time.div(z.speed),o.time.lt(this.minFactorioRecipeTime)&&i.flags.has("minimumRecipeTime")&&(o.time=this.minFactorioRecipeTime);for(let E of Object.keys(o.out))if(o.catalyst?.[E]){let T=o.catalyst[E],F=o.out[E].sub(T);F.gt(C.zero)&&(o.out[E]=T.add(F.mul(z.productivity)))}else o.out[E]=o.out[E].mul(z.productivity);o.drain=b.drain;let A=o.usage??b.usage??C.zero;if(I&&(A?.gt(C.zero)?A=A.mul(I.pow(1.321928)):A=A.mul(I)),A=A.mul(z.consumption),o.consumption=b.type==="electric"?A:C.zero,i.flags.has("consumptionAsDrain")&&o.consumption?.nonzero()&&(o.drain=o.consumption,delete o.consumption),o.pollution=b.pollution&&e.machineId!==Gl?b.pollution.div(this.pollutionFactor).mul(z.pollution).mul(z.consumption):C.zero,b.ingredientUsage)for(let E of Object.keys(o.in))o.in[E]=o.in[E].mul(b.ingredientUsage);if(i.flags.has("quality")&&z.quality.gt(C.zero))for(let E of Object.keys(o.out)){let T=i.itemRecord[E];if(!Pr(T))continue;let Z=o.out[E],t2=Yt(E),f2;for(let b2=o.quality??0;b2<=a.quality;b2++){if(b2===4)continue;let I2=r4(t2,b2);f2==null?(Z=Z.mul(z.quality),f2=I2):(o.out[f2]=o.out[f2].sub(Z),o.out[I2]=Z,Z=Z.mul(C(1n,10n)),f2=I2)}}if(b.consumption){let E=b.consumption;for(let T of Object.keys(E)){let F=o.time.div(C(60n)).mul(E[T]);o.in[T]=(o.in[T]||C.zero).add(F)}}if(e.fuelId){let E=i.fuelRecord[e.fuelId];if(E){let T=o.time.mul(A).div(E.value).div(C(1000n));o.in[e.fuelId]=(o.in[e.fuelId]||C.zero).add(T),E.result&&(o.out[E.result]=(o.out[E.result]||C.zero).add(T))}}if(Object.keys(R).length>0){let E={};for(let F of Object.keys(R)){E[F]=C.zero;for(let Z of Object.keys(o.in)){let t2=R[F],f2=o.in[Z].div(t2);E[F]=E[F].add(f2)}}let T=i.moduleRecord[s];if(T?.sprays){let F=T.sprays.mul(C.one.add(j(T.productivity,C.zero))).floor().sub(C.one),Z=C.zero;for(let f2 of Object.keys(E)){let b2=E[f2].div(F);Z=Z.add(b2)}let t2=T.proliferator;t2&&(E[t2]||(E[t2]=C.zero),E[t2]=E[t2].add(Z))}for(let F of Object.keys(E))o.in[F]?o.in[F]=o.in[F].add(E[F]):o.in[F]=E[F]}}if(h)for(let b of Object.keys(o.out)){let z=o.out[b];if(o.in[b]!=null){let R=o.in[b];R.gt(z)?(o.in[b]=R.sub(z),delete o.out[b]):R.lt(z)?(o.out[b]=z.sub(R),delete o.in[b]):(delete o.in[b],delete o.out[b])}}return o}adjustLaunchRecipeObjective(r,e,n){if(!r.part)return;let a=e[r.part].machineId;if(!a)return;let i=n.machineRecord[a];if(!i?.silo)return;let o=n.adjustedRecipe[r.part],s=Object.keys(o.out)[0],l=i.silo.parts.div(o.out[s]);r.time=o.time.mul(l)}adjustSiloRecipes(r,e,n){for(let a of Object.keys(r)){let i=e[a].machineId;if(!i)continue;let o=n.machineRecord[i],s=r[a];if(!o?.silo||s.part)continue;let l=Object.keys(s.out)[0],u=o.silo.parts.div(s.out[l]);for(let h of Object.keys(r).filter(v=>r[v].part===a&&e[v].machineId===i))r[h].time=s.time.mul(u).add(o.silo.launch);s.time=s.time.mul(u).add(o.silo.launch).div(u)}return r}allowsModules(r,e){return(!e.silo||!r.part)&&!!e.modules}adjustDataset(r,e,n,a){let i=Array.from(n.availableRecipeIds),o=this.adjustRecipes(i,r,e,n,a);return this.adjustCosts(i,o,r,n.costs,a),this.finalizeData(i,o,n,a)}adjustRecipes(r,e,n,a,i){return this.adjustSiloRecipes(r.reduce((o,s)=>(o[s]=this.adjustRecipe(s,e[s],n,a,i),o),{}),e,i)}adjustCosts(r,e,n,a,i){r.map(o=>e[o]).forEach(o=>{let s=n[o.id];if(s.cost)o.cost=s.cost;else if(o.cost){let l=Object.keys(o.out).reduce((u,h)=>u.add(o.out[h]),C.zero).div(o.time);o.cost=l.mul(o.cost).mul(a.factor)}else if(o.cost=a.machine,s.machineId!=null&&a.footprint.nonzero()){let l=i.machineRecord[s.machineId];l.size!=null&&(o.cost=o.cost.mul(C(l.size[0]*l.size[1])))}o.flags.has("recycling")&&(o.cost=o.cost.mul(a.recycling))})}finalizeData(r,e,n,a){let i={},o={},s={};a.itemIds.forEach(h=>{i[h]=[],o[h]=[],s[h]=[]}),r.map(h=>e[h]).forEach(h=>{Ni(h),Object.keys(h.out).forEach(v=>i[v].push(h.id)),n.excludedRecipeIds.has(h.id)||(h.produces.forEach(v=>o[v].push(h.id)),Object.keys(h.output).forEach(v=>s[v].push(h.id)))});let l={},u=!1;do u=!1,a.itemIds.forEach(h=>{o[h]=o[h].filter(v=>{let y=e[v],b=Object.keys(y.in).every(z=>{if(n.excludedItemIds.has(z)||o[z].length===0||y.produces.has(z))return!0;let R=o[z].map(I=>e[I]).some(I=>I.output[h]==null||I.output[h].mul(y.output[z]).div(I.output[z]).lte(y.output[h]));return R||(l[z]==null?l[z]=[[h,v]]:l[z].push([h,v])),R});return b||(u=!0),b}),o[h].length===0&&l[h]?.length&&(l[h].forEach(([v,y])=>o[v].push(y)),delete l[h],u=!0)});while(u);return J(a,{adjustedRecipe:e,itemRecipeIds:i,itemAvailableRecipeIds:o,itemAvailableIoRecipeIds:s})}computeRecipeSettings(r,e,n,a,i){r.machineOptions=this.options.machineOptions(e,a,i),r.defaultMachineId=this.options.bestMatch(r.machineOptions,a.machineRankIds),r.machineId=j(r.machineId,r.defaultMachineId);let o=i.machineRecord[r.machineId],s=n[r.machineId];if(e.flags.has("burn")?(r.defaultFuelId=Object.keys(e.in)[0],r.fuelId=r.defaultFuelId):o.type==="burner"?(r.defaultFuelId=s?.fuelId,r.fuelId=j(r.fuelId,r.defaultFuelId),r.fuelOptions=s?.fuelOptions):delete r.fuelId,o!=null&&this.allowsModules(e,o)?(r.moduleOptions=this.options.moduleOptions(o,a,i,e.id),r.modules=this.hydration.hydrateModules(r.modules,r.moduleOptions,a.moduleRankIds,o.modules,s.modules),r.beacons=this.hydration.hydrateBeacons(r.beacons,s.beacons)):(delete r.modules,delete r.beacons),r.beacons)for(let l of r.beacons)l.total!=null&&(l.count==null||l.count.isZero())&&delete l.total;r.defaultOverclock=s?.overclock,r.overclock=j(r.overclock,r.defaultOverclock)}adjustObjective(r,e,n,a,i,o){if(!o4(r))return r;let s=J(r),l=o.recipeRecord[s.targetId];return s.productivity=n[s.targetId].productivity,this.computeRecipeSettings(s,l,a,i,o),s.recipe=this.adjustRecipe(s.targetId,s,e,i,o),this.adjustLaunchRecipeObjective(s.recipe,n,o),Ni(s.recipe),s}};V4.\u0275fac=function(e){return new(e||V4)},V4.\u0275prov=P({token:V4,factory:V4.\u0275fac,providedIn:"root"});var j3=V4;var s4=class s4 extends V1{constructor(){super(...arguments);this.settingsStore=w(M1);this.settings=n2(()=>this.computeItemsSettings(this.state(),this.settingsStore.settings(),this.settingsStore.dataset()));this.itemsModified=n2(()=>{let e=this.state();return{belts:Object.keys(e).some(n=>e[n].beltId!=null),wagons:Object.keys(e).some(n=>e[n].wagonId!=null)}})}computeItemsSettings(e,n,a){let i={};for(let o of a.itemIds.map(s=>a.itemRecord[s])){let s=e[o.id],l=this.defaultBelt(o,n),u=this.defaultStack(o,n),h=this.defaultWagon(o,n),v=j(s?.beltId,l),y=j(s?.stack,u),b=j(s?.wagonId,h);i[o.id]={beltId:v,defaultBeltId:l,stack:y,defaultStack:u,wagonId:b,defaultWagonId:h}}return i}defaultBelt(e,n){return e.stack?n.beltId:n.pipeId?n.pipeId:Ir}defaultStack(e,n){return e.stack==null||n.stack==null?C.one:e.stack.lt(n.stack)?e.stack:n.stack}defaultWagon(e,n){return e.stack?n.cargoWagonId:n.fluidWagonId}};s4.\u0275fac=(()=>{let e;return function(a){return(e||(e=h1(s4)))(a||s4)}})(),s4.\u0275prov=P({token:s4,factory:s4.\u0275fac,providedIn:"root"});var c4=s4;var l4=class l4 extends V1{constructor(){super(...arguments);this.hydration=w(i4);this.options=w(a4);this.settingsStore=w(M1);this.settings=n2(()=>this.computeMachinesSettings(this.state(),this.settingsStore.settings(),this.settingsStore.dataset()))}computeMachinesSettings(e,n,a){let i={};for(let o of a.machineIds){let s=a.machineRecord[o],l=J(e[o]);s.type==="burner"?(l.fuelOptions=this.options.fuelOptions(s,n,a),l.defaultFuelId=this.options.bestMatch(l.fuelOptions,n.fuelRankIds),l.fuelId=j(l?.fuelId,l.defaultFuelId)):delete l.fuelId,s.modules?(l.moduleOptions=this.options.moduleOptions(s,n,a),l.modules=this.hydration.hydrateModules(l.modules,l.moduleOptions,n.moduleRankIds,s.modules),l.beacons=this.hydration.hydrateBeacons(l.beacons,n.beacons)):(delete l.modules,delete l.beacons),l.defaultOverclock=n.overclock,l.overclock=j(l.overclock,l.defaultOverclock),i[o]=l}return i}};l4.\u0275fac=(()=>{let e;return function(a){return(e||(e=h1(l4)))(a||l4)}})(),l4.\u0275prov=P({token:l4,factory:l4.\u0275fac,providedIn:"root"});var U3=l4;function $r(t,r){let e;if(r===void 0)for(let n of t)n!=null&&(e<n||e===void 0&&n>=n)&&(e=n);else{let n=-1;for(let a of t)(a=r(a,++n,t))!=null&&(e<a||e===void 0&&a>=a)&&(e=a)}return e}function Zt(t,r){let e;if(r===void 0)for(let n of t)n!=null&&(e>n||e===void 0&&n>=n)&&(e=n);else{let n=-1;for(let a of t)(a=r(a,++n,t))!=null&&(e>a||e===void 0&&a>=a)&&(e=a)}return e}function H3(t,r){let e=0;if(r===void 0)for(let n of t)(n=+n)&&(e+=n);else{let n=-1;for(let a of t)(a=+r(a,++n,t))&&(e+=a)}return e}var FM={value:()=>{}};function N8(){for(var t=0,r=arguments.length,e={},n;t<r;++t){if(!(n=arguments[t]+"")||n in e||/[\s.]/.test(n))throw new Error("illegal type: "+n);e[n]=[]}return new Wr(e)}function Wr(t){this._=t}function BM(t,r){return t.trim().split(/^|\s+/).map(function(e){var n="",a=e.indexOf(".");if(a>=0&&(n=e.slice(a+1),e=e.slice(0,a)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}Wr.prototype=N8.prototype={constructor:Wr,on:function(t,r){var e=this._,n=BM(t+"",e),a,i=-1,o=n.length;if(arguments.length<2){for(;++i<o;)if((a=(t=n[i]).type)&&(a=jM(e[a],t.name)))return a;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++i<o;)if(a=(t=n[i]).type)e[a]=k8(e[a],t.name,r);else if(r==null)for(a in e)e[a]=k8(e[a],t.name,null);return this},copy:function(){var t={},r=this._;for(var e in r)t[e]=r[e].slice();return new Wr(t)},call:function(t,r){if((a=arguments.length-2)>0)for(var e=new Array(a),n=0,a,i;n<a;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],n=0,a=i.length;n<a;++n)i[n].value.apply(r,e)},apply:function(t,r,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],a=0,i=n.length;a<i;++a)n[a].value.apply(r,e)}};function jM(t,r){for(var e=0,n=t.length,a;e<n;++e)if((a=t[e]).name===r)return a.value}function k8(t,r,e){for(var n=0,a=t.length;n<a;++n)if(t[n].name===r){t[n]=FM,t=t.slice(0,n).concat(t.slice(n+1));break}return e!=null&&t.push({name:r,value:e}),t}var Ai=N8;var qr="http://www.w3.org/1999/xhtml",Ti={svg:"http://www.w3.org/2000/svg",xhtml:qr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Re(t){var r=t+="",e=r.indexOf(":");return e>=0&&(r=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Ti.hasOwnProperty(r)?{space:Ti[r],local:t}:t}function UM(t){return function(){var r=this.ownerDocument,e=this.namespaceURI;return e===qr&&r.documentElement.namespaceURI===qr?r.createElement(t):r.createElementNS(e,t)}}function HM(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Gr(t){var r=Re(t);return(r.local?HM:UM)(r)}function VM(){}function $4(t){return t==null?VM:function(){return this.querySelector(t)}}function E8(t){typeof t!="function"&&(t=$4(t));for(var r=this._groups,e=r.length,n=new Array(e),a=0;a<e;++a)for(var i=r[a],o=i.length,s=n[a]=new Array(o),l,u,h=0;h<o;++h)(l=i[h])&&(u=t.call(l,l.__data__,h,i))&&("__data__"in l&&(u.__data__=l.__data__),s[h]=u);return new t1(n,this._parents)}function Ii(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function $M(){return[]}function Jt(t){return t==null?$M:function(){return this.querySelectorAll(t)}}function WM(t){return function(){return Ii(t.apply(this,arguments))}}function R8(t){typeof t=="function"?t=WM(t):t=Jt(t);for(var r=this._groups,e=r.length,n=[],a=[],i=0;i<e;++i)for(var o=r[i],s=o.length,l,u=0;u<s;++u)(l=o[u])&&(n.push(t.call(l,l.__data__,u,o)),a.push(l));return new t1(n,a)}function Qt(t){return function(){return this.matches(t)}}function Yr(t){return function(r){return r.matches(t)}}var qM=Array.prototype.find;function GM(t){return function(){return qM.call(this.children,t)}}function YM(){return this.firstElementChild}function A8(t){return this.select(t==null?YM:GM(typeof t=="function"?t:Yr(t)))}var XM=Array.prototype.filter;function KM(){return Array.from(this.children)}function ZM(t){return function(){return XM.call(this.children,t)}}function T8(t){return this.selectAll(t==null?KM:ZM(typeof t=="function"?t:Yr(t)))}function I8(t){typeof t!="function"&&(t=Qt(t));for(var r=this._groups,e=r.length,n=new Array(e),a=0;a<e;++a)for(var i=r[a],o=i.length,s=n[a]=[],l,u=0;u<o;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&s.push(l);return new t1(n,this._parents)}function Xr(t){return new Array(t.length)}function O8(){return new t1(this._enter||this._groups.map(Xr),this._parents)}function e0(t,r){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=r}e0.prototype={constructor:e0,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,r){return this._parent.insertBefore(t,r)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function P8(t){return function(){return t}}function JM(t,r,e,n,a,i){for(var o=0,s,l=r.length,u=i.length;o<u;++o)(s=r[o])?(s.__data__=i[o],n[o]=s):e[o]=new e0(t,i[o]);for(;o<l;++o)(s=r[o])&&(a[o]=s)}function QM(t,r,e,n,a,i,o){var s,l,u=new Map,h=r.length,v=i.length,y=new Array(h),b;for(s=0;s<h;++s)(l=r[s])&&(y[s]=b=o.call(l,l.__data__,s,r)+"",u.has(b)?a[s]=l:u.set(b,l));for(s=0;s<v;++s)b=o.call(t,i[s],s,i)+"",(l=u.get(b))?(n[s]=l,l.__data__=i[s],u.delete(b)):e[s]=new e0(t,i[s]);for(s=0;s<h;++s)(l=r[s])&&u.get(y[s])===l&&(a[s]=l)}function eb(t){return t.__data__}function F8(t,r){if(!arguments.length)return Array.from(this,eb);var e=r?QM:JM,n=this._parents,a=this._groups;typeof t!="function"&&(t=P8(t));for(var i=a.length,o=new Array(i),s=new Array(i),l=new Array(i),u=0;u<i;++u){var h=n[u],v=a[u],y=v.length,b=tb(t.call(h,h&&h.__data__,u,n)),z=b.length,R=s[u]=new Array(z),I=o[u]=new Array(z),A=l[u]=new Array(y);e(h,v,R,I,A,b,r);for(var E=0,T=0,F,Z;E<z;++E)if(F=R[E]){for(E>=T&&(T=E+1);!(Z=I[T])&&++T<z;);F._next=Z||null}}return o=new t1(o,n),o._enter=s,o._exit=l,o}function tb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function B8(){return new t1(this._exit||this._groups.map(Xr),this._parents)}function j8(t,r,e){var n=this.enter(),a=this,i=this.exit();return typeof t=="function"?(n=t(n),n&&(n=n.selection())):n=n.append(t+""),r!=null&&(a=r(a),a&&(a=a.selection())),e==null?i.remove():e(i),n&&a?n.merge(a).order():a}function U8(t){for(var r=t.selection?t.selection():t,e=this._groups,n=r._groups,a=e.length,i=n.length,o=Math.min(a,i),s=new Array(a),l=0;l<o;++l)for(var u=e[l],h=n[l],v=u.length,y=s[l]=new Array(v),b,z=0;z<v;++z)(b=u[z]||h[z])&&(y[z]=b);for(;l<a;++l)s[l]=e[l];return new t1(s,this._parents)}function H8(){for(var t=this._groups,r=-1,e=t.length;++r<e;)for(var n=t[r],a=n.length-1,i=n[a],o;--a>=0;)(o=n[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function V8(t){t||(t=rb);function r(v,y){return v&&y?t(v.__data__,y.__data__):!v-!y}for(var e=this._groups,n=e.length,a=new Array(n),i=0;i<n;++i){for(var o=e[i],s=o.length,l=a[i]=new Array(s),u,h=0;h<s;++h)(u=o[h])&&(l[h]=u);l.sort(r)}return new t1(a,this._parents).order()}function rb(t,r){return t<r?-1:t>r?1:t>=r?0:NaN}function $8(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function W8(){return Array.from(this)}function q8(){for(var t=this._groups,r=0,e=t.length;r<e;++r)for(var n=t[r],a=0,i=n.length;a<i;++a){var o=n[a];if(o)return o}return null}function G8(){let t=0;for(let r of this)++t;return t}function Y8(){return!this.node()}function X8(t){for(var r=this._groups,e=0,n=r.length;e<n;++e)for(var a=r[e],i=0,o=a.length,s;i<o;++i)(s=a[i])&&t.call(s,s.__data__,i,a);return this}function nb(t){return function(){this.removeAttribute(t)}}function ab(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ib(t,r){return function(){this.setAttribute(t,r)}}function ob(t,r){return function(){this.setAttributeNS(t.space,t.local,r)}}function sb(t,r){return function(){var e=r.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function cb(t,r){return function(){var e=r.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function K8(t,r){var e=Re(t);if(arguments.length<2){var n=this.node();return e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}return this.each((r==null?e.local?ab:nb:typeof r=="function"?e.local?cb:sb:e.local?ob:ib)(e,r))}function Kr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function lb(t){return function(){this.style.removeProperty(t)}}function fb(t,r,e){return function(){this.style.setProperty(t,r,e)}}function ub(t,r,e){return function(){var n=r.apply(this,arguments);n==null?this.style.removeProperty(t):this.style.setProperty(t,n,e)}}function Z8(t,r,e){return arguments.length>1?this.each((r==null?lb:typeof r=="function"?ub:fb)(t,r,e??"")):f4(this.node(),t)}function f4(t,r){return t.style.getPropertyValue(r)||Kr(t).getComputedStyle(t,null).getPropertyValue(r)}function db(t){return function(){delete this[t]}}function pb(t,r){return function(){this[t]=r}}function mb(t,r){return function(){var e=r.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function J8(t,r){return arguments.length>1?this.each((r==null?db:typeof r=="function"?mb:pb)(t,r)):this.node()[t]}function Q8(t){return t.trim().split(/^|\s+/)}function Oi(t){return t.classList||new e5(t)}function e5(t){this._node=t,this._names=Q8(t.getAttribute("class")||"")}e5.prototype={add:function(t){var r=this._names.indexOf(t);r<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var r=this._names.indexOf(t);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function t5(t,r){for(var e=Oi(t),n=-1,a=r.length;++n<a;)e.add(r[n])}function r5(t,r){for(var e=Oi(t),n=-1,a=r.length;++n<a;)e.remove(r[n])}function hb(t){return function(){t5(this,t)}}function gb(t){return function(){r5(this,t)}}function vb(t,r){return function(){(r.apply(this,arguments)?t5:r5)(this,t)}}function n5(t,r){var e=Q8(t+"");if(arguments.length<2){for(var n=Oi(this.node()),a=-1,i=e.length;++a<i;)if(!n.contains(e[a]))return!1;return!0}return this.each((typeof r=="function"?vb:r?hb:gb)(e,r))}function _b(){this.textContent=""}function yb(t){return function(){this.textContent=t}}function Mb(t){return function(){var r=t.apply(this,arguments);this.textContent=r??""}}function a5(t){return arguments.length?this.each(t==null?_b:(typeof t=="function"?Mb:yb)(t)):this.node().textContent}function bb(){this.innerHTML=""}function zb(t){return function(){this.innerHTML=t}}function Lb(t){return function(){var r=t.apply(this,arguments);this.innerHTML=r??""}}function i5(t){return arguments.length?this.each(t==null?bb:(typeof t=="function"?Lb:zb)(t)):this.node().innerHTML}function Cb(){this.nextSibling&&this.parentNode.appendChild(this)}function o5(){return this.each(Cb)}function wb(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function s5(){return this.each(wb)}function c5(t){var r=typeof t=="function"?t:Gr(t);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function Sb(){return null}function l5(t,r){var e=typeof t=="function"?t:Gr(t),n=r==null?Sb:typeof r=="function"?r:$4(r);return this.select(function(){return this.insertBefore(e.apply(this,arguments),n.apply(this,arguments)||null)})}function xb(){var t=this.parentNode;t&&t.removeChild(this)}function f5(){return this.each(xb)}function Db(){var t=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function kb(){var t=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(t,this.nextSibling):t}function u5(t){return this.select(t?kb:Db)}function d5(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Nb(t){return function(r){t.call(this,r,this.__data__)}}function Eb(t){return t.trim().split(/^|\s+/).map(function(r){var e="",n=r.indexOf(".");return n>=0&&(e=r.slice(n+1),r=r.slice(0,n)),{type:r,name:e}})}function Rb(t){return function(){var r=this.__on;if(r){for(var e=0,n=-1,a=r.length,i;e<a;++e)i=r[e],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):r[++n]=i;++n?r.length=n:delete this.__on}}}function Ab(t,r,e){return function(){var n=this.__on,a,i=Nb(r);if(n){for(var o=0,s=n.length;o<s;++o)if((a=n[o]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=e),a.value=r;return}}this.addEventListener(t.type,i,e),a={type:t.type,name:t.name,value:r,listener:i,options:e},n?n.push(a):this.__on=[a]}}function p5(t,r,e){var n=Eb(t+""),a,i=n.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,h;l<u;++l)for(a=0,h=s[l];a<i;++a)if((o=n[a]).type===h.type&&o.name===h.name)return h.value}return}for(s=r?Ab:Rb,a=0;a<i;++a)this.each(s(n[a],r,e));return this}function m5(t,r,e){var n=Kr(t),a=n.CustomEvent;typeof a=="function"?a=new a(r,e):(a=n.document.createEvent("Event"),e?(a.initEvent(r,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(r,!1,!1)),t.dispatchEvent(a)}function Tb(t,r){return function(){return m5(this,t,r)}}function Ib(t,r){return function(){return m5(this,t,r.apply(this,arguments))}}function h5(t,r){return this.each((typeof r=="function"?Ib:Tb)(t,r))}function*g5(){for(var t=this._groups,r=0,e=t.length;r<e;++r)for(var n=t[r],a=0,i=n.length,o;a<i;++a)(o=n[a])&&(yield o)}var Ob=[null];function t1(t,r){this._groups=t,this._parents=r}function v5(){return new t1([[document.documentElement]],Ob)}function Pb(){return this}t1.prototype=v5.prototype={constructor:t1,select:E8,selectAll:R8,selectChild:A8,selectChildren:T8,filter:I8,data:F8,enter:O8,exit:B8,join:j8,merge:U8,selection:Pb,order:H8,sort:V8,call:$8,nodes:W8,node:q8,size:G8,empty:Y8,each:X8,attr:K8,style:Z8,property:J8,classed:n5,text:a5,html:i5,raise:o5,lower:s5,append:c5,insert:l5,remove:f5,clone:u5,datum:d5,on:p5,dispatch:h5,[Symbol.iterator]:g5};var Ae=v5;function Zr(t,r,e){t.prototype=r.prototype=e,e.constructor=t}function Pi(t,r){var e=Object.create(t.prototype);for(var n in r)e[n]=r[n];return e}function n0(){}var t0=.7,en=1/t0,V3="\\s*([+-]?\\d+)\\s*",r0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fb=/^#([0-9a-f]{3,8})$/,Bb=new RegExp(`^rgb\\(${V3},${V3},${V3}\\)$`),jb=new RegExp(`^rgb\\(${ue},${ue},${ue}\\)$`),Ub=new RegExp(`^rgba\\(${V3},${V3},${V3},${r0}\\)$`),Hb=new RegExp(`^rgba\\(${ue},${ue},${ue},${r0}\\)$`),Vb=new RegExp(`^hsl\\(${r0},${ue},${ue}\\)$`),$b=new RegExp(`^hsla\\(${r0},${ue},${ue},${r0}\\)$`),_5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zr(n0,u4,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:y5,formatHex:y5,formatHex8:Wb,formatHsl:qb,formatRgb:M5,toString:M5});function y5(){return this.rgb().formatHex()}function Wb(){return this.rgb().formatHex8()}function qb(){return S5(this).formatHsl()}function M5(){return this.rgb().formatRgb()}function u4(t){var r,e;return t=(t+"").trim().toLowerCase(),(r=Fb.exec(t))?(e=r[1].length,r=parseInt(r[1],16),e===6?b5(r):e===3?new E1(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):e===8?Jr(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):e===4?Jr(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Bb.exec(t))?new E1(r[1],r[2],r[3],1):(r=jb.exec(t))?new E1(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=Ub.exec(t))?Jr(r[1],r[2],r[3],r[4]):(r=Hb.exec(t))?Jr(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Vb.exec(t))?C5(r[1],r[2]/100,r[3]/100,1):(r=$b.exec(t))?C5(r[1],r[2]/100,r[3]/100,r[4]):_5.hasOwnProperty(t)?b5(_5[t]):t==="transparent"?new E1(NaN,NaN,NaN,0):null}function b5(t){return new E1(t>>16&255,t>>8&255,t&255,1)}function Jr(t,r,e,n){return n<=0&&(t=r=e=NaN),new E1(t,r,e,n)}function Gb(t){return t instanceof n0||(t=u4(t)),t?(t=t.rgb(),new E1(t.r,t.g,t.b,t.opacity)):new E1}function $3(t,r,e,n){return arguments.length===1?Gb(t):new E1(t,r,e,n??1)}function E1(t,r,e,n){this.r=+t,this.g=+r,this.b=+e,this.opacity=+n}Zr(E1,$3,Pi(n0,{brighter(t){return t=t==null?en:Math.pow(en,t),new E1(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?t0:Math.pow(t0,t),new E1(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new E1(q4(this.r),q4(this.g),q4(this.b),tn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:z5,formatHex:z5,formatHex8:Yb,formatRgb:L5,toString:L5}));function z5(){return`#${W4(this.r)}${W4(this.g)}${W4(this.b)}`}function Yb(){return`#${W4(this.r)}${W4(this.g)}${W4(this.b)}${W4((isNaN(this.opacity)?1:this.opacity)*255)}`}function L5(){let t=tn(this.opacity);return`${t===1?"rgb(":"rgba("}${q4(this.r)}, ${q4(this.g)}, ${q4(this.b)}${t===1?")":`, ${t})`}`}function tn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function q4(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function W4(t){return t=q4(t),(t<16?"0":"")+t.toString(16)}function C5(t,r,e,n){return n<=0?t=r=e=NaN:e<=0||e>=1?t=r=NaN:r<=0&&(t=NaN),new Q1(t,r,e,n)}function S5(t){if(t instanceof Q1)return new Q1(t.h,t.s,t.l,t.opacity);if(t instanceof n0||(t=u4(t)),!t)return new Q1;if(t instanceof Q1)return t;t=t.rgb();var r=t.r/255,e=t.g/255,n=t.b/255,a=Math.min(r,e,n),i=Math.max(r,e,n),o=NaN,s=i-a,l=(i+a)/2;return s?(r===i?o=(e-n)/s+(e<n)*6:e===i?o=(n-r)/s+2:o=(r-e)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new Q1(o,s,l,t.opacity)}function x5(t,r,e,n){return arguments.length===1?S5(t):new Q1(t,r,e,n??1)}function Q1(t,r,e,n){this.h=+t,this.s=+r,this.l=+e,this.opacity=+n}Zr(Q1,x5,Pi(n0,{brighter(t){return t=t==null?en:Math.pow(en,t),new Q1(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?t0:Math.pow(t0,t),new Q1(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,n=e+(e<.5?e:1-e)*r,a=2*e-n;return new E1(Fi(t>=240?t-240:t+120,a,n),Fi(t,a,n),Fi(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Q1(w5(this.h),Qr(this.s),Qr(this.l),tn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=tn(this.opacity);return`${t===1?"hsl(":"hsla("}${w5(this.h)}, ${Qr(this.s)*100}%, ${Qr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function w5(t){return t=(t||0)%360,t<0?t+360:t}function Qr(t){return Math.max(0,Math.min(1,t||0))}function Fi(t,r,e){return(t<60?r+(e-r)*t/60:t<180?e:t<240?r+(e-r)*(240-t)/60:r)*255}function Bi(t,r,e,n,a){var i=t*t,o=i*t;return((1-3*t+3*i-o)*r+(4-6*i+3*o)*e+(1+3*t+3*i-3*o)*n+o*a)/6}function D5(t){var r=t.length-1;return function(e){var n=e<=0?e=0:e>=1?(e=1,r-1):Math.floor(e*r),a=t[n],i=t[n+1],o=n>0?t[n-1]:2*a-i,s=n<r-1?t[n+2]:2*i-a;return Bi((e-n/r)*r,o,a,i,s)}}function k5(t){var r=t.length;return function(e){var n=Math.floor(((e%=1)<0?++e:e)*r),a=t[(n+r-1)%r],i=t[n%r],o=t[(n+1)%r],s=t[(n+2)%r];return Bi((e-n/r)*r,a,i,o,s)}}var ji=t=>()=>t;function Xb(t,r){return function(e){return t+e*r}}function Kb(t,r,e){return t=Math.pow(t,e),r=Math.pow(r,e)-t,e=1/e,function(n){return Math.pow(t+n*r,e)}}function N5(t){return(t=+t)==1?rn:function(r,e){return e-r?Kb(r,e,t):ji(isNaN(r)?e:r)}}function rn(t,r){var e=r-t;return e?Xb(t,e):ji(isNaN(t)?r:t)}var nn=function t(r){var e=N5(r);function n(a,i){var o=e((a=$3(a)).r,(i=$3(i)).r),s=e(a.g,i.g),l=e(a.b,i.b),u=rn(a.opacity,i.opacity);return function(h){return a.r=o(h),a.g=s(h),a.b=l(h),a.opacity=u(h),a+""}}return n.gamma=t,n}(1);function E5(t){return function(r){var e=r.length,n=new Array(e),a=new Array(e),i=new Array(e),o,s;for(o=0;o<e;++o)s=$3(r[o]),n[o]=s.r||0,a[o]=s.g||0,i[o]=s.b||0;return n=t(n),a=t(a),i=t(i),s.opacity=1,function(l){return s.r=n(l),s.g=a(l),s.b=i(l),s+""}}}var Zb=E5(D5),Jb=E5(k5);function W1(t,r){return t=+t,r=+r,function(e){return t*(1-e)+r*e}}var Hi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ui=new RegExp(Hi.source,"g");function Qb(t){return function(){return t}}function ez(t){return function(r){return t(r)+""}}function Vi(t,r){var e=Hi.lastIndex=Ui.lastIndex=0,n,a,i,o=-1,s=[],l=[];for(t=t+"",r=r+"";(n=Hi.exec(t))&&(a=Ui.exec(r));)(i=a.index)>e&&(i=r.slice(e,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:W1(n,a)})),e=Ui.lastIndex;return e<r.length&&(i=r.slice(e),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?ez(l[0].x):Qb(r):(r=l.length,function(u){for(var h=0,v;h<r;++h)s[(v=l[h]).i]=v.x(u);return s.join("")})}var R5=180/Math.PI,an={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $i(t,r,e,n,a,i){var o,s,l;return(o=Math.sqrt(t*t+r*r))&&(t/=o,r/=o),(l=t*e+r*n)&&(e-=t*l,n-=r*l),(s=Math.sqrt(e*e+n*n))&&(e/=s,n/=s,l/=s),t*n<r*e&&(t=-t,r=-r,l=-l,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(r,t)*R5,skewX:Math.atan(l)*R5,scaleX:o,scaleY:s}}var on;function A5(t){let r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return r.isIdentity?an:$i(r.a,r.b,r.c,r.d,r.e,r.f)}function T5(t){return t==null?an:(on||(on=document.createElementNS("http://www.w3.org/2000/svg","g")),on.setAttribute("transform",t),(t=on.transform.baseVal.consolidate())?(t=t.matrix,$i(t.a,t.b,t.c,t.d,t.e,t.f)):an)}function I5(t,r,e,n){function a(u){return u.length?u.pop()+" ":""}function i(u,h,v,y,b,z){if(u!==v||h!==y){var R=b.push("translate(",null,r,null,e);z.push({i:R-4,x:W1(u,v)},{i:R-2,x:W1(h,y)})}else(v||y)&&b.push("translate("+v+r+y+e)}function o(u,h,v,y){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),y.push({i:v.push(a(v)+"rotate(",null,n)-2,x:W1(u,h)})):h&&v.push(a(v)+"rotate("+h+n)}function s(u,h,v,y){u!==h?y.push({i:v.push(a(v)+"skewX(",null,n)-2,x:W1(u,h)}):h&&v.push(a(v)+"skewX("+h+n)}function l(u,h,v,y,b,z){if(u!==v||h!==y){var R=b.push(a(b)+"scale(",null,",",null,")");z.push({i:R-4,x:W1(u,v)},{i:R-2,x:W1(h,y)})}else(v!==1||y!==1)&&b.push(a(b)+"scale("+v+","+y+")")}return function(u,h){var v=[],y=[];return u=t(u),h=t(h),i(u.translateX,u.translateY,h.translateX,h.translateY,v,y),o(u.rotate,h.rotate,v,y),s(u.skewX,h.skewX,v,y),l(u.scaleX,u.scaleY,h.scaleX,h.scaleY,v,y),u=h=null,function(b){for(var z=-1,R=y.length,I;++z<R;)v[(I=y[z]).i]=I.x(b);return v.join("")}}}var Wi=I5(A5,"px, ","px)","deg)"),qi=I5(T5,", ",")",")");var W3=0,i0=0,a0=0,P5=1e3,sn,o0,cn=0,G4=0,ln=0,s0=typeof performance=="object"&&performance.now?performance:Date,F5=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function l0(){return G4||(F5(tz),G4=s0.now()+ln)}function tz(){G4=0}function c0(){this._call=this._time=this._next=null}c0.prototype=fn.prototype={constructor:c0,restart:function(t,r,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?l0():+e)+(r==null?0:+r),!this._next&&o0!==this&&(o0?o0._next=this:sn=this,o0=this),this._call=t,this._time=e,Gi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gi())}};function fn(t,r,e){var n=new c0;return n.restart(t,r,e),n}function B5(){l0(),++W3;for(var t=sn,r;t;)(r=G4-t._time)>=0&&t._call.call(void 0,r),t=t._next;--W3}function O5(){G4=(cn=s0.now())+ln,W3=i0=0;try{B5()}finally{W3=0,nz(),G4=0}}function rz(){var t=s0.now(),r=t-cn;r>P5&&(ln-=r,cn=t)}function nz(){for(var t,r=sn,e,n=1/0;r;)r._call?(n>r._time&&(n=r._time),t=r,r=r._next):(e=r._next,r._next=null,r=t?t._next=e:sn=e);o0=t,Gi(n)}function Gi(t){if(!W3){i0&&(i0=clearTimeout(i0));var r=t-G4;r>24?(t<1/0&&(i0=setTimeout(O5,t-s0.now()-ln)),a0&&(a0=clearInterval(a0))):(a0||(cn=s0.now(),a0=setInterval(rz,P5)),W3=1,F5(O5))}}function un(t,r,e){var n=new c0;return r=r==null?0:+r,n.restart(a=>{n.stop(),t(a+r)},r,e),n}var az=Ai("start","end","cancel","interrupt"),iz=[],H5=0,j5=1,pn=2,dn=3,U5=4,mn=5,f0=6;function d4(t,r,e,n,a,i){var o=t.__transition;if(!o)t.__transition={};else if(e in o)return;oz(t,e,{name:r,index:n,group:a,on:az,tween:iz,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:H5})}function u0(t,r){var e=r1(t,r);if(e.state>H5)throw new Error("too late; already scheduled");return e}function d1(t,r){var e=r1(t,r);if(e.state>dn)throw new Error("too late; already running");return e}function r1(t,r){var e=t.__transition;if(!e||!(e=e[r]))throw new Error("transition not found");return e}function oz(t,r,e){var n=t.__transition,a;n[r]=e,e.timer=fn(i,0,e.time);function i(u){e.state=j5,e.timer.restart(o,e.delay,e.time),e.delay<=u&&o(u-e.delay)}function o(u){var h,v,y,b;if(e.state!==j5)return l();for(h in n)if(b=n[h],b.name===e.name){if(b.state===dn)return un(o);b.state===U5?(b.state=f0,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete n[h]):+h<r&&(b.state=f0,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete n[h])}if(un(function(){e.state===dn&&(e.state=U5,e.timer.restart(s,e.delay,e.time),s(u))}),e.state=pn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===pn){for(e.state=dn,a=new Array(y=e.tween.length),h=0,v=-1;h<y;++h)(b=e.tween[h].value.call(t,t.__data__,e.index,e.group))&&(a[++v]=b);a.length=v+1}}function s(u){for(var h=u<e.duration?e.ease.call(null,u/e.duration):(e.timer.restart(l),e.state=mn,1),v=-1,y=a.length;++v<y;)a[v].call(t,h);e.state===mn&&(e.on.call("end",t,t.__data__,e.index,e.group),l())}function l(){e.state=f0,e.timer.stop(),delete n[r];for(var u in n)return;delete t.__transition}}function hn(t,r){var e=t.__transition,n,a,i=!0,o;if(e){r=r==null?null:r+"";for(o in e){if((n=e[o]).name!==r){i=!1;continue}a=n.state>pn&&n.state<mn,n.state=f0,n.timer.stop(),n.on.call(a?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete e[o]}i&&delete t.__transition}}function V5(t){return this.each(function(){hn(this,t)})}function sz(t,r){var e,n;return function(){var a=d1(this,t),i=a.tween;if(i!==e){n=e=i;for(var o=0,s=n.length;o<s;++o)if(n[o].name===r){n=n.slice(),n.splice(o,1);break}}a.tween=n}}function cz(t,r,e){var n,a;if(typeof e!="function")throw new Error;return function(){var i=d1(this,t),o=i.tween;if(o!==n){a=(n=o).slice();for(var s={name:r,value:e},l=0,u=a.length;l<u;++l)if(a[l].name===r){a[l]=s;break}l===u&&a.push(s)}i.tween=a}}function $5(t,r){var e=this._id;if(t+="",arguments.length<2){for(var n=r1(this.node(),e).tween,a=0,i=n.length,o;a<i;++a)if((o=n[a]).name===t)return o.value;return null}return this.each((r==null?sz:cz)(e,t,r))}function q3(t,r,e){var n=t._id;return t.each(function(){var a=d1(this,n);(a.value||(a.value={}))[r]=e.apply(this,arguments)}),function(a){return r1(a,n).value[r]}}function gn(t,r){var e;return(typeof r=="number"?W1:r instanceof u4?nn:(e=u4(r))?(r=e,nn):Vi)(t,r)}function lz(t){return function(){this.removeAttribute(t)}}function fz(t){return function(){this.removeAttributeNS(t.space,t.local)}}function uz(t,r,e){var n,a=e+"",i;return function(){var o=this.getAttribute(t);return o===a?null:o===n?i:i=r(n=o,e)}}function dz(t,r,e){var n,a=e+"",i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===n?i:i=r(n=o,e)}}function pz(t,r,e){var n,a,i;return function(){var o,s=e(this),l;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=s+"",o===l?null:o===n&&l===a?i:(a=l,i=r(n=o,s)))}}function mz(t,r,e){var n,a,i;return function(){var o,s=e(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=s+"",o===l?null:o===n&&l===a?i:(a=l,i=r(n=o,s)))}}function W5(t,r){var e=Re(t),n=e==="transform"?qi:gn;return this.attrTween(t,typeof r=="function"?(e.local?mz:pz)(e,n,q3(this,"attr."+t,r)):r==null?(e.local?fz:lz)(e):(e.local?dz:uz)(e,n,r))}function hz(t,r){return function(e){this.setAttribute(t,r.call(this,e))}}function gz(t,r){return function(e){this.setAttributeNS(t.space,t.local,r.call(this,e))}}function vz(t,r){var e,n;function a(){var i=r.apply(this,arguments);return i!==n&&(e=(n=i)&&gz(t,i)),e}return a._value=r,a}function _z(t,r){var e,n;function a(){var i=r.apply(this,arguments);return i!==n&&(e=(n=i)&&hz(t,i)),e}return a._value=r,a}function q5(t,r){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(r==null)return this.tween(e,null);if(typeof r!="function")throw new Error;var n=Re(t);return this.tween(e,(n.local?vz:_z)(n,r))}function yz(t,r){return function(){u0(this,t).delay=+r.apply(this,arguments)}}function Mz(t,r){return r=+r,function(){u0(this,t).delay=r}}function G5(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?yz:Mz)(r,t)):r1(this.node(),r).delay}function bz(t,r){return function(){d1(this,t).duration=+r.apply(this,arguments)}}function zz(t,r){return r=+r,function(){d1(this,t).duration=r}}function Y5(t){var r=this._id;return arguments.length?this.each((typeof t=="function"?bz:zz)(r,t)):r1(this.node(),r).duration}function Lz(t,r){if(typeof r!="function")throw new Error;return function(){d1(this,t).ease=r}}function X5(t){var r=this._id;return arguments.length?this.each(Lz(r,t)):r1(this.node(),r).ease}function Cz(t,r){return function(){var e=r.apply(this,arguments);if(typeof e!="function")throw new Error;d1(this,t).ease=e}}function K5(t){if(typeof t!="function")throw new Error;return this.each(Cz(this._id,t))}function Z5(t){typeof t!="function"&&(t=Qt(t));for(var r=this._groups,e=r.length,n=new Array(e),a=0;a<e;++a)for(var i=r[a],o=i.length,s=n[a]=[],l,u=0;u<o;++u)(l=i[u])&&t.call(l,l.__data__,u,i)&&s.push(l);return new x1(n,this._parents,this._name,this._id)}function J5(t){if(t._id!==this._id)throw new Error;for(var r=this._groups,e=t._groups,n=r.length,a=e.length,i=Math.min(n,a),o=new Array(n),s=0;s<i;++s)for(var l=r[s],u=e[s],h=l.length,v=o[s]=new Array(h),y,b=0;b<h;++b)(y=l[b]||u[b])&&(v[b]=y);for(;s<n;++s)o[s]=r[s];return new x1(o,this._parents,this._name,this._id)}function wz(t){return(t+"").trim().split(/^|\s+/).every(function(r){var e=r.indexOf(".");return e>=0&&(r=r.slice(0,e)),!r||r==="start"})}function Sz(t,r,e){var n,a,i=wz(r)?u0:d1;return function(){var o=i(this,t),s=o.on;s!==n&&(a=(n=s).copy()).on(r,e),o.on=a}}function Q5(t,r){var e=this._id;return arguments.length<2?r1(this.node(),e).on.on(t):this.each(Sz(e,t,r))}function xz(t){return function(){var r=this.parentNode;for(var e in this.__transition)if(+e!==t)return;r&&r.removeChild(this)}}function e7(){return this.on("end.remove",xz(this._id))}function t7(t){var r=this._name,e=this._id;typeof t!="function"&&(t=$4(t));for(var n=this._groups,a=n.length,i=new Array(a),o=0;o<a;++o)for(var s=n[o],l=s.length,u=i[o]=new Array(l),h,v,y=0;y<l;++y)(h=s[y])&&(v=t.call(h,h.__data__,y,s))&&("__data__"in h&&(v.__data__=h.__data__),u[y]=v,d4(u[y],r,e,y,u,r1(h,e)));return new x1(i,this._parents,r,e)}function r7(t){var r=this._name,e=this._id;typeof t!="function"&&(t=Jt(t));for(var n=this._groups,a=n.length,i=[],o=[],s=0;s<a;++s)for(var l=n[s],u=l.length,h,v=0;v<u;++v)if(h=l[v]){for(var y=t.call(h,h.__data__,v,l),b,z=r1(h,e),R=0,I=y.length;R<I;++R)(b=y[R])&&d4(b,r,e,R,y,z);i.push(y),o.push(h)}return new x1(i,o,r,e)}var Dz=Ae.prototype.constructor;function n7(){return new Dz(this._groups,this._parents)}function kz(t,r){var e,n,a;return function(){var i=f4(this,t),o=(this.style.removeProperty(t),f4(this,t));return i===o?null:i===e&&o===n?a:a=r(e=i,n=o)}}function a7(t){return function(){this.style.removeProperty(t)}}function Nz(t,r,e){var n,a=e+"",i;return function(){var o=f4(this,t);return o===a?null:o===n?i:i=r(n=o,e)}}function Ez(t,r,e){var n,a,i;return function(){var o=f4(this,t),s=e(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),f4(this,t))),o===l?null:o===n&&l===a?i:(a=l,i=r(n=o,s))}}function Rz(t,r){var e,n,a,i="style."+r,o="end."+i,s;return function(){var l=d1(this,t),u=l.on,h=l.value[i]==null?s||(s=a7(r)):void 0;(u!==e||a!==h)&&(n=(e=u).copy()).on(o,a=h),l.on=n}}function i7(t,r,e){var n=(t+="")=="transform"?Wi:gn;return r==null?this.styleTween(t,kz(t,n)).on("end.style."+t,a7(t)):typeof r=="function"?this.styleTween(t,Ez(t,n,q3(this,"style."+t,r))).each(Rz(this._id,t)):this.styleTween(t,Nz(t,n,r),e).on("end.style."+t,null)}function Az(t,r,e){return function(n){this.style.setProperty(t,r.call(this,n),e)}}function Tz(t,r,e){var n,a;function i(){var o=r.apply(this,arguments);return o!==a&&(n=(a=o)&&Az(t,o,e)),n}return i._value=r,i}function o7(t,r,e){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(r==null)return this.tween(n,null);if(typeof r!="function")throw new Error;return this.tween(n,Tz(t,r,e??""))}function Iz(t){return function(){this.textContent=t}}function Oz(t){return function(){var r=t(this);this.textContent=r??""}}function s7(t){return this.tween("text",typeof t=="function"?Oz(q3(this,"text",t)):Iz(t==null?"":t+""))}function Pz(t){return function(r){this.textContent=t.call(this,r)}}function Fz(t){var r,e;function n(){var a=t.apply(this,arguments);return a!==e&&(r=(e=a)&&Pz(a)),r}return n._value=t,n}function c7(t){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Fz(t))}function l7(){for(var t=this._name,r=this._id,e=vn(),n=this._groups,a=n.length,i=0;i<a;++i)for(var o=n[i],s=o.length,l,u=0;u<s;++u)if(l=o[u]){var h=r1(l,r);d4(l,t,e,u,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new x1(n,this._parents,t,e)}function f7(){var t,r,e=this,n=e._id,a=e.size();return new Promise(function(i,o){var s={value:o},l={value:function(){--a===0&&i()}};e.each(function(){var u=d1(this,n),h=u.on;h!==t&&(r=(t=h).copy(),r._.cancel.push(s),r._.interrupt.push(s),r._.end.push(l)),u.on=r}),a===0&&i()})}var Bz=0;function x1(t,r,e,n){this._groups=t,this._parents=r,this._name=e,this._id=n}function u7(t){return Ae().transition(t)}function vn(){return++Bz}var Te=Ae.prototype;x1.prototype=u7.prototype={constructor:x1,select:t7,selectAll:r7,selectChild:Te.selectChild,selectChildren:Te.selectChildren,filter:Z5,merge:J5,selection:n7,transition:l7,call:Te.call,nodes:Te.nodes,node:Te.node,size:Te.size,empty:Te.empty,each:Te.each,on:Q5,attr:W5,attrTween:q5,style:i7,styleTween:o7,text:s7,textTween:c7,remove:e7,tween:$5,delay:G5,duration:Y5,ease:X5,easeVarying:K5,end:f7,[Symbol.iterator]:Te[Symbol.iterator]};function _n(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var jz={time:null,delay:0,duration:250,ease:_n};function Uz(t,r){for(var e;!(e=t.__transition)||!(e=e[r]);)if(!(t=t.parentNode))throw new Error(`transition ${r} not found`);return e}function d7(t){var r,e;t instanceof x1?(r=t._id,t=t._name):(r=vn(),(e=jz).time=l0(),t=t==null?null:t+"");for(var n=this._groups,a=n.length,i=0;i<a;++i)for(var o=n[i],s=o.length,l,u=0;u<s;++u)(l=o[u])&&d4(l,t,r,u,o,e||Uz(l,r));return new x1(n,this._parents,t,r)}Ae.prototype.interrupt=V5;Ae.prototype.transition=d7;var{abs:WB,max:qB,min:GB}=Math;function p7(t){return[+t[0],+t[1]]}function Hz(t){return[p7(t[0]),p7(t[1])]}var YB={name:"x",handles:["w","e"].map(Yi),input:function(t,r){return t==null?null:[[+t[0],r[0][1]],[+t[1],r[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},XB={name:"y",handles:["n","s"].map(Yi),input:function(t,r){return t==null?null:[[r[0][0],+t[0]],[r[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},KB={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Yi),input:function(t){return t==null?null:Hz(t)},output:function(t){return t}};function Yi(t){return{type:t}}function p4(t,r,e){this.k=t,this.x=r,this.y=e}p4.prototype={constructor:p4,scale:function(t){return t===1?this:new p4(this.k*t,this.x,this.y)},translate:function(t,r){return t===0&r===0?this:new p4(this.k,this.x+this.k*t,this.y+this.k*r)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xi=new p4(1,0,0);Ki.prototype=p4.prototype;function Ki(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Xi;return t.__zoom}function m7(t,r){return t.sourceLinks?.length?j(t.depth,0):r-1}function Zi(t){return()=>t}function h7(t){let r=new Set,e=new Map,n=new Map;for(let u of t.nodes){r.add(u);let h=0,v=0;for(let y of j(u.targetLinks,[]))y.source!==u&&h++;for(let y of j(u.sourceLinks,[]))y.target!==u&&v++;e.set(u,h),n.set(u,v)}function a(u){r.delete(u);for(let h of j(u.targetLinks,[])){let v=h.source;if(r.has(v)){let y=j(n.get(v),0);n.set(v,y-1)}}for(let h of j(u.sourceLinks,[])){let v=h.target;if(r.has(v)){let y=j(e.get(v),0);e.set(v,y-1)}}}let i=[],o=[];for(;r.size>0;){for(;;){let v=!1;for(let y of r)n.get(y)===0&&(v=!0,o.push(y),a(y));if(!v)break}for(;;){let v=!1;for(let y of r)e.get(y)===0&&(v=!0,i.push(y),a(y));if(!v)break}if(r.size===0)break;let u=null,h=null;for(let v of r){let y=j(n.get(v),0)-j(e.get(v),0);(u===null||y>u)&&(u=y,h=v)}h!=null&&(i.push(h),a(h))}o.reverse();let s=i.concat(o),l=new Map;for(let[u,h]of s.entries())l.set(h,u);for(let u of t.links){let h=j(l.get(u.source),0),v=j(l.get(u.target),0);h===v?u.direction="self":h<v?u.direction="forward":u.direction="backward"}}function g7(t,r){return yn(t.source,r.source)||t.index-r.index}function v7(t,r){return yn(t.target,r.target)||t.index-r.index}function yn(t,r){return t.y0-r.y0}function Ji(t){return t.value}function Vz(t){return t.index}function $z(t){return t.nodes}function Wz(t){return t.links}function _7(t,r){let e=t.get(r);if(!e)throw new Error("missing: "+r.toString());return e}function y7({nodes:t}){for(let r of t){let e=r.y0,n=e;for(let a of r.sourceLinks)a.y0=e+a.width/2,e+=a.width;for(let a of r.targetLinks)a.y1=n+a.width/2,n+=a.width}}function d0(t){return j(t,0)}function M7(){let t=0,r=0,e=1,n=1,a=24,i=8,o=Vz,s=m7,l,u,h=$z,v=Wz,y=6;function b(k){let q={nodes:[...k.nodes],links:[...k.links]};return Q2(q),X2(q),p1(q),O(q),a2(q),O2(q),y7(q),q}let z=b;z.update=function(k){return y7(k),k};function R(k){return k==null?o:(o=k,z)}z.nodeId=R;function I(k){return k==null?s:(s=k,z)}z.nodeAlign=I;function A(k){return k==null?l:(l=k,z)}z.nodeSort=A;function E(k){return k==null?a:(a=k,z)}z.nodeWidth=E;function T(k){return k==null?i:(i=k,z)}z.nodePadding=T;function F(k){return k==null?h:(h=typeof k=="function"?k:Zi(k),z)}z.nodes=F;function Z(k){return k==null?v:(v=typeof k=="function"?k:Zi(k),z)}z.links=Z;function t2(k){return k==null?u:(u=k,z)}z.linkSort=t2;function f2(k){return k==null?[e-t,n-r]:(t=r=0,[e,n]=k,z)}z.size=f2;function b2(k){return k==null?[[t,r],[e,n]]:([[t,r],[e,n]]=k,z)}z.extent=b2;function I2(k){return k==null?y:(y=k,z)}z.iterations=I2;function Q2({nodes:k,links:q}){for(let[e2,X]of k.entries())X.index=e2,X.sourceLinks=[],X.targetLinks=[];let Q=new Map(k.map(e2=>[o(e2),e2]));for(let[e2,X]of q.entries()){X.index=e2;let{source:l2,target:W2}=X;typeof l2!="object"&&(l2=X.source=_7(Q,l2)),typeof W2!="object"&&(W2=X.target=_7(Q,W2)),l2.sourceLinks.push(X),W2.targetLinks.push(X)}}function X2({nodes:k}){for(let q of k)q.value=Math.max(H3(q.sourceLinks,Ji),H3(q.targetLinks,Ji))}function p1(k){h7(k)}function O({nodes:k}){let q=k.length,Q=new Set(k),e2=new Set,X=0;for(;Q.size;){for(let l2 of Q){l2.depth=X;for(let{target:W2,direction:j2}of l2.sourceLinks)j2==="forward"&&e2.add(W2)}if(++X>q)throw new Error("circular link");Q=e2,e2=new Set}}function a2({nodes:k}){let q=k.length,Q=new Set(k),e2=new Set,X=0;for(;Q.size;){for(let l2 of Q){l2.height=X;for(let{source:W2,direction:j2}of l2.targetLinks)j2==="forward"&&e2.add(W2)}if(++X>q)throw new Error("circular link");Q=e2,e2=new Set}}function p2({nodes:k}){let q=d0($r(k,X=>X.depth))+1,Q=(e-t-a)/(q-1),e2=new Array(q);for(let X of k){let l2=Math.max(0,Math.min(q-1,Math.floor(s.call(null,X,q))));X.layer=l2,X.x0=t+l2*Q,X.x1=X.x0+a,e2[l2]?e2[l2].push(X):e2[l2]=[X]}if(l)for(let X of e2)X.sort(l);return e2}function M2(k){let q=Zt(k,Q=>(n-r-(Q.length-1)*i)/H3(Q,Ji));q=j(q,0);for(let Q of k){let e2=r;for(let X of Q){X.y0=e2,X.y1=e2+X.value*q,e2=X.y1+i;for(let l2 of X.sourceLinks)l2.width=l2.value*q}e2=(n-e2+i)/(Q.length+1);for(let X=0;X<Q.length;++X){let l2=Q[X];l2.y0+=e2*(X+1),l2.y1+=e2*(X+1)}Y(Q)}return n}function O2(k){let q=p2(k),Q=M2(q);for(let e2=0;e2<y;++e2){let X=Math.pow(.99,e2),l2=Math.max(1-X,(e2+1)/y);d(q,X,l2,Q),N(q,X,l2,Q)}}function N(k,q,Q,e2){for(let X=1,l2=k.length;X<l2;++X){let W2=k[X];for(let j2 of W2){let pe=0,H=0;for(let{source:P2,value:u2}of j2.targetLinks){let C2=u2*(d0(j2.layer)-d0(P2.layer));pe+=B(P2,j2)*C2,H+=C2}if(!(H>0))continue;let W=(pe/H-j2.y0)*q;j2.y0+=W,j2.y1+=W,r2(j2)}l===void 0&&W2.sort(yn),M(W2,Q,e2)}}function d(k,q,Q,e2){for(let X=k.length,l2=X-2;l2>=0;--l2){let W2=k[l2];for(let j2 of W2){let pe=0,H=0;for(let{target:P2,value:u2}of j2.sourceLinks){let C2=u2*(d0(P2.layer)-d0(j2.layer));pe+=U(j2,P2)*C2,H+=C2}if(!(H>0))continue;let W=(pe/H-j2.y0)*q;j2.y0+=W,j2.y1+=W,r2(j2)}l===void 0&&W2.sort(yn),M(W2,Q,e2)}}function M(k,q,Q){let e2=k.length>>1,X=k[e2];G(k,X.y0-i,e2-1,q),x(k,X.y1+i,e2+1,q),G(k,Q,k.length-1,q),x(k,r,0,q)}function x(k,q,Q,e2){for(;Q<k.length;++Q){let X=k[Q],l2=(q-X.y0)*e2;l2>1e-6&&(X.y0+=l2,X.y1+=l2),q=X.y1+i}}function G(k,q,Q,e2){for(;Q>=0;--Q){let X=k[Q],l2=(X.y1-q)*e2;l2>1e-6&&(X.y0-=l2,X.y1-=l2),q=X.y0-i}}function r2({sourceLinks:k,targetLinks:q}){if(u===void 0){for(let Q of q)Q.source.sourceLinks.sort(v7);for(let Q of k)Q.target.targetLinks.sort(g7)}}function Y(k){if(u===void 0)for(let{sourceLinks:q,targetLinks:Q}of k)q.sort(v7),Q.sort(g7)}function B(k,q){let Q=k.y0-(k.sourceLinks.length-1)*i/2;for(let{target:e2,width:X}of k.sourceLinks){if(e2===q)break;Q+=X+i}for(let{source:e2,width:X}of q.targetLinks){if(e2===k)break;Q-=X}return Q}function U(k,q){let Q=q.y0-(q.targetLinks.length-1)*i/2;for(let{source:e2,width:X}of q.targetLinks){if(e2===k)break;Q+=X+i}for(let{target:e2,width:X}of k.sourceLinks){if(e2===q)break;Q-=X}return Q}return z}var m4=class m4 extends V1{constructor(){super(...arguments);this.adjustment=w(j3);this.itemsStore=w(c4);this.machinesStore=w(U3);this.settingsStore=w(M1);this.settings=n2(()=>this.computeRecipesSettings(this.state(),this.machinesStore.settings(),this.settingsStore.settings(),this.settingsStore.dataset()));this.adjustedDataset=n2(()=>{let e=this.settings(),n=this.itemsStore.settings(),a=this.settingsStore.settings(),i=this.settingsStore.dataset();return this.adjustment.adjustDataset(e,n,a,i)})}computeRecipesSettings(e,n,a,i){let o={};for(let s of i.recipeIds.map(l=>i.recipeRecord[l])){let l=J(e[s.id]);this.adjustment.computeRecipeSettings(l,s,n,a,i),o[s.id]=l}return o}};m4.\u0275fac=(()=>{let e;return function(a){return(e||(e=h1(m4)))(a||m4)}})(),m4.\u0275prov=P({token:m4,factory:m4.\u0275fac,providedIn:"root"});var G3=m4;var Mn="",Y4=class Y4{constructor(){this.itemsStore=w(c4);this.recipesStore=w(G3);this.settingsStore=w(M1)}normalizeRate(r){if(r.unit===3||r.type===2)return r.value;let e=this.settingsStore.displayRateInfo().value,n=this.recipesStore.adjustedDataset(),a=r.value,i=C.one;switch(r.unit){case 0:{i=e.reciprocal();break}case 1:{let s=this.itemsStore.settings()[r.targetId];s.beltId&&(i=this.settingsStore.beltSpeed()[s.beltId].mul(j(s.stack,C.one)));break}case 2:{let s=this.itemsStore.settings()[r.targetId].wagonId;if(s){let l=n.itemRecord[r.targetId],u=n.itemRecord[s];l.stack&&u.cargoWagon?i=l.stack.mul(u.cargoWagon.size).div(e):u.fluidWagon&&(i=u.fluidWagon.capacity.div(e))}break}}let o=n.adjustedRecipe[n.itemRecipeIds[r.targetId][0]];return o?.flags.has("technology")&&(i=i.mul(o.effects.productivity)),a.mul(i)}normalizeSteps(r,e){let n=this.copy(r);for(let i of n)this.calculateParentsOutputs(i,n);let a=$1(e);for(let i of n)this.calculateSettings(i,a),this.calculateBelts(i),this.calculateBeacons(i),this.calculateDisplayRate(i),this.calculateChecked(i);return this.sortBySankey(n),this.calculateHierarchy(n)}calculateParentsOutputs(r,e){if(r.recipe&&r.machines?.nonzero()){let n=r.recipe,a=r.machines.div(n.time);for(let i of Object.keys(n.in))if(n.in[i].nonzero()){let o=n.in[i].mul(a),s=e.find(l=>l.itemId===i);s!=null&&this.addEntityValue(s,"parents",r.id,o.simplify())}for(let i of Object.keys(n.out))if(n.out[i].nonzero()){let o=n.out[i].mul(a),s=e.find(l=>l.itemId===i);s?.items?.nonzero()&&this.addEntityValue(r,"outputs",i,o.div(s.items).simplify())}}}calculateSettings(r,e){r.recipeId&&(r.recipeObjectiveId?r.recipeSettings=e[r.recipeObjectiveId]:r.recipeSettings=this.recipesStore.settings()[r.recipeId])}calculateBelts(r){let e=this.settingsStore.dataset(),n=this.itemsStore.settings(),a=this.settingsStore.beltSpeed(),i=!1;if(r.recipeId!=null&&r.recipeSettings!=null){let o=r.recipeSettings.machineId;if(o!=null){let s=e.machineRecord[o],l=e.recipeRecord[r.recipeId];i=!!(l.flags.has("technology")||s.silo&&!l.part)}}if(i)delete r.belts,delete r.wagons;else if(r.itemId!=null){let o=n[r.itemId],s=o.beltId;r.items!=null&&s!=null&&(r.belts=r.items.div(a[s]),o.stack?.nonzero()&&(r.belts=r.belts.div(o.stack)));let l=o.wagonId;if(r.items!=null&&l!=null){let u=e.itemRecord[r.itemId];u.stack?r.wagons=r.items.div(e.cargoWagonRecord[l].size.mul(u.stack)):r.wagons=r.items.div(e.fluidWagonRecord[l].capacity)}}}calculateBeacons(r){let e=this.settingsStore.settings().beaconReceivers,n=this.settingsStore.dataset();if(!e?.nonzero()||r.recipeId==null||!r.machines?.nonzero()||n.recipeRecord[r.recipeId].part||r.recipeSettings==null)return;let a=r.machines,i=r.recipeSettings;i.beacons!=null&&(r.recipeSettings=J(r.recipeSettings,{beacons:i.beacons.map(o=>{let s=o.total;if(o.id!=null){o.count!=null&&s==null&&(s=a.ceil().mul(o.count).div(e),s.lt(o.count)&&(s=o.count));let l=n.beaconRecord[o.id];l.type==="electric"&&l.usage!=null&&s!=null&&(r.power=(r.power??C.zero).add(s.mul(l.usage)))}return U2($({},o),{total:s})})}))}calculateDisplayRate(r){let e=this.settingsStore.displayRateInfo().value;if(r.items){if(r.parents&&r.items.nonzero())for(let n of Object.keys(r.parents))r.parents[n]=r.parents[n].div(r.items);r.items=r.items.mul(e)}r.surplus&&(r.surplus=r.surplus.mul(e)),r.wagons&&(r.wagons=r.wagons.mul(e)),r.pollution&&(r.pollution=r.pollution.mul(e)),r.output&&(r.output=r.output.mul(e))}calculateChecked(r){let e=this.settingsStore.settings();r.itemId!=null?r.checked=e.checkedItemIds.has(r.itemId):r.recipeObjectiveId!=null?r.checked=e.checkedObjectiveIds.has(r.recipeObjectiveId):r.recipeId!=null&&(r.checked=e.checkedRecipeIds.has(r.recipeId))}sortBySankey(r){let e=r.reduce((s,l)=>(s[l.id]=l,s),{}),n=[],a=[];for(let s of r){if(s.itemId){let l=`i|${s.itemId}`;if(n.push({id:l,stepId:s.id}),s.parents)for(let u of Object.keys(s.parents)){if(u==="")continue;let h=e[u].recipeId;h!=null&&a.push({source:l,target:`r|${h}`,value:1})}}if(s.recipeId){let l=`r|${s.recipeId}`;if(n.push({id:l,stepId:s.id}),s.outputs)for(let u of Object.keys(s.outputs))a.push({source:l,target:`i|${u}`,value:1})}}if(!n.length||!a.length)return;let i=M7().nodeId(s=>s.id)({nodes:n,links:a});for(let s of r)s.depth=i.nodes.find(l=>l.stepId===s.id)?.depth;function o(s){return s.output?1e5:j(s.depth,0)}r.sort((s,l)=>o(l)-o(s))}calculateHierarchy(r){let e={};for(let i of r)if(i.parents==null||i.parents[Mn]||Object.keys(i.parents).length>1)e[i.id]=Mn;else{let o=Object.keys(i.parents)[0],s=r.find(l=>l.id===o);s&&(i.id===s.id?e[i.id]=Mn:e[i.id]=s.id)}let n={};for(let i of r){let o=e[i.id];n[o]||(n[o]=[]),n[o].push(i)}let a=new Set;for(this.sortRecursive(n,Mn,a);a.size<r.length;){let i=r.find(o=>!a.has(o));if(i==null)break;a.add(i),this.sortRecursive(n,i.id,a)}return Array.from(a)}sortRecursive(r,e,n){if(!r[e])return;let a=r[e];delete r[e];for(let i of a)n.add(i),this.sortRecursive(r,i.id,n)}addEntityValue(r,e,n,a){let i=r[e];i?i[n]?i[n]=i[n].add(a):i[n]=a:r[e]={[n]:a}}copy(r){return r.map(e=>e.parents?J(e,{parents:J(e.parents)}):J(e))}};Y4.\u0275fac=function(e){return new(e||Y4)},Y4.\u0275prov=P({token:Y4,factory:Y4.\u0275fac,providedIn:"root"});var bn=Y4;var X4=class X4 extends V1{constructor(){super();this.title=w(W0);this.adjustment=w(j3);this.itemsStore=w(c4);this.machinesStore=w(U3);this.normalization=w(bn);this.preferencesStore=w(le);this.recipesStore=w(G3);this.settingsStore=w(M1);this.solver=w(Vr);this.baseObjectives=n2(()=>{let e=this.state(),n=this.settingsStore.dataset();return Object.keys(e).map(a=>e[a]).filter(a=>o4(a)?n.recipeRecord[a.targetId]!=null:n.itemRecord[a.targetId]!=null)});this.objectives=n2(()=>{let e=this.baseObjectives(),n=this.itemsStore.settings(),a=this.recipesStore.settings(),i=this.machinesStore.settings(),o=this.settingsStore.settings(),s=this.recipesStore.adjustedDataset();return e.map(l=>this.adjustment.adjustObjective(l,n,a,i,o,s))});this.normalizedObjectives=n2(()=>this.objectives().map(e=>J(e,{value:this.normalization.normalizeRate(e)})));this.matrixResult=n2(()=>{let e=this.normalizedObjectives(),n=this.settingsStore.settings(),a=this.recipesStore.adjustedDataset(),i=this.preferencesStore.paused();return this.solver.solve(e,n,a,i)});this.steps=n2(()=>{let e=this.matrixResult(),n=this.objectives();return this.normalization.normalizeSteps(e.steps,n)});this.stepsModified=n2(()=>{let e=this.steps(),n=this.baseObjectives(),a=this.itemsStore.state(),i=this.recipesStore.state();return{objectives:n.reduce((o,s)=>(o[s.id]=s.machineId!=null||s.modules!=null||s.beacons!=null||s.overclock!=null,o),{}),items:e.reduce((o,s)=>(s.itemId&&(o[s.itemId]=a[s.itemId]!=null),o),{}),recipes:e.reduce((o,s)=>(s.recipeId&&(o[s.recipeId]=i[s.recipeId]!=null),o),{})}});this.totals=n2(()=>{let e=this.steps(),n=this.itemsStore.settings(),a=this.recipesStore.adjustedDataset(),i={},o={},s={},l={},u={},h={},v=C.zero,y=C.zero;for(let b of e){if(b.itemId!=null){if(b.belts?.nonzero()){let z=n[b.itemId].beltId;z!=null&&(i[z]||(i[z]=C.zero),i[z]=i[z].add(b.belts.ceil()))}if(b.wagons?.nonzero()){let z=n[b.itemId].wagonId;z!=null&&(o[z]||(o[z]=C.zero),o[z]=o[z].add(b.wagons.ceil()))}}if(b.recipeId!=null&&b.recipe!=null&&b.recipeSettings!=null){if(b.machines?.nonzero()){let R=b.recipe;if(!R.part&&!R.flags.has("hideProducer")){let I=b.recipeSettings,A=I.machineId;if(A&&a.machineRecord[A].totalRecipe&&(A=b.recipeId),A!=null){s[A]||(s[A]=C.zero);let E=b.machines.ceil();s[A]=s[A].add(E),I.modules!=null&&I.modules.forEach(T=>{!T.id||T.count==null||ki(l,[T.id],E.mul(T.count))})}}}let z=b.recipeSettings?.beacons;if(z!=null)for(let R of z){let I=R.id,A=R.total;if(I==null||!A?.nonzero())continue;u[I]||(u[I]=C.zero);let E=A.ceil();u[I]=u[I].add(E),R.modules!=null&&R.modules.forEach(T=>{!T.id||T.count==null||ki(h,[T.id],E.mul(T.count))})}}b.power!=null&&(v=v.add(b.power)),b.pollution!=null&&(y=y.add(b.pollution))}return{belts:i,wagons:o,machines:s,modules:l,beacons:u,beaconModules:h,power:v,pollution:y}});this.stepDetails=n2(()=>{let e=this.steps(),n=this.settingsStore.settings(),a=this.recipesStore.adjustedDataset();return e.reduce((i,o)=>{let s=[],l=[],u=[],h=[],v=[];if(o.itemId!=null&&o.items!=null){let y=o.itemId;s.push("item"),l.push(...e.filter(u1("outputs","recipeId","machines")).filter(z=>z.outputs[y]!=null).map(z=>({step:z,value:z.outputs[y]})));let b=l.reduce((z,R)=>z.sub(R.value),C.one);b.nonzero()&&l.push({inputs:!0,value:b}),l.sort((z,R)=>R.value.sub(z.value).toNumber())}return o.recipeId!=null&&s.push("recipe"),o.machines?.nonzero()&&s.push("machine"),o.itemId!=null?(u=a.itemRecipeIds[o.itemId],u.length&&s.push("recipes"),h=u.filter(y=>!n.excludedRecipeIds.has(y)),v=u.map(y=>({value:y,label:a.recipeRecord[y].name}))):o.recipeId!=null&&(u=[o.recipeId],h=[o.recipeId],v=[{label:a.recipeRecord[o.recipeId].name,value:o.recipeId}]),i[o.id]={tabs:s.map(y=>{let b=`step_${o.id}_${y}_tab`;return{id:b,label:y,command:()=>{history.replaceState({},"",`${window.location.href.replace(/#(.*)$/,"")}#${b}`)}}}),outputs:l,recipeIds:u,recipesEnabled:h,recipeOptions:v},i},{})});this.stepById=n2(()=>{let e=this.steps();return $1(e)});this.stepByItemRecord=n2(()=>this.steps().reduce((n,a)=>(a.itemId!=null&&(n[a.itemId]=a),n),{}));this.stepTree=n2(()=>{let e=this.steps(),n={},a={};for(let i of e){let o=[];if(i.parents){let s=Object.keys(i.parents);s.length===1&&a[s[0]]!=null&&(o=new Array(a[s[0]]+1).fill(!1))}a[i.id]=o.length,n[i.id]=o}for(let i=0;i<e.length;i++){let o=e[i];if(n[o.id].length)for(let s=i+1;s<e.length;s++){let l=e[s];if(n[l.id]){if(n[l.id].length===n[o.id].length){for(let u=i;u<s;u++){let h=e[u];n[h.id]&&(n[h.id][n[o.id].length-1]=!0)}break}else if(n[l.id].length<n[o.id].length)break}}}return n});this.effectivePowerUnit=n2(()=>{let e=this.preferencesStore.powerUnit();if(e!==0)return e;let n=this.steps(),a;for(let i of n)i.power!=null&&(a==null||i.power.lt(a))&&(a=i.power);return a=a??C.zero,a.lt(C(1000n))?1:a.lt(C(1000000n))?2:3});this.recipesModified=n2(()=>{let e=this.recipesStore.state(),n=this.baseObjectives();return{machines:Object.keys(e).some(a=>e[a].fuelId!=null||e[a].machineId!=null||e[a].modules!=null||e[a].overclock!=null)||n.some(a=>a.fuelId!=null||a.machineId!=null||a.modules!=null||a.overclock!=null),beacons:Object.keys(e).some(a=>e[a].beacons!=null)||n.some(a=>a.beacons!=null),cost:Object.keys(e).some(a=>e[a].cost)}});let e=w(F2);this.settingsStore.load$.pipe($2(()=>Qs(this.settingsStore.displayRate,{injector:e}).pipe(Hn(),c1(([n,a])=>n!==a))),yr()).subscribe(([n,a])=>{let i=Kt[a].value.div(Kt[n].value);this.adjustDisplayRate(i)}),G2(()=>{let n=this.baseObjectives(),a=this.settingsStore.dataset(),i=n.map(o=>o4(o)?a.recipeRecord[o.targetId]?.name:a.itemRecord[o.targetId]?.name).find(o=>o!=null);i==null?this.title.setTitle("FactorioLab"):this.title.setTitle(`${i} | FactorioLab`)})}add(e){this.reduce(n=>{let a=1;for(;n[a.toString()]!=null;)a++;let i=a.toString(),o={id:i,type:0};return J(n,{[i]:J(o,e)})})}create(e){let n="1";this.set({[n]:J(e,{id:n})})}remove(e){this.reduce(n=>{n=this._removeEntry(n,e);let a=Object.keys(n).map(i=>n[i]);return this.reduceObjectives(a)})}setOrder(e){this.set(this.reduceObjectives(e))}adjustDisplayRate(e){this.reduce(n=>{let a=J(n),i=Object.keys(a);for(let o of i.map(s=>n[s]).filter(s=>s.type!==2&&(s.unit===0||s.unit===2))){let s=o.value.mul(e);a[o.id]=J(o,{value:s})}return a})}reduceObjectives(e){return e.reduce((n,a,i)=>{let o=(i+1).toString();return n[o]=J(a,{id:o}),n},{})}};X4.\u0275fac=function(n){return new(n||X4)},X4.\u0275prov=P({token:X4,factory:X4.\u0275fac,providedIn:"root"});var b7=X4;var Qi;try{Qi=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Qi=!1}var R1=(()=>{class t{_platformId=w(y4);isBrowser=this._platformId?xo(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Qi)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var e6;function qz(){if(e6==null){let t=typeof document<"u"?document.head:null;e6=!!(t&&(t.createShadowRoot||t.attachShadow))}return e6}function z7(t){if(qz()){let r=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&r instanceof ShadowRoot)return r}return null}function zn(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let r=t.shadowRoot.activeElement;if(r===t)break;t=r}return t}function de(t){return t.composedPath?t.composedPath()[0]:t.target}function t6(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Ln=new WeakMap,p0=(()=>{class t{_appRef;_injector=w(F2);_environmentInjector=w(k1);load(e){let n=this._appRef=this._appRef||this._injector.get(Ve),a=Ln.get(n);a||(a={loaders:new Set,refs:[]},Ln.set(n,a),n.onDestroy(()=>{Ln.get(n)?.refs.forEach(i=>i.destroy()),Ln.delete(n)})),a.loaders.has(e)||(a.loaders.add(e),a.refs.push(O0(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Y2(t){return t==null?"":typeof t=="string"?t:`${t}px`}function r6(t){return Array.isArray(t)?t:[t]}function Gz(t,r=0){return Yz(t)?Number(t):arguments.length===2?r:0}function Yz(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Y3(t){return t instanceof g1?t.nativeElement:t}var Xz=new _2("cdk-dir-doc",{providedIn:"root",factory:Kz});function Kz(){return w(g2)}var Zz=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Jz(t){let r=t?.toLowerCase()||"";return r==="auto"&&typeof navigator<"u"&&navigator?.language?Zz.test(navigator.language)?"rtl":"ltr":r==="rtl"?"rtl":"ltr"}var X3=(()=>{class t{get value(){return this.valueSignal()}valueSignal=H1("ltr");change=new J2;constructor(){let e=w(Xz,{optional:!0});if(e){let n=e.body?e.body.dir:null,a=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(Jz(n||a||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var K4;function L7(){if(K4==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return K4=!1,K4;if("scrollBehavior"in document.documentElement.style)K4=!0;else{let t=Element.prototype.scrollTo;t?K4=!/\{\s*\[native code\]\s*\}/.test(t.toString()):K4=!1}}return K4}var m0=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=f1({type:t});static \u0275inj=l1({})}return t})();var Qz=20,n6=(()=>{class t{_ngZone=w(V2);_platform=w(R1);_renderer=w(X1).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new N2;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=Qz){return this._platform.isBrowser?new Pe(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let a=e>0?this._scrolled.pipe(Bn(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):s2()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let a=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(c1(i=>!i||a.indexOf(i)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((a,i)=>{this._scrollableContainsElement(i,e)&&n.push(i)}),n}_scrollableContainsElement(e,n){let a=Y3(n),i=e.getElementRef().nativeElement;do if(a==i)return!0;while(a=a.parentElement);return!1}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var eL=20,h0=(()=>{class t{_platform=w(R1);_listeners;_viewportSize;_change=new N2;_document=w(g2);constructor(){let e=w(V2),n=w(X1).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let a=i=>this._change.next(i);this._listeners=[n.listen("window","resize",a),n.listen("window","orientationchange",a)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:a}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+a,right:e.left+n,height:a,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),a=e.documentElement,i=a.getBoundingClientRect(),o=-i.top||e.body.scrollTop||n.scrollY||a.scrollTop||0,s=-i.left||e.body.scrollLeft||n.scrollX||a.scrollLeft||0;return{top:o,left:s}}change(e=eL){return e>0?this._change.pipe(Bn(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var w7=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=f1({type:t});static \u0275inj=l1({})}return t})(),a6=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=f1({type:t});static \u0275inj=l1({imports:[m0,w7,m0,w7]})}return t})();var g0=class{_attachedHost;attach(r){return this._attachedHost=r,r.attach(this)}detach(){let r=this._attachedHost;r!=null&&(this._attachedHost=null,r.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(r){this._attachedHost=r}},K3=class extends g0{component;viewContainerRef;injector;projectableNodes;constructor(r,e,n,a){super(),this.component=r,this.viewContainerRef=e,this.injector=n,this.projectableNodes=a}},Z4=class extends g0{templateRef;viewContainerRef;context;injector;constructor(r,e,n,a){super(),this.templateRef=r,this.viewContainerRef=e,this.context=n,this.injector=a}get origin(){return this.templateRef.elementRef}attach(r,e=this.context){return this.context=e,super.attach(r)}detach(){return this.context=void 0,super.detach()}},i6=class extends g0{element;constructor(r){super(),this.element=r instanceof g1?r.nativeElement:r}},Z3=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(r){if(r instanceof K3)return this._attachedPortal=r,this.attachComponentPortal(r);if(r instanceof Z4)return this._attachedPortal=r,this.attachTemplatePortal(r);if(this.attachDomPortal&&r instanceof i6)return this._attachedPortal=r,this.attachDomPortal(r)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(r){this._disposeFn=r}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},Cn=class extends Z3{outletElement;_appRef;_defaultInjector;constructor(r,e,n){super(),this.outletElement=r,this._appRef=e,this._defaultInjector=n}attachComponentPortal(r){let e;if(r.viewContainerRef){let n=r.injector||r.viewContainerRef.injector,a=n.get(w0,null,{optional:!0})||void 0;e=r.viewContainerRef.createComponent(r.component,{index:r.viewContainerRef.length,injector:n,ngModuleRef:a,projectableNodes:r.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let n=this._appRef,a=r.injector||this._defaultInjector||F2.NULL,i=a.get(k1,n.injector);e=O0(r.component,{elementInjector:a,environmentInjector:i,projectableNodes:r.projectableNodes||void 0}),n.attachView(e.hostView),this.setDisposeFn(()=>{n.viewCount>0&&n.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=r,e}attachTemplatePortal(r){let e=r.viewContainerRef,n=e.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return n.rootNodes.forEach(a=>this.outletElement.appendChild(a)),n.detectChanges(),this.setDisposeFn(()=>{let a=e.indexOf(n);a!==-1&&e.remove(a)}),this._attachedPortal=r,n}attachDomPortal=r=>{let e=r.element;e.parentNode;let n=this.outletElement.ownerDocument.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=r,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(r){return r.hostView.rootNodes[0]}};var o6=(()=>{class t extends Z3{_moduleRef=w(w0,{optional:!0});_document=w(g2);_viewContainerRef=w(He);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new J2;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,a=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let a=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(a,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(n,a)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||t)};static \u0275dir=_1({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o3]})}return t})();var s6=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=f1({type:t});static \u0275inj=l1({})}return t})();var c6={},wn=(()=>{class t{_appId=w(ot);getId(e){return this._appId!=="ng"&&(e+=this._appId),c6.hasOwnProperty(e)||(c6[e]=0),`${e}${c6[e]++}`}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Sn(t,...r){return r.length?r.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var S7=L7();function v6(t){return new l6(t.get(h0),t.get(g2))}var l6=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(r,e){this._viewportRuler=r,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let r=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=r.style.left||"",this._previousHTMLStyles.top=r.style.top||"",r.style.left=Y2(-this._previousScrollPosition.left),r.style.top=Y2(-this._previousScrollPosition.top),r.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let r=this._document.documentElement,e=this._document.body,n=r.style,a=e.style,i=n.scrollBehavior||"",o=a.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,r.classList.remove("cdk-global-scrollblock"),S7&&(n.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),S7&&(n.scrollBehavior=i,a.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};function rL(t,r){return new f6(t.get(n6),t.get(V2),t.get(h0),r)}var f6=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(r,e,n,a){this._scrollDispatcher=r,this._ngZone=e,this._viewportRuler=n,this._config=a}attach(r){this._overlayRef,this._overlayRef=r}enable(){if(this._scrollSubscription)return;let r=this._scrollDispatcher.scrolled(0).pipe(c1(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=r.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=r.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var xn=class{enable(){}disable(){}attach(){}};function u6(t,r){return r.some(e=>{let n=t.bottom<e.top,a=t.top>e.bottom,i=t.right<e.left,o=t.left>e.right;return n||a||i||o})}function x7(t,r){return r.some(e=>{let n=t.top<e.top,a=t.bottom>e.bottom,i=t.left<e.left,o=t.right>e.right;return n||a||i||o})}function _6(t,r){return new d6(t.get(n6),t.get(h0),t.get(V2),r)}var d6=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(r,e,n,a){this._scrollDispatcher=r,this._viewportRuler=e,this._ngZone=n,this._config=a}attach(r){this._overlayRef,this._overlayRef=r}enable(){if(!this._scrollSubscription){let r=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(r).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:a}=this._viewportRuler.getViewportSize();u6(e,[{width:n,height:a,bottom:a,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},nL=(()=>{class t{_injector=w(F2);constructor(){}noop=()=>new xn;close=e=>rL(this._injector,e);block=()=>v6(this._injector);reposition=e=>_6(this._injector,e);static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),J3=class{positionStrategy;scrollStrategy=new xn;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(r){if(r){let e=Object.keys(r);for(let n of e)r[n]!==void 0&&(this[n]=r[n])}}};var p6=class{connectionPair;scrollableViewProperties;constructor(r,e){this.connectionPair=r,this.scrollableViewProperties=e}};var T7=(()=>{class t{_attachedOverlays=[];_document=w(g2);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aL=(()=>{class t extends T7{_ngZone=w(V2);_renderer=w(X1).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let n=this._attachedOverlays;for(let a=n.length-1;a>-1;a--)if(n[a]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[a]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(a){return(e||(e=h1(t)))(a||t)}})();static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iL=(()=>{class t extends T7{_platform=w(R1);_ngZone=w(V2);_renderer=w(X1).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let n=this._document.body,a={capture:!0},i=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[i.listen(n,"pointerdown",this._pointerDownListener,a),i.listen(n,"click",this._clickListener,a),i.listen(n,"auxclick",this._clickListener,a),i.listen(n,"contextmenu",this._clickListener,a)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=de(e)};_clickListener=e=>{let n=de(e),a=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let i=this._attachedOverlays.slice();for(let o=i.length-1;o>-1;o--){let s=i[o];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(D7(s.overlayElement,n)||D7(s.overlayElement,a))break;let l=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(a){return(e||(e=h1(t)))(a||t)}})();static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function D7(t,r){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=r;for(;n;){if(n===t)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var I7=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=v1({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,a){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return t})(),Dn=(()=>{class t{_platform=w(R1);_containerElement;_document=w(g2);_styleLoader=w(p0);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||t6()){let a=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let i=0;i<a.length;i++)a[i].remove()}let n=this._document.createElement("div");n.classList.add(e),t6()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(I7)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),m6=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(r,e,n,a){this._renderer=e,this._ngZone=n,this.element=r.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",a)}detach(){this._ngZone.runOutsideAngular(()=>{let r=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(r,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),r.style.pointerEvents="none",r.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},v0=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new N2;_attachments=new N2;_detachments=new N2;_positionStrategy;_scrollStrategy;_locationChanges=re.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new N2;_outsidePointerEvents=new N2;_afterNextRenderRef;constructor(r,e,n,a,i,o,s,l,u,h=!1,v,y){this._portalOutlet=r,this._host=e,this._pane=n,this._config=a,this._ngZone=i,this._keyboardDispatcher=o,this._document=s,this._location=l,this._outsideClickDispatcher=u,this._animationsDisabled=h,this._injector=v,this._renderer=y,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(r){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(r);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=be(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let r=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),r}dispose(){let r=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,r&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(r){r!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=r,this.hasAttached()&&(r.attach(this),this.updatePosition()))}updateSize(r){this._config=$($({},this._config),r),this._updateElementSize()}setDirection(r){this._config=U2($({},this._config),{direction:r}),this._updateElementDirection()}addPanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!0)}removePanelClass(r){this._pane&&this._toggleClasses(this._pane,r,!1)}getDirection(){let r=this._config.direction;return r?typeof r=="string"?r:r.value:"ltr"}updateScrollStrategy(r){r!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=r,this.hasAttached()&&(r.attach(this),r.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let r=this._pane.style;r.width=Y2(this._config.width),r.height=Y2(this._config.height),r.minWidth=Y2(this._config.minWidth),r.minHeight=Y2(this._config.minHeight),r.maxWidth=Y2(this._config.maxWidth),r.maxHeight=Y2(this._config.maxHeight)}_togglePointerEvents(r){this._pane.style.pointerEvents=r?"":"none"}_attachBackdrop(){let r="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new m6(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(r))}):this._backdropRef.element.classList.add(r)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(r,e,n){let a=r6(e||[]).filter(i=>!!i);a.length&&(n?r.classList.add(...a):r.classList.remove(...a))}_detachContentWhenEmpty(){let r=!1;try{this._detachContentAfterRenderRef=be(()=>{r=!0,this._detachContent()},{injector:this._injector})}catch(e){if(r)throw e;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let r=this._scrollStrategy;r?.disable(),r?.detach?.()}},k7="cdk-overlay-connected-position-bounding-box",oL=/([A-Za-z%]+)$/;function O7(t,r){return new h6(r,t.get(h0),t.get(g2),t.get(R1),t.get(Dn))}var h6=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new N2;_resizeSubscription=re.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(r,e,n,a,i){this._viewportRuler=e,this._document=n,this._platform=a,this._overlayContainer=i,this.setOrigin(r)}attach(r){this._overlayRef&&this._overlayRef,this._validatePositions(),r.hostElement.classList.add(k7),this._overlayRef=r,this._boundingBox=r.hostElement,this._pane=r.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let r=this._originRect,e=this._overlayRect,n=this._viewportRect,a=this._containerRect,i=[],o;for(let s of this._preferredPositions){let l=this._getOriginPoint(r,a,s),u=this._getOverlayPoint(l,e,s),h=this._getOverlayFit(u,e,n,s);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,l);return}if(this._canFitWithFlexibleDimensions(h,u,n)){i.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)});continue}(!o||o.overlayFit.visibleArea<h.visibleArea)&&(o={overlayFit:h,overlayPoint:u,originPoint:l,position:s,overlayRect:e})}if(i.length){let s=null,l=-1;for(let u of i){let h=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);h>l&&(l=h,s=u)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&J4(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(k7),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let r=this._lastPosition;if(r){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,r);this._applyPosition(r,e)}else this.apply()}withScrollableContainers(r){return this._scrollables=r,this}withPositions(r){return this._preferredPositions=r,r.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(r){return this._viewportMargin=r,this}withFlexibleDimensions(r=!0){return this._hasFlexibleDimensions=r,this}withGrowAfterOpen(r=!0){return this._growAfterOpen=r,this}withPush(r=!0){return this._canPush=r,this}withLockedPosition(r=!0){return this._positionLocked=r,this}setOrigin(r){return this._origin=r,this}withDefaultOffsetX(r){return this._offsetX=r,this}withDefaultOffsetY(r){return this._offsetY=r,this}withTransformOriginOn(r){return this._transformOriginSelector=r,this}_getOriginPoint(r,e,n){let a;if(n.originX=="center")a=r.left+r.width/2;else{let o=this._isRtl()?r.right:r.left,s=this._isRtl()?r.left:r.right;a=n.originX=="start"?o:s}e.left<0&&(a-=e.left);let i;return n.originY=="center"?i=r.top+r.height/2:i=n.originY=="top"?r.top:r.bottom,e.top<0&&(i-=e.top),{x:a,y:i}}_getOverlayPoint(r,e,n){let a;n.overlayX=="center"?a=-e.width/2:n.overlayX==="start"?a=this._isRtl()?-e.width:0:a=this._isRtl()?0:-e.width;let i;return n.overlayY=="center"?i=-e.height/2:i=n.overlayY=="top"?0:-e.height,{x:r.x+a,y:r.y+i}}_getOverlayFit(r,e,n,a){let i=E7(e),{x:o,y:s}=r,l=this._getOffset(a,"x"),u=this._getOffset(a,"y");l&&(o+=l),u&&(s+=u);let h=0-o,v=o+i.width-n.width,y=0-s,b=s+i.height-n.height,z=this._subtractOverflows(i.width,h,v),R=this._subtractOverflows(i.height,y,b),I=z*R;return{visibleArea:I,isCompletelyWithinViewport:i.width*i.height===I,fitsInViewportVertically:R===i.height,fitsInViewportHorizontally:z==i.width}}_canFitWithFlexibleDimensions(r,e,n){if(this._hasFlexibleDimensions){let a=n.bottom-e.y,i=n.right-e.x,o=N7(this._overlayRef.getConfig().minHeight),s=N7(this._overlayRef.getConfig().minWidth),l=r.fitsInViewportVertically||o!=null&&o<=a,u=r.fitsInViewportHorizontally||s!=null&&s<=i;return l&&u}return!1}_pushOverlayOnScreen(r,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:r.x+this._previousPushAmount.x,y:r.y+this._previousPushAmount.y};let a=E7(e),i=this._viewportRect,o=Math.max(r.x+a.width-i.width,0),s=Math.max(r.y+a.height-i.height,0),l=Math.max(i.top-n.top-r.y,0),u=Math.max(i.left-n.left-r.x,0),h=0,v=0;return a.width<=i.width?h=u||-o:h=r.x<this._viewportMargin?i.left-n.left-r.x:0,a.height<=i.height?v=l||-s:v=r.y<this._viewportMargin?i.top-n.top-r.y:0,this._previousPushAmount={x:h,y:v},{x:r.x+h,y:r.y+v}}_applyPosition(r,e){if(this._setTransformOrigin(r),this._setOverlayElementStyles(e,r),this._setBoundingBoxStyles(e,r),r.panelClass&&this._addPanelClasses(r.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(r!==this._lastPosition||!this._lastScrollVisibility||!sL(this._lastScrollVisibility,n)){let a=new p6(r,n);this._positionChanges.next(a)}this._lastScrollVisibility=n}this._lastPosition=r,this._isInitialRender=!1}_setTransformOrigin(r){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,a=r.overlayY;r.overlayX==="center"?n="center":this._isRtl()?n=r.overlayX==="start"?"right":"left":n=r.overlayX==="start"?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${a}`}_calculateBoundingBoxRect(r,e){let n=this._viewportRect,a=this._isRtl(),i,o,s;if(e.overlayY==="top")o=r.y,i=n.height-o+this._viewportMargin;else if(e.overlayY==="bottom")s=n.height-r.y+this._viewportMargin*2,i=n.height-s+this._viewportMargin;else{let b=Math.min(n.bottom-r.y+n.top,r.y),z=this._lastBoundingBoxSize.height;i=b*2,o=r.y-b,i>z&&!this._isInitialRender&&!this._growAfterOpen&&(o=r.y-z/2)}let l=e.overlayX==="start"&&!a||e.overlayX==="end"&&a,u=e.overlayX==="end"&&!a||e.overlayX==="start"&&a,h,v,y;if(u)y=n.width-r.x+this._viewportMargin*2,h=r.x-this._viewportMargin;else if(l)v=r.x,h=n.right-r.x;else{let b=Math.min(n.right-r.x+n.left,r.x),z=this._lastBoundingBoxSize.width;h=b*2,v=r.x-b,h>z&&!this._isInitialRender&&!this._growAfterOpen&&(v=r.x-z/2)}return{top:o,left:v,bottom:s,right:y,width:h,height:i}}_setBoundingBoxStyles(r,e){let n=this._calculateBoundingBoxRect(r,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{let i=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;a.height=Y2(n.height),a.top=Y2(n.top),a.bottom=Y2(n.bottom),a.width=Y2(n.width),a.left=Y2(n.left),a.right=Y2(n.right),e.overlayX==="center"?a.alignItems="center":a.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?a.justifyContent="center":a.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",i&&(a.maxHeight=Y2(i)),o&&(a.maxWidth=Y2(o))}this._lastBoundingBoxSize=n,J4(this._boundingBox.style,a)}_resetBoundingBoxStyles(){J4(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){J4(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(r,e){let n={},a=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(a){let h=this._viewportRuler.getViewportScrollPosition();J4(n,this._getExactOverlayY(e,r,h)),J4(n,this._getExactOverlayX(e,r,h))}else n.position="static";let s="",l=this._getOffset(e,"x"),u=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),u&&(s+=`translateY(${u}px)`),n.transform=s.trim(),o.maxHeight&&(a?n.maxHeight=Y2(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(a?n.maxWidth=Y2(o.maxWidth):i&&(n.maxWidth="")),J4(this._pane.style,n)}_getExactOverlayY(r,e,n){let a={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,r);if(this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),r.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;a.bottom=`${o-(i.y+this._overlayRect.height)}px`}else a.top=Y2(i.y);return a}_getExactOverlayX(r,e,n){let a={left:"",right:""},i=this._getOverlayPoint(e,this._overlayRect,r);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let o;if(this._isRtl()?o=r.overlayX==="end"?"left":"right":o=r.overlayX==="end"?"right":"left",o==="right"){let s=this._document.documentElement.clientWidth;a.right=`${s-(i.x+this._overlayRect.width)}px`}else a.left=Y2(i.x);return a}_getScrollVisibility(){let r=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:x7(r,n),isOriginOutsideView:u6(r,n),isOverlayClipped:x7(e,n),isOverlayOutsideView:u6(e,n)}}_subtractOverflows(r,...e){return e.reduce((n,a)=>n-Math.max(a,0),r)}_getNarrowedViewportRect(){let r=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+r-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:r-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(r,e){return e==="x"?r.offsetX==null?this._offsetX:r.offsetX:r.offsetY==null?this._offsetY:r.offsetY}_validatePositions(){}_addPanelClasses(r){this._pane&&r6(r).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(r=>{this._pane.classList.remove(r)}),this._appliedPanelClasses=[])}_getOriginRect(){let r=this._origin;if(r instanceof g1)return r.nativeElement.getBoundingClientRect();if(r instanceof Element)return r.getBoundingClientRect();let e=r.width||0,n=r.height||0;return{top:r.y,bottom:r.y+n,left:r.x,right:r.x+e,height:n,width:e}}};function J4(t,r){for(let e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);return t}function N7(t){if(typeof t!="number"&&t!=null){let[r,e]=t.split(oL);return!e||e==="px"?parseFloat(r):null}return t||null}function E7(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function sL(t,r){return t===r?!0:t.isOriginClipped===r.isOriginClipped&&t.isOriginOutsideView===r.isOriginOutsideView&&t.isOverlayClipped===r.isOverlayClipped&&t.isOverlayOutsideView===r.isOverlayOutsideView}var IV=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],OV=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}],R7="cdk-global-overlay-wrapper";function y6(t){return new g6}var g6=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(r){let e=r.getConfig();this._overlayRef=r,this._width&&!e.width&&r.updateSize({width:this._width}),this._height&&!e.height&&r.updateSize({height:this._height}),r.hostElement.classList.add(R7),this._isDisposed=!1}top(r=""){return this._bottomOffset="",this._topOffset=r,this._alignItems="flex-start",this}left(r=""){return this._xOffset=r,this._xPosition="left",this}bottom(r=""){return this._topOffset="",this._bottomOffset=r,this._alignItems="flex-end",this}right(r=""){return this._xOffset=r,this._xPosition="right",this}start(r=""){return this._xOffset=r,this._xPosition="start",this}end(r=""){return this._xOffset=r,this._xPosition="end",this}width(r=""){return this._overlayRef?this._overlayRef.updateSize({width:r}):this._width=r,this}height(r=""){return this._overlayRef?this._overlayRef.updateSize({height:r}):this._height=r,this}centerHorizontally(r=""){return this.left(r),this._xPosition="center",this}centerVertically(r=""){return this.top(r),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:a,height:i,maxWidth:o,maxHeight:s}=n,l=(a==="100%"||a==="100vw")&&(!o||o==="100%"||o==="100vw"),u=(i==="100%"||i==="100vh")&&(!s||s==="100%"||s==="100vh"),h=this._xPosition,v=this._xOffset,y=this._overlayRef.getConfig().direction==="rtl",b="",z="",R="";l?R="flex-start":h==="center"?(R="center",y?z=v:b=v):y?h==="left"||h==="end"?(R="flex-end",b=v):(h==="right"||h==="start")&&(R="flex-start",z=v):h==="left"||h==="start"?(R="flex-start",b=v):(h==="right"||h==="end")&&(R="flex-end",z=v),r.position=this._cssPosition,r.marginLeft=l?"0":b,r.marginTop=u?"0":this._topOffset,r.marginBottom=this._bottomOffset,r.marginRight=l?"0":z,e.justifyContent=R,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let r=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(R7),n.justifyContent=n.alignItems=r.marginTop=r.marginBottom=r.marginLeft=r.marginRight=r.position="",this._overlayRef=null,this._isDisposed=!0}},cL=(()=>{class t{_injector=w(F2);constructor(){}global(){return y6()}flexibleConnectedTo(e){return O7(this._injector,e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kn(t,r){t.get(p0).load(I7);let e=t.get(Dn),n=t.get(g2),a=t.get(wn),i=t.get(Ve),o=t.get(X3),s=n.createElement("div"),l=n.createElement("div");l.id=a.getId("cdk-overlay-"),l.classList.add("cdk-overlay-pane"),s.appendChild(l),e.getContainerElement().appendChild(s);let u=new Cn(l,i,t),h=new J3(r),v=t.get(Ue,null,{optional:!0})||t.get(X1).createRenderer(null,null);return h.direction=h.direction||o.value,new v0(u,s,l,h,t.get(V2),t.get(aL),n,t.get(Ye),t.get(iL),r?.disableAnimations??t.get(X6,null,{optional:!0})==="NoopAnimations",t.get(k1),v)}var lL=(()=>{class t{scrollStrategies=w(nL);_positionBuilder=w(cL);_injector=w(F2);constructor(){}create(e){return kn(this._injector,e)}position(){return this._positionBuilder}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fL=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],P7=new _2("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=w(F2);return()=>_6(t)}}),A7=(()=>{class t{elementRef=w(g1);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=_1({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return t})(),PV=(()=>{class t{_dir=w(X3,{optional:!0});_injector=w(F2);_overlayRef;_templatePortal;_backdropSubscription=re.EMPTY;_attachSubscription=re.EMPTY;_detachSubscription=re.EMPTY;_positionSubscription=re.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=w(P7);_disposeOnNavigation=!1;_ngZone=w(V2);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new J2;positionChange=new J2;attach=new J2;detach=new J2;overlayKeydown=new J2;overlayOutsideClick=new J2;constructor(){let e=w(b4),n=w(He);this._templatePortal=new Z4(e,n),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=fL);let e=this._overlayRef=kn(this._injector,this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!Sn(n)&&(n.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let a=this._getOriginElement(),i=de(n);(!a||a!==i&&!a.contains(i))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new J3({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){let n=this.positions.map(a=>({originX:a.originX,originY:a.originY,overlayX:a.overlayX,overlayY:a.overlayY,offsetX:a.offsetX||this.offsetX,offsetY:a.offsetY||this.offsetY,panelClass:a.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=O7(this._injector,this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof A7?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof A7?this.origin.elementRef.nativeElement:this.origin instanceof g1?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(V6(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(n){return new(n||t)};static \u0275dir=_1({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",I1],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",I1],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",I1],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",I1],push:[2,"cdkConnectedOverlayPush","push",I1],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",I1]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[_e]})}return t})();function uL(t){let r=w(F2);return()=>_6(r)}var dL={provide:P7,useFactory:uL},pL=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=f1({type:t});static \u0275inj=l1({providers:[lL,dL],imports:[m0,s6,a6,a6]})}return t})();function F7(t){return t.buttons===0||t.detail===0}function B7(t){let r=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!r&&r.identifier===-1&&(r.radiusX==null||r.radiusX===1)&&(r.radiusY==null||r.radiusY===1)}var _0;function mL(){if(_0==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_0=!0}))}finally{_0=_0||!1}return _0}function j7(t){return mL()?t:!!t.capture}var hL=new _2("cdk-input-modality-detector-options"),gL={ignoreKeys:[18,17,224,91,16]},U7=650,M6={passive:!0,capture:!0},vL=(()=>{class t{_platform=w(R1);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new s1(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(n=>n===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=de(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<U7||(this._modality.next(F7(e)?"keyboard":"mouse"),this._mostRecentTarget=de(e))};_onTouchstart=e=>{if(B7(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=de(e)};constructor(){let e=w(V2),n=w(g2),a=w(hL,{optional:!0});if(this._options=$($({},gL),a),this.modalityDetected=this._modality.pipe(H6(1)),this.modalityChanged=this.modalityDetected.pipe(Be()),this._platform.isBrowser){let i=w(X1).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[i.listen(n,"keydown",this._onKeydown,M6),i.listen(n,"mousedown",this._onMousedown,M6),i.listen(n,"touchstart",this._onTouchstart,M6)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),En=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(En||{}),_L=new _2("cdk-focus-monitor-default-options"),Nn=j7({passive:!0,capture:!0}),H7=(()=>{class t{_ngZone=w(V2);_platform=w(R1);_inputModalityDetector=w(vL);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=w(g2);_stopInputModalityDetector=new N2;constructor(){let e=w(_L,{optional:!0});this._detectionMode=e?.detectionMode||En.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let n=de(e);for(let a=n;a;a=a.parentElement)e.type==="focus"?this._onFocus(e,a):this._onBlur(e,a)};monitor(e,n=!1){let a=Y3(e);if(!this._platform.isBrowser||a.nodeType!==1)return s2();let i=z7(a)||this._document,o=this._elementInfo.get(a);if(o)return n&&(o.checkChildren=!0),o.subject;let s={checkChildren:n,subject:new N2,rootNode:i};return this._elementInfo.set(a,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){let n=Y3(e),a=this._elementInfo.get(n);a&&(a.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(a))}focusVia(e,n,a){let i=Y3(e),o=this._document.activeElement;i===o?this._getClosestElementsInfo(i).forEach(([s,l])=>this._originChanged(s,n,l)):(this._setOrigin(n),typeof i.focus=="function"&&i.focus(a))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===En.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===En.IMMEDIATE){clearTimeout(this._originTimeoutId);let a=this._originFromTouchInteraction?U7:1;this._originTimeoutId=setTimeout(()=>this._origin=null,a)}})}_onFocus(e,n){let a=this._elementInfo.get(n),i=de(e);!a||!a.checkChildren&&n!==i||this._originChanged(n,this._getFocusOrigin(i),a)}_onBlur(e,n){let a=this._elementInfo.get(n);!a||a.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(a,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,a=this._rootNodeFocusListenerCount.get(n)||0;a||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,Nn),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,Nn)}),this._rootNodeFocusListenerCount.set(n,a+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(je(this._stopInputModalityDetector)).subscribe(i=>{this._setOrigin(i,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let a=this._rootNodeFocusListenerCount.get(n);a>1?this._rootNodeFocusListenerCount.set(n,a-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Nn),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Nn),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,a){this._setClasses(e,n),this._emitOrigin(a,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((a,i)=>{(i===e||a.checkChildren&&i.contains(e))&&n.push([i,a])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:a}=this._inputModalityDetector;if(a!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let i=e.labels;if(i){for(let o=0;o<i.length;o++)if(i[o].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var V7=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=v1({type:t,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(n,a){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return t})();var z6=(()=>{class t{_platform=w(R1);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return ML(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let n=yL(DL(e));if(n&&($7(n)===-1||!this.isVisible(n)))return!1;let a=e.nodeName.toLowerCase(),i=$7(e);return e.hasAttribute("contenteditable")?i!==-1:a==="iframe"||a==="object"||this._platform.WEBKIT&&this._platform.IOS&&!SL(e)?!1:a==="audio"?e.hasAttribute("controls")?i!==-1:!1:a==="video"?i===-1?!1:i!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,n){return xL(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yL(t){try{return t.frameElement}catch{return null}}function ML(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function bL(t){let r=t.nodeName.toLowerCase();return r==="input"||r==="select"||r==="button"||r==="textarea"}function zL(t){return CL(t)&&t.type=="hidden"}function LL(t){return wL(t)&&t.hasAttribute("href")}function CL(t){return t.nodeName.toLowerCase()=="input"}function wL(t){return t.nodeName.toLowerCase()=="a"}function W7(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let r=t.getAttribute("tabindex");return!!(r&&!isNaN(parseInt(r,10)))}function $7(t){if(!W7(t))return null;let r=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r}function SL(t){let r=t.nodeName.toLowerCase(),e=r==="input"&&t.type;return e==="text"||e==="password"||r==="select"||r==="textarea"}function xL(t){return zL(t)?!1:bL(t)||LL(t)||t.hasAttribute("contenteditable")||W7(t)}function DL(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var b6=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_enabled=!0;constructor(r,e,n,a,i=!1,o){this._element=r,this._checker=e,this._ngZone=n,this._document=a,this._injector=o,i||this.attachAnchors()}destroy(){let r=this._startAnchor,e=this._endAnchor;r&&(r.removeEventListener("focus",this.startAnchorListener),r.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(r)))})}focusFirstTabbableElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(r)))})}focusLastTabbableElementWhenReady(r){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(r)))})}_getRegionBoundary(r){let e=this._element.querySelectorAll(`[cdk-focus-region-${r}], [cdkFocusRegion${r}], [cdk-focus-${r}]`);return r=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(r){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let n=this._getFirstTabbableElement(e);return n?.focus(r),!!n}return e.focus(r),!0}return this.focusFirstTabbableElement(r)}focusFirstTabbableElement(r){let e=this._getRegionBoundary("start");return e&&e.focus(r),!!e}focusLastTabbableElement(r){let e=this._getRegionBoundary("end");return e&&e.focus(r),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let e=r.children;for(let n=0;n<e.length;n++){let a=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(a)return a}return null}_getLastTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;let e=r.children;for(let n=e.length-1;n>=0;n--){let a=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(a)return a}return null}_createAnchor(){let r=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,r),r.classList.add("cdk-visually-hidden"),r.classList.add("cdk-focus-trap-anchor"),r.setAttribute("aria-hidden","true"),r}_toggleAnchorTabIndex(r,e){r?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(r){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_executeOnStable(r){this._injector?be(r,{injector:this._injector}):setTimeout(r)}},q7=(()=>{class t{_checker=w(z6);_ngZone=w(V2);_document=w(g2);_injector=w(F2);constructor(){w(p0).load(V7)}create(e,n=!1){return new b6(e,this._checker,this._ngZone,this._document,n,this._injector)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kL(t,r){}var Q3=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var NL=(()=>{class t extends Z3{_elementRef=w(g1);_focusTrapFactory=w(q7);_config;_interactivityChecker=w(z6);_ngZone=w(V2);_focusMonitor=w(H7);_renderer=w(Ue);_changeDetectorRef=w(ae);_injector=w(F2);_platform=w(R1);_document=w(g2);_portalOutlet;_focusTrapped=new N2;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=w(Q3,{optional:!0})||new Q3,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let n=this._ariaLabelledByQueue.indexOf(e);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}attachDomPortal=e=>{this._portalOutlet.hasAttached();let n=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),n};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let a=()=>{i(),o(),e.removeAttribute("tabindex")},i=this._renderer.listen(e,"blur",a),o=this._renderer.listen(e,"mousedown",a)})),e.focus(n)}_focusByCssSelector(e,n){let a=this._elementRef.nativeElement.querySelector(e);a&&this._forceFocus(a,n)}_trapFocus(e){this._isDestroyed||be(()=>{let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,n=null;if(typeof e=="string"?n=this._document.querySelector(e):typeof e=="boolean"?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&typeof n.focus=="function"){let a=zn(),i=this._elementRef.nativeElement;(!a||a===this._document.body||a===i||i.contains(a))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus?.(e)}_containsFocus(){let e=this._elementRef.nativeElement,n=zn();return e===n||e.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=zn()))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=v1({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(n,a){if(n&1&&Qn(o6,7),n&2){let i;k0(i=N0())&&(a._portalOutlet=i.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,a){n&2&&L4("id",a._config.id||null)("role",a._config.role)("aria-modal",a._config.ariaModal)("aria-labelledby",a._config.ariaLabel?null:a._ariaLabelledByQueue[0])("aria-label",a._config.ariaLabel)("aria-describedby",a._config.ariaDescribedBy||null)},features:[o3],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,a){n&1&&oo(0,kL,0,0,"ng-template",0)},dependencies:[o6],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return t})(),y0=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new N2;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(r,e){this.overlayRef=r,this.config=e,this.disableClose=e.disableClose,this.backdropClick=r.backdropClick(),this.keydownEvents=r.keydownEvents(),this.outsidePointerEvents=r.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!Sn(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=r.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(r,e){if(this._canClose(r)){let n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(r),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(r="",e=""){return this.overlayRef.updateSize({width:r,height:e}),this}addPanelClass(r){return this.overlayRef.addPanelClass(r),this}removePanelClass(r){return this.overlayRef.removePanelClass(r),this}_canClose(r){let e=this.config;return!!this.containerInstance&&(!e.closePredicate||e.closePredicate(r,e,this.componentInstance))}},EL=new _2("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=w(F2);return()=>v6(t)}}),RL=new _2("DialogData"),AL=new _2("DefaultDialogConfig");function TL(t){let r=H1(t),e=new J2;return{valueSignal:r,get value(){return r()},change:e,ngOnDestroy(){e.complete()}}}var I$=(()=>{class t{_injector=w(F2);_defaultOptions=w(AL,{optional:!0});_parentDialog=w(t,{optional:!0,skipSelf:!0});_overlayContainer=w(Dn);_idGenerator=w(wn);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new N2;_afterOpenedAtThisLevel=new N2;_ariaHiddenElements=new Map;_scrollStrategy=w(EL);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=e3(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(at(void 0)));constructor(){}open(e,n){let a=this._defaultOptions||new Q3;n=$($({},a),n),n.id=n.id||this._idGenerator.getId("cdk-dialog-"),n.id&&this.getDialogById(n.id);let i=this._getOverlayConfig(n),o=kn(this._injector,i),s=new y0(o,n),l=this._attachContainer(o,s,n);if(s.containerInstance=l,!this.openDialogs.length){let u=this._overlayContainer.getContainerElement();l._focusTrapped?l._focusTrapped.pipe(Fe(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(u)}):this._hideNonDialogContentFromAssistiveTechnology(u)}return this._attachDialogContent(e,s,l,n),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){L6(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){L6(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),L6(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let n=new J3({positionStrategy:e.positionStrategy||y6().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation,disableAnimations:e.disableAnimations});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,a){let i=a.injector||a.viewContainerRef?.injector,o=[{provide:Q3,useValue:a},{provide:y0,useValue:n},{provide:v0,useValue:e}],s;a.container?typeof a.container=="function"?s=a.container:(s=a.container.type,o.push(...a.container.providers(a))):s=NL;let l=new K3(s,a.viewContainerRef,F2.create({parent:i||this._injector,providers:o}));return e.attach(l).instance}_attachDialogContent(e,n,a,i){if(e instanceof b4){let o=this._createInjector(i,n,a,void 0),s={$implicit:i.data,dialogRef:n};i.templateContext&&(s=$($({},s),typeof i.templateContext=="function"?i.templateContext():i.templateContext)),a.attachTemplatePortal(new Z4(e,null,s,o))}else{let o=this._createInjector(i,n,a,this._injector),s=a.attachComponentPortal(new K3(e,i.viewContainerRef,o));n.componentRef=s,n.componentInstance=s.instance}}_createInjector(e,n,a,i){let o=e.injector||e.viewContainerRef?.injector,s=[{provide:RL,useValue:e.data},{provide:y0,useValue:n}];return e.providers&&(typeof e.providers=="function"?s.push(...e.providers(n,e,a)):s.push(...e.providers)),e.direction&&(!o||!o.get(X3,null,{optional:!0}))&&s.push({provide:X3,useValue:TL(e.direction)}),F2.create({parent:o||i,providers:s})}_removeOpenDialog(e,n){let a=this.openDialogs.indexOf(e);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,o)=>{i?o.setAttribute("aria-hidden",i):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let n=e.parentElement.children;for(let a=n.length-1;a>-1;a--){let i=n[a];i!==e&&i.nodeName!=="SCRIPT"&&i.nodeName!=="STYLE"&&!i.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(n){return new(n||t)};static \u0275prov=P({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function L6(t,r){let e=t.length;for(;e--;)r(t[e])}export{Le as a,fm as b,dm as c,km as d,rh as e,n1 as f,Se as g,Oa as h,Ot as i,Bs as j,Og as k,Vg as l,K3 as m,o6 as n,F7 as o,B7 as p,z7 as q,de as r,Gz as s,Y3 as t,p0 as u,r6 as v,X3 as w,n6 as x,h0 as y,wn as z,IV as A,OV as B,lL as C,A7 as D,PV as E,pL as F,NL as G,y0 as H,RL as I,AL as J,I$ as K,L8 as L,Wx as M,qx as N,Gx as O,Yx as P,Xx as Q,Kx as R,Zx as S,Jx as T,Qx as U,eD as V,tD as W,rD as X,nD as Y,aD as Z,iD as _,oD as $,yr as aa,C as ba,J as ca,qs as da,Ys as ea,le as fa,Ft as ga,j as ha,lk as ia,Mr as ja,br as ka,Fl as la,g8 as ma,qt as na,xi as oa,Si as pa,$1 as qa,rE as ra,Fr as sa,f8 as ta,M1 as ua,jr as va,v8 as wa,IA as xa,_8 as ya,c4 as za,U3 as Aa,o4 as Ba,G3 as Ca,bn as Da,b7 as Ea};
